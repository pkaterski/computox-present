import{i as Ne,m as ge,f as L,n as Fp,T as tr,V as y1,c0 as fr,c1 as Ye,Z as me,c2 as b1,c3 as Bp,aI as tt,c4 as Kr,c5 as Yr,c6 as zp,c7 as un,c8 as $p,c9 as x1,ca as Hp,cb as w1,a as ta,b as ke,cc as C1,cd as M1,u as S1,y as ce,e as H,ce as gc,K as Zr,S as A1,v as Rn,cf as I1,cg as P1,ch as lt,ci as E1,cj as k1,c as Xu,C as ra,d as Rt,ck as yc,cl as Up,cm as O1,cn as Ie,_ as Gp,co as bc,cp as Wp,cq as Vp,cr as Kp,cs as Dn,bW as _1,a0 as T1,aO as N1,ct as Yp,h as Zp,cu as It,cv as R1,cw as D1,cx as L1,cy as ct,cz as j1,ad as q1,aj as F1,cA as B1,cB as z1,cC as $1,cD as H1,cE as U1,cF as Qp}from"./index.modern-BRq2wPSs.js";import{j as v,a as E,F as Z}from"./emotion-react-jsx-runtime.browser.esm-CvwMqIQc.js";import{s as G1,f as W1,g as V1,h as Xp,_ as B,i as ht,j as rt,u as nt,k as Ce,l as X,m as at,C as K1,n as Y1,e as Jp,o as Z1,B as Q1,p as X1,q as em,r as tm,v as Ju,F as J1,w as ey,M as ty,x as ry,y as ny,z as xc,A as ay,L as oy,D as iy,E as wc,H as sy,I as Cc,J as Mc,K as uy,N as ly,O as rm,Q as cy,R as M,S as dy,T as fy,P as vy,U as nm,V as am,W as An,X as wr,Y as na,Z as de,$ as Yt,a0 as hy,a1 as aa,a2 as py,a3 as om,a4 as el,a5 as my,a6 as gy,a7 as Sc,a8 as oa,a9 as yy,aa as Ln,ab as by,ac as xy,ad as wy,ae as im,af as Or,ag as jn,ah as Cy,ai as tl,aj as sm,ak as My,al as Sy,am as Ay,an as Iy,ao as um,ap as Py,aq as Ey,ar as ky,c as Oy,a as _y,b as bu,d as Ty,t as Ac}from"./index-CsN3g5Io.js";import{r as S,j as ee,e as Fe,g as rl,a as kt,b as ia}from"./index-BHKxpq3j.js";const Ny=["className","component"];function Ry(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:a}=t,o=G1("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(W1);return S.forwardRef(function(u,l){const c=V1(r),d=Xp(u),{className:f,component:h="div"}=d,p=Ne(d,Ny);return ee.jsx(o,B({as:h,ref:l,className:Fe(f,a?a(n):n),theme:e&&c[e]||c},p))})}function _a(t,e){var r,n;return S.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function Dy(t){return ht("MuiTypography",t)}rt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ly=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],jy=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:a,variant:o,classes:i}=t,s={root:["root",o,t.align!=="inherit"&&`align${X(e)}`,r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return at(s,Dy,i)},qy=Ce("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${X(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>B({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Ic={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Fy={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},By=t=>Fy[t]||t,Rr=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiTypography"}),a=By(n.color),o=Xp(B({},n,{color:a})),{align:i="inherit",className:s,component:u,gutterBottom:l=!1,noWrap:c=!1,paragraph:d=!1,variant:f="body1",variantMapping:h=Ic}=o,p=Ne(o,Ly),m=B({},o,{align:i,color:a,className:s,component:u,gutterBottom:l,noWrap:c,paragraph:d,variant:f,variantMapping:h}),y=u||(d?"p":h[f]||Ic[f])||"span",g=jy(m);return ee.jsx(qy,B({as:y,ref:r,ownerState:m,className:Fe(g.root,s)},p))}),zy=rt("MuiBox",["root"]),$y=Jp(),lm=Ry({themeId:Y1,defaultTheme:$y,defaultClassName:zy.root,generateClassName:K1.generate});function Hy(t){return ht("MuiButtonGroup",t)}const ve=rt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Uy=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Gy=(t,e)=>{const{ownerState:r}=t;return[{[`& .${ve.grouped}`]:e.grouped},{[`& .${ve.grouped}`]:e[`grouped${X(r.orientation)}`]},{[`& .${ve.grouped}`]:e[`grouped${X(r.variant)}`]},{[`& .${ve.grouped}`]:e[`grouped${X(r.variant)}${X(r.orientation)}`]},{[`& .${ve.grouped}`]:e[`grouped${X(r.variant)}${X(r.color)}`]},{[`& .${ve.firstButton}`]:e.firstButton},{[`& .${ve.lastButton}`]:e.lastButton},{[`& .${ve.middleButton}`]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]},Wy=t=>{const{classes:e,color:r,disabled:n,disableElevation:a,fullWidth:o,orientation:i,variant:s}=t,u={root:["root",s,i==="vertical"&&"vertical",o&&"fullWidth",a&&"disableElevation"],grouped:["grouped",`grouped${X(i)}`,`grouped${X(s)}`,`grouped${X(s)}${X(i)}`,`grouped${X(s)}${X(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return at(u,Hy,e)},Vy=Ce("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Gy})(({theme:t,ownerState:e})=>B({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{[`& .${ve.grouped}`]:B({minWidth:40,"&:hover":B({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),[`& .${ve.firstButton},& .${ve.middleButton}`]:B({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ve.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ve.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:em.alpha(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${ve.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${ve.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":B({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${ve.lastButton},& .${ve.middleButton}`]:B({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),Ky=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiButtonGroup"}),{children:a,className:o,color:i="primary",component:s="div",disabled:u=!1,disableElevation:l=!1,disableFocusRipple:c=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:h="horizontal",size:p="medium",variant:m="outlined"}=n,y=Ne(n,Uy),g=B({},n,{color:i,component:s,disabled:u,disableElevation:l,disableFocusRipple:c,disableRipple:d,fullWidth:f,orientation:h,size:p,variant:m}),b=Wy(g),w=S.useMemo(()=>({className:b.grouped,color:i,disabled:u,disableElevation:l,disableFocusRipple:c,disableRipple:d,fullWidth:f,size:p,variant:m}),[i,u,l,c,d,f,p,m,b.grouped]),x=Z1(a),C=x.length,A=I=>{const k=I===0,O=I===C-1;return k&&O?"":k?b.firstButton:O?b.lastButton:b.middleButton};return ee.jsx(Vy,B({as:s,role:"group",className:Fe(b.root,o),ref:r,ownerState:g},y,{children:ee.jsx(Q1.Provider,{value:w,children:x.map((I,k)=>ee.jsx(X1.Provider,{value:A(k),children:I},k))})}))});function Yy(t){return ht("MuiDialog",t)}const Ta=rt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),cm=S.createContext({}),Zy=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Qy=Ce(ry,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Xy=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:a,fullScreen:o}=t,i={root:["root"],container:["container",`scroll${X(r)}`],paper:["paper",`paperScroll${X(r)}`,`paperWidth${X(String(n))}`,a&&"paperFullWidth",o&&"paperFullScreen"]};return at(i,Yy,e)},Jy=Ce(ty,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),eb=Ce("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${X(r.scroll)}`]]}})(({ownerState:t})=>B({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),tb=Ce(Ju,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${X(r.scroll)}`],e[`paperWidth${X(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>B({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Ta.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Ta.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Ta.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),rb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialog"}),a=tm(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":s,BackdropComponent:u,BackdropProps:l,children:c,className:d,disableEscapeKeyDown:f=!1,fullScreen:h=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:y,onClick:g,onClose:b,open:w,PaperComponent:x=Ju,PaperProps:C={},scroll:A="paper",TransitionComponent:I=J1,transitionDuration:k=o,TransitionProps:O}=n,_=Ne(n,Zy),P=B({},n,{disableEscapeKeyDown:f,fullScreen:h,fullWidth:p,maxWidth:m,scroll:A}),R=Xy(P),N=S.useRef(),D=$=>{N.current=$.target===$.currentTarget},F=$=>{g&&g($),N.current&&(N.current=null,y&&y($),b&&b($,"backdropClick"))},q=ey(s),z=S.useMemo(()=>({titleId:q}),[q]);return ee.jsx(Jy,B({className:Fe(R.root,d),closeAfterTransition:!0,components:{Backdrop:Qy},componentsProps:{backdrop:B({transitionDuration:k,as:u},l)},disableEscapeKeyDown:f,onClose:b,open:w,ref:r,onClick:F,ownerState:P},_,{children:ee.jsx(I,B({appear:!0,in:w,timeout:k,role:"presentation"},O,{children:ee.jsx(eb,{className:Fe(R.container),onMouseDown:D,ownerState:P,children:ee.jsx(tb,B({as:x,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":q},C,{className:Fe(R.paper,C.className),ownerState:P,children:ee.jsx(cm.Provider,{value:z,children:c})}))})}))}))});function nb(t){return ht("MuiDialogActions",t)}rt("MuiDialogActions",["root","spacing"]);const ab=["className","disableSpacing"],ob=t=>{const{classes:e,disableSpacing:r}=t;return at({root:["root",!r&&"spacing"]},nb,e)},ib=Ce("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>B({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),sb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:o=!1}=n,i=Ne(n,ab),s=B({},n,{disableSpacing:o}),u=ob(s);return ee.jsx(ib,B({className:Fe(u.root,a),ownerState:s,ref:r},i))});function ub(t){return ht("MuiDialogContent",t)}rt("MuiDialogContent",["root","dividers"]);function lb(t){return ht("MuiDialogTitle",t)}const cb=rt("MuiDialogTitle",["root"]),db=["className","dividers"],fb=t=>{const{classes:e,dividers:r}=t;return at({root:["root",r&&"dividers"]},ub,e)},vb=Ce("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>B({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${cb.root} + &`]:{paddingTop:0}})),hb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialogContent"}),{className:a,dividers:o=!1}=n,i=Ne(n,db),s=B({},n,{dividers:o}),u=fb(s);return ee.jsx(vb,B({className:Fe(u.root,a),ownerState:s,ref:r},i))}),pb=["className","id"],mb=t=>{const{classes:e}=t;return at({root:["root"]},lb,e)},gb=Ce(Rr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),yb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiDialogTitle"}),{className:a,id:o}=n,i=Ne(n,pb),s=n,u=mb(s),{titleId:l=o}=S.useContext(cm);return ee.jsx(gb,B({component:"h2",className:Fe(u.root,a),ownerState:s,ref:r,variant:"h6",id:o??l},i))});function bb(t){return ht("MuiFormControl",t)}rt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xb=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wb=t=>{const{classes:e,margin:r,fullWidth:n}=t,a={root:["root",r!=="none"&&`margin${X(r)}`,n&&"fullWidth"]};return at(a,bb,e)},Cb=Ce("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>B({},e.root,e[`margin${X(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>B({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Mb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiFormControl"}),{children:a,className:o,color:i="primary",component:s="div",disabled:u=!1,error:l=!1,focused:c,fullWidth:d=!1,hiddenLabel:f=!1,margin:h="none",required:p=!1,size:m="medium",variant:y="outlined"}=n,g=Ne(n,xb),b=B({},n,{color:i,component:s,disabled:u,error:l,fullWidth:d,hiddenLabel:f,margin:h,required:p,size:m,variant:y}),w=wb(b),[x,C]=S.useState(()=>{let N=!1;return a&&S.Children.forEach(a,D=>{if(!_a(D,["Input","Select"]))return;const F=_a(D,["Select"])?D.props.input:D;F&&ny(F.props)&&(N=!0)}),N}),[A,I]=S.useState(()=>{let N=!1;return a&&S.Children.forEach(a,D=>{_a(D,["Input","Select"])&&(xc(D.props,!0)||xc(D.props.inputProps,!0))&&(N=!0)}),N}),[k,O]=S.useState(!1);u&&k&&O(!1);const _=c!==void 0&&!u?c:k;let P;const R=S.useMemo(()=>({adornedStart:x,setAdornedStart:C,color:i,disabled:u,error:l,filled:A,focused:_,fullWidth:d,hiddenLabel:f,size:m,onBlur:()=>{O(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{O(!0)},registerEffect:P,required:p,variant:y}),[x,i,u,l,A,_,d,f,P,p,m,y]);return ee.jsx(ay.Provider,{value:R,children:ee.jsx(Cb,B({as:s,ownerState:b,className:Fe(w.root,o),ref:r},g,{children:a}))})}),Sb=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Ab=t=>{const{classes:e,inset:r,primary:n,secondary:a,dense:o}=t;return at({root:["root",r&&"inset",o&&"dense",n&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},iy,e)},Ib=Ce("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${wc.primary}`]:e.primary},{[`& .${wc.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>B({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Pb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiListItemText"}),{children:a,className:o,disableTypography:i=!1,inset:s=!1,primary:u,primaryTypographyProps:l,secondary:c,secondaryTypographyProps:d}=n,f=Ne(n,Sb),{dense:h}=S.useContext(oy);let p=u??a,m=c;const y=B({},n,{disableTypography:i,inset:s,primary:!!p,secondary:!!m,dense:h}),g=Ab(y);return p!=null&&p.type!==Rr&&!i&&(p=ee.jsx(Rr,B({variant:h?"body2":"body1",className:g.primary,component:l!=null&&l.variant?void 0:"span",display:"block"},l,{children:p}))),m!=null&&m.type!==Rr&&!i&&(m=ee.jsx(Rr,B({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},d,{children:m}))),ee.jsxs(Ib,B({className:Fe(g.root,o),ownerState:y,ref:r},f,{children:[p,m]}))});function Eb(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:r=!1,onClose:n,open:a,resumeHideDuration:o}=t,i=sy();S.useEffect(()=>{if(!a)return;function g(b){b.defaultPrevented||(b.key==="Escape"||b.key==="Esc")&&n?.(b,"escapeKeyDown")}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[a,n]);const s=Cc((g,b)=>{n?.(g,b)}),u=Cc(g=>{!n||g==null||i.start(g,()=>{s(null,"timeout")})});S.useEffect(()=>(a&&u(e),i.clear),[a,e,u,i]);const l=g=>{n?.(g,"clickaway")},c=i.clear,d=S.useCallback(()=>{e!=null&&u(o??e*.5)},[e,o,u]),f=g=>b=>{const w=g.onBlur;w?.(b),d()},h=g=>b=>{const w=g.onFocus;w?.(b),c()},p=g=>b=>{const w=g.onMouseEnter;w?.(b),c()},m=g=>b=>{const w=g.onMouseLeave;w?.(b),d()};return S.useEffect(()=>{if(!r&&a)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[r,a,d,c]),{getRootProps:(g={})=>{const b=B({},Mc(t),Mc(g));return B({role:"presentation"},g,b,{onBlur:f(b),onFocus:h(b),onMouseEnter:p(b),onMouseLeave:m(b)})},onClickAway:l}}function kb(t){return ht("MuiSnackbarContent",t)}rt("MuiSnackbarContent",["root","message","action"]);const Ob=["action","className","message","role"],_b=t=>{const{classes:e}=t;return at({root:["root"],action:["action"],message:["message"]},kb,e)},Tb=Ce(Ju,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,r=em.emphasize(t.palette.background.default,e);return B({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Nb=Ce("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),Rb=Ce("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Db=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiSnackbarContent"}),{action:a,className:o,message:i,role:s="alert"}=n,u=Ne(n,Ob),l=n,c=_b(l);return ee.jsxs(Tb,B({role:s,square:!0,elevation:6,className:Fe(c.root,o),ownerState:l,ref:r},u,{children:[ee.jsx(Nb,{className:c.message,ownerState:l,children:i}),a?ee.jsx(Rb,{className:c.action,ownerState:l,children:a}):null]}))});function Lb(t){return ht("MuiSnackbar",t)}rt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const jb=["onEnter","onExited"],qb=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Fb=t=>{const{classes:e,anchorOrigin:r}=t,n={root:["root",`anchorOrigin${X(r.vertical)}${X(r.horizontal)}`]};return at(n,Lb,e)},Pc=Ce("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`anchorOrigin${X(r.anchorOrigin.vertical)}${X(r.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const r={left:"50%",right:"auto",transform:"translateX(-50%)"};return B({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:B({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&r,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Bb=S.forwardRef(function(e,r){const n=nt({props:e,name:"MuiSnackbar"}),a=tm(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:u}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:c,className:d,ClickAwayListenerProps:f,ContentProps:h,disableWindowBlurListener:p=!1,message:m,open:y,TransitionComponent:g=uy,transitionDuration:b=o,TransitionProps:{onEnter:w,onExited:x}={}}=n,C=Ne(n.TransitionProps,jb),A=Ne(n,qb),I=B({},n,{anchorOrigin:{vertical:s,horizontal:u},autoHideDuration:l,disableWindowBlurListener:p,TransitionComponent:g,transitionDuration:b}),k=Fb(I),{getRootProps:O,onClickAway:_}=Eb(B({},I)),[P,R]=S.useState(!0),N=ly({elementType:Pc,getSlotProps:O,externalForwardedProps:A,ownerState:I,additionalProps:{ref:r},className:[k.root,d]}),D=q=>{R(!0),x&&x(q)},F=(q,z)=>{R(!1),w&&w(q,z)};return!y&&P?null:ee.jsx(rm,B({onClickAway:_},f,{children:ee.jsx(Pc,B({},N,{children:ee.jsx(g,B({appear:!0,in:y,timeout:b,direction:s==="top"?"down":"up",onEnter:F,onExited:D},C,{children:c||ee.jsx(Db,B({message:m,action:i},h))}))}))}))});var Na,Ec;function nl(){if(Ec)return Na;Ec=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,o=Array(a);++n<a;)o[n]=r(e[n],n,e);return o}return Na=t,Na}var Ra,kc;function zb(){if(kc)return Ra;kc=1;function t(){this.__data__=[],this.size=0}return Ra=t,Ra}var Da,Oc;function al(){if(Oc)return Da;Oc=1;function t(e,r){return e===r||e!==e&&r!==r}return Da=t,Da}var La,_c;function sa(){if(_c)return La;_c=1;var t=al();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return La=e,La}var ja,Tc;function $b(){if(Tc)return ja;Tc=1;var t=sa(),e=Array.prototype,r=e.splice;function n(a){var o=this.__data__,i=t(o,a);if(i<0)return!1;var s=o.length-1;return i==s?o.pop():r.call(o,i,1),--this.size,!0}return ja=n,ja}var qa,Nc;function Hb(){if(Nc)return qa;Nc=1;var t=sa();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return qa=e,qa}var Fa,Rc;function Ub(){if(Rc)return Fa;Rc=1;var t=sa();function e(r){return t(this.__data__,r)>-1}return Fa=e,Fa}var Ba,Dc;function Gb(){if(Dc)return Ba;Dc=1;var t=sa();function e(r,n){var a=this.__data__,o=t(a,r);return o<0?(++this.size,a.push([r,n])):a[o][1]=n,this}return Ba=e,Ba}var za,Lc;function ua(){if(Lc)return za;Lc=1;var t=zb(),e=$b(),r=Hb(),n=Ub(),a=Gb();function o(i){var s=-1,u=i==null?0:i.length;for(this.clear();++s<u;){var l=i[s];this.set(l[0],l[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,za=o,za}var $a,jc;function Wb(){if(jc)return $a;jc=1;var t=ua();function e(){this.__data__=new t,this.size=0}return $a=e,$a}var Ha,qc;function Vb(){if(qc)return Ha;qc=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ha=t,Ha}var Ua,Fc;function Kb(){if(Fc)return Ua;Fc=1;function t(e){return this.__data__.get(e)}return Ua=t,Ua}var Ga,Bc;function Yb(){if(Bc)return Ga;Bc=1;function t(e){return this.__data__.has(e)}return Ga=t,Ga}var Wa,zc;function dm(){if(zc)return Wa;zc=1;var t=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return Wa=t,Wa}var Va,$c;function Ue(){if($c)return Va;$c=1;var t=dm(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Va=r,Va}var Ka,Hc;function Cr(){if(Hc)return Ka;Hc=1;var t=Ue(),e=t.Symbol;return Ka=e,Ka}var Ya,Uc;function Zb(){if(Uc)return Ya;Uc=1;var t=Cr(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function o(i){var s=r.call(i,a),u=i[a];try{i[a]=void 0;var l=!0}catch{}var c=n.call(i);return l&&(s?i[a]=u:delete i[a]),c}return Ya=o,Ya}var Za,Gc;function Qb(){if(Gc)return Za;Gc=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Za=r,Za}var Qa,Wc;function Mr(){if(Wc)return Qa;Wc=1;var t=Cr(),e=Zb(),r=Qb(),n="[object Null]",a="[object Undefined]",o=t?t.toStringTag:void 0;function i(s){return s==null?s===void 0?a:n:o&&o in Object(s)?e(s):r(s)}return Qa=i,Qa}var Xa,Vc;function Zt(){if(Vc)return Xa;Vc=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Xa=t,Xa}var Ja,Kc;function fm(){if(Kc)return Ja;Kc=1;var t=Mr(),e=Zt(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",o="[object Proxy]";function i(s){if(!e(s))return!1;var u=t(s);return u==n||u==a||u==r||u==o}return Ja=i,Ja}var eo,Yc;function Xb(){if(Yc)return eo;Yc=1;var t=Ue(),e=t["__core-js_shared__"];return eo=e,eo}var to,Zc;function Jb(){if(Zc)return to;Zc=1;var t=Xb(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return to=r,to}var ro,Qc;function vm(){if(Qc)return ro;Qc=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ro=r,ro}var no,Xc;function ex(){if(Xc)return no;Xc=1;var t=fm(),e=Jb(),r=Zt(),n=vm(),a=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,i=Function.prototype,s=Object.prototype,u=i.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!r(f)||e(f))return!1;var h=t(f)?c:o;return h.test(n(f))}return no=d,no}var ao,Jc;function tx(){if(Jc)return ao;Jc=1;function t(e,r){return e?.[r]}return ao=t,ao}var oo,ed;function Qt(){if(ed)return oo;ed=1;var t=ex(),e=tx();function r(n,a){var o=e(n,a);return t(o)?o:void 0}return oo=r,oo}var io,td;function ol(){if(td)return io;td=1;var t=Qt(),e=Ue(),r=t(e,"Map");return io=r,io}var so,rd;function la(){if(rd)return so;rd=1;var t=Qt(),e=t(Object,"create");return so=e,so}var uo,nd;function rx(){if(nd)return uo;nd=1;var t=la();function e(){this.__data__=t?t(null):{},this.size=0}return uo=e,uo}var lo,ad;function nx(){if(ad)return lo;ad=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return lo=t,lo}var co,od;function ax(){if(od)return co;od=1;var t=la(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(o){var i=this.__data__;if(t){var s=i[o];return s===e?void 0:s}return n.call(i,o)?i[o]:void 0}return co=a,co}var fo,id;function ox(){if(id)return fo;id=1;var t=la(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var o=this.__data__;return t?o[a]!==void 0:r.call(o,a)}return fo=n,fo}var vo,sd;function ix(){if(sd)return vo;sd=1;var t=la(),e="__lodash_hash_undefined__";function r(n,a){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&a===void 0?e:a,this}return vo=r,vo}var ho,ud;function sx(){if(ud)return ho;ud=1;var t=rx(),e=nx(),r=ax(),n=ox(),a=ix();function o(i){var s=-1,u=i==null?0:i.length;for(this.clear();++s<u;){var l=i[s];this.set(l[0],l[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,ho=o,ho}var po,ld;function ux(){if(ld)return po;ld=1;var t=sx(),e=ua(),r=ol();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return po=n,po}var mo,cd;function lx(){if(cd)return mo;cd=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return mo=t,mo}var go,dd;function ca(){if(dd)return go;dd=1;var t=lx();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return go=e,go}var yo,fd;function cx(){if(fd)return yo;fd=1;var t=ca();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return yo=e,yo}var bo,vd;function dx(){if(vd)return bo;vd=1;var t=ca();function e(r){return t(this,r).get(r)}return bo=e,bo}var xo,hd;function fx(){if(hd)return xo;hd=1;var t=ca();function e(r){return t(this,r).has(r)}return xo=e,xo}var wo,pd;function vx(){if(pd)return wo;pd=1;var t=ca();function e(r,n){var a=t(this,r),o=a.size;return a.set(r,n),this.size+=a.size==o?0:1,this}return wo=e,wo}var Co,md;function il(){if(md)return Co;md=1;var t=ux(),e=cx(),r=dx(),n=fx(),a=vx();function o(i){var s=-1,u=i==null?0:i.length;for(this.clear();++s<u;){var l=i[s];this.set(l[0],l[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Co=o,Co}var Mo,gd;function hx(){if(gd)return Mo;gd=1;var t=ua(),e=ol(),r=il(),n=200;function a(o,i){var s=this.__data__;if(s instanceof t){var u=s.__data__;if(!e||u.length<n-1)return u.push([o,i]),this.size=++s.size,this;s=this.__data__=new r(u)}return s.set(o,i),this.size=s.size,this}return Mo=a,Mo}var So,yd;function sl(){if(yd)return So;yd=1;var t=ua(),e=Wb(),r=Vb(),n=Kb(),a=Yb(),o=hx();function i(s){var u=this.__data__=new t(s);this.size=u.size}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=a,i.prototype.set=o,So=i,So}var Ao,bd;function px(){if(bd)return Ao;bd=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a&&r(e[n],n,e)!==!1;);return e}return Ao=t,Ao}var Io,xd;function hm(){if(xd)return Io;xd=1;var t=Qt(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Io=e,Io}var Po,wd;function pm(){if(wd)return Po;wd=1;var t=hm();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Po=e,Po}var Eo,Cd;function mm(){if(Cd)return Eo;Cd=1;var t=pm(),e=al(),r=Object.prototype,n=r.hasOwnProperty;function a(o,i,s){var u=o[i];(!(n.call(o,i)&&e(u,s))||s===void 0&&!(i in o))&&t(o,i,s)}return Eo=a,Eo}var ko,Md;function ln(){if(Md)return ko;Md=1;var t=mm(),e=pm();function r(n,a,o,i){var s=!o;o||(o={});for(var u=-1,l=a.length;++u<l;){var c=a[u],d=i?i(o[c],n[c],c,o,n):void 0;d===void 0&&(d=n[c]),s?e(o,c,d):t(o,c,d)}return o}return ko=r,ko}var Oo,Sd;function mx(){if(Sd)return Oo;Sd=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Oo=t,Oo}var _o,Ad;function _t(){if(Ad)return _o;Ad=1;function t(e){return e!=null&&typeof e=="object"}return _o=t,_o}var To,Id;function gx(){if(Id)return To;Id=1;var t=Mr(),e=_t(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return To=n,To}var No,Pd;function ul(){if(Pd)return No;Pd=1;var t=gx(),e=_t(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(i){return e(i)&&n.call(i,"callee")&&!a.call(i,"callee")};return No=o,No}var Ro,Ed;function Ge(){if(Ed)return Ro;Ed=1;var t=Array.isArray;return Ro=t,Ro}var Dr={exports:{}},Do,kd;function yx(){if(kd)return Do;kd=1;function t(){return!1}return Do=t,Do}Dr.exports;var Od;function ll(){return Od||(Od=1,function(t,e){var r=Ue(),n=yx(),a=e&&!e.nodeType&&e,o=a&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===a,s=i?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;t.exports=l}(Dr,Dr.exports)),Dr.exports}var Lo,_d;function gm(){if(_d)return Lo;_d=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var o=typeof n;return a=a??t,!!a&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Lo=r,Lo}var jo,Td;function cl(){if(Td)return jo;Td=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return jo=e,jo}var qo,Nd;function bx(){if(Nd)return qo;Nd=1;var t=Mr(),e=cl(),r=_t(),n="[object Arguments]",a="[object Array]",o="[object Boolean]",i="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",O="[object Uint16Array]",_="[object Uint32Array]",P={};P[b]=P[w]=P[x]=P[C]=P[A]=P[I]=P[k]=P[O]=P[_]=!0,P[n]=P[a]=P[y]=P[o]=P[g]=P[i]=P[s]=P[u]=P[l]=P[c]=P[d]=P[f]=P[h]=P[p]=P[m]=!1;function R(N){return r(N)&&e(N.length)&&!!P[t(N)]}return qo=R,qo}var Fo,Rd;function dl(){if(Rd)return Fo;Rd=1;function t(e){return function(r){return e(r)}}return Fo=t,Fo}var Lr={exports:{}};Lr.exports;var Dd;function fl(){return Dd||(Dd=1,function(t,e){var r=dm(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===n,i=o&&r.process,s=function(){try{var u=a&&a.require&&a.require("util").types;return u||i&&i.binding&&i.binding("util")}catch{}}();t.exports=s}(Lr,Lr.exports)),Lr.exports}var Bo,Ld;function ym(){if(Ld)return Bo;Ld=1;var t=bx(),e=dl(),r=fl(),n=r&&r.isTypedArray,a=n?e(n):t;return Bo=a,Bo}var zo,jd;function bm(){if(jd)return zo;jd=1;var t=mx(),e=ul(),r=Ge(),n=ll(),a=gm(),o=ym(),i=Object.prototype,s=i.hasOwnProperty;function u(l,c){var d=r(l),f=!d&&e(l),h=!d&&!f&&n(l),p=!d&&!f&&!h&&o(l),m=d||f||h||p,y=m?t(l.length,String):[],g=y.length;for(var b in l)(c||s.call(l,b))&&!(m&&(b=="length"||h&&(b=="offset"||b=="parent")||p&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,g)))&&y.push(b);return y}return zo=u,zo}var $o,qd;function vl(){if(qd)return $o;qd=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return $o=e,$o}var Ho,Fd;function xm(){if(Fd)return Ho;Fd=1;function t(e,r){return function(n){return e(r(n))}}return Ho=t,Ho}var Uo,Bd;function xx(){if(Bd)return Uo;Bd=1;var t=xm(),e=t(Object.keys,Object);return Uo=e,Uo}var Go,zd;function wx(){if(zd)return Go;zd=1;var t=vl(),e=xx(),r=Object.prototype,n=r.hasOwnProperty;function a(o){if(!t(o))return e(o);var i=[];for(var s in Object(o))n.call(o,s)&&s!="constructor"&&i.push(s);return i}return Go=a,Go}var Wo,$d;function da(){if($d)return Wo;$d=1;var t=fm(),e=cl();function r(n){return n!=null&&e(n.length)&&!t(n)}return Wo=r,Wo}var Vo,Hd;function cn(){if(Hd)return Vo;Hd=1;var t=bm(),e=wx(),r=da();function n(a){return r(a)?t(a):e(a)}return Vo=n,Vo}var Ko,Ud;function Cx(){if(Ud)return Ko;Ud=1;var t=ln(),e=cn();function r(n,a){return n&&t(a,e(a),n)}return Ko=r,Ko}var Yo,Gd;function Mx(){if(Gd)return Yo;Gd=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return Yo=t,Yo}var Zo,Wd;function Sx(){if(Wd)return Zo;Wd=1;var t=Zt(),e=vl(),r=Mx(),n=Object.prototype,a=n.hasOwnProperty;function o(i){if(!t(i))return r(i);var s=e(i),u=[];for(var l in i)l=="constructor"&&(s||!a.call(i,l))||u.push(l);return u}return Zo=o,Zo}var Qo,Vd;function hl(){if(Vd)return Qo;Vd=1;var t=bm(),e=Sx(),r=da();function n(a){return r(a)?t(a,!0):e(a)}return Qo=n,Qo}var Xo,Kd;function Ax(){if(Kd)return Xo;Kd=1;var t=ln(),e=hl();function r(n,a){return n&&t(a,e(a),n)}return Xo=r,Xo}var jr={exports:{}};jr.exports;var Yd;function Ix(){return Yd||(Yd=1,function(t,e){var r=Ue(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===n,i=o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,f=s?s(d):new l.constructor(d);return l.copy(f),f}t.exports=u}(jr,jr.exports)),jr.exports}var Jo,Zd;function Px(){if(Zd)return Jo;Zd=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return Jo=t,Jo}var ei,Qd;function Ex(){if(Qd)return ei;Qd=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,o=0,i=[];++n<a;){var s=e[n];r(s,n,e)&&(i[o++]=s)}return i}return ei=t,ei}var ti,Xd;function wm(){if(Xd)return ti;Xd=1;function t(){return[]}return ti=t,ti}var ri,Jd;function pl(){if(Jd)return ri;Jd=1;var t=Ex(),e=wm(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(i){return i==null?[]:(i=Object(i),t(a(i),function(s){return n.call(i,s)}))}:e;return ri=o,ri}var ni,ef;function kx(){if(ef)return ni;ef=1;var t=ln(),e=pl();function r(n,a){return t(n,e(n),a)}return ni=r,ni}var ai,tf;function ml(){if(tf)return ai;tf=1;function t(e,r){for(var n=-1,a=r.length,o=e.length;++n<a;)e[o+n]=r[n];return e}return ai=t,ai}var oi,rf;function gl(){if(rf)return oi;rf=1;var t=xm(),e=t(Object.getPrototypeOf,Object);return oi=e,oi}var ii,nf;function Cm(){if(nf)return ii;nf=1;var t=ml(),e=gl(),r=pl(),n=wm(),a=Object.getOwnPropertySymbols,o=a?function(i){for(var s=[];i;)t(s,r(i)),i=e(i);return s}:n;return ii=o,ii}var si,af;function Ox(){if(af)return si;af=1;var t=ln(),e=Cm();function r(n,a){return t(n,e(n),a)}return si=r,si}var ui,of;function Mm(){if(of)return ui;of=1;var t=ml(),e=Ge();function r(n,a,o){var i=a(n);return e(n)?i:t(i,o(n))}return ui=r,ui}var li,sf;function Sm(){if(sf)return li;sf=1;var t=Mm(),e=pl(),r=cn();function n(a){return t(a,r,e)}return li=n,li}var ci,uf;function Am(){if(uf)return ci;uf=1;var t=Mm(),e=Cm(),r=hl();function n(a){return t(a,r,e)}return ci=n,ci}var di,lf;function _x(){if(lf)return di;lf=1;var t=Qt(),e=Ue(),r=t(e,"DataView");return di=r,di}var fi,cf;function Tx(){if(cf)return fi;cf=1;var t=Qt(),e=Ue(),r=t(e,"Promise");return fi=r,fi}var vi,df;function Nx(){if(df)return vi;df=1;var t=Qt(),e=Ue(),r=t(e,"Set");return vi=r,vi}var hi,ff;function Rx(){if(ff)return hi;ff=1;var t=Qt(),e=Ue(),r=t(e,"WeakMap");return hi=r,hi}var pi,vf;function fa(){if(vf)return pi;vf=1;var t=_x(),e=ol(),r=Tx(),n=Nx(),a=Rx(),o=Mr(),i=vm(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",h=i(t),p=i(e),m=i(r),y=i(n),g=i(a),b=o;return(t&&b(new t(new ArrayBuffer(1)))!=f||e&&b(new e)!=s||r&&b(r.resolve())!=l||n&&b(new n)!=c||a&&b(new a)!=d)&&(b=function(w){var x=o(w),C=x==u?w.constructor:void 0,A=C?i(C):"";if(A)switch(A){case h:return f;case p:return s;case m:return l;case y:return c;case g:return d}return x}),pi=b,pi}var mi,hf;function Dx(){if(hf)return mi;hf=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var a=n.length,o=new n.constructor(a);return a&&typeof n[0]=="string"&&e.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return mi=r,mi}var gi,pf;function Im(){if(pf)return gi;pf=1;var t=Ue(),e=t.Uint8Array;return gi=e,gi}var yi,mf;function yl(){if(mf)return yi;mf=1;var t=Im();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return yi=e,yi}var bi,gf;function Lx(){if(gf)return bi;gf=1;var t=yl();function e(r,n){var a=n?t(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}return bi=e,bi}var xi,yf;function jx(){if(yf)return xi;yf=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return xi=e,xi}var wi,bf;function qx(){if(bf)return wi;bf=1;var t=Cr(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(a){return r?Object(r.call(a)):{}}return wi=n,wi}var Ci,xf;function Fx(){if(xf)return Ci;xf=1;var t=yl();function e(r,n){var a=n?t(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}return Ci=e,Ci}var Mi,wf;function Bx(){if(wf)return Mi;wf=1;var t=yl(),e=Lx(),r=jx(),n=qx(),a=Fx(),o="[object Boolean]",i="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",y="[object Float64Array]",g="[object Int8Array]",b="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",I="[object Uint32Array]";function k(O,_,P){var R=O.constructor;switch(_){case h:return t(O);case o:case i:return new R(+O);case p:return e(O,P);case m:case y:case g:case b:case w:case x:case C:case A:case I:return a(O,P);case s:return new R;case u:case d:return new R(O);case l:return r(O);case c:return new R;case f:return n(O)}}return Mi=k,Mi}var Si,Cf;function zx(){if(Cf)return Si;Cf=1;var t=Zt(),e=Object.create,r=function(){function n(){}return function(a){if(!t(a))return{};if(e)return e(a);n.prototype=a;var o=new n;return n.prototype=void 0,o}}();return Si=r,Si}var Ai,Mf;function $x(){if(Mf)return Ai;Mf=1;var t=zx(),e=gl(),r=vl();function n(a){return typeof a.constructor=="function"&&!r(a)?t(e(a)):{}}return Ai=n,Ai}var Ii,Sf;function Hx(){if(Sf)return Ii;Sf=1;var t=fa(),e=_t(),r="[object Map]";function n(a){return e(a)&&t(a)==r}return Ii=n,Ii}var Pi,Af;function Ux(){if(Af)return Pi;Af=1;var t=Hx(),e=dl(),r=fl(),n=r&&r.isMap,a=n?e(n):t;return Pi=a,Pi}var Ei,If;function Gx(){if(If)return Ei;If=1;var t=fa(),e=_t(),r="[object Set]";function n(a){return e(a)&&t(a)==r}return Ei=n,Ei}var ki,Pf;function Wx(){if(Pf)return ki;Pf=1;var t=Gx(),e=dl(),r=fl(),n=r&&r.isSet,a=n?e(n):t;return ki=a,ki}var Oi,Ef;function Vx(){if(Ef)return Oi;Ef=1;var t=sl(),e=px(),r=mm(),n=Cx(),a=Ax(),o=Ix(),i=Px(),s=kx(),u=Ox(),l=Sm(),c=Am(),d=fa(),f=Dx(),h=Bx(),p=$x(),m=Ge(),y=ll(),g=Ux(),b=Zt(),w=Wx(),x=cn(),C=hl(),A=1,I=2,k=4,O="[object Arguments]",_="[object Array]",P="[object Boolean]",R="[object Date]",N="[object Error]",D="[object Function]",F="[object GeneratorFunction]",q="[object Map]",z="[object Number]",$="[object Object]",G="[object RegExp]",pe="[object Set]",je="[object String]",ie="[object Symbol]",Ke="[object WeakMap]",K="[object ArrayBuffer]",U="[object DataView]",j="[object Float32Array]",ae="[object Float64Array]",_e="[object Int8Array]",Me="[object Int16Array]",kr="[object Int32Array]",Oa="[object Uint8Array]",f1="[object Uint8ClampedArray]",v1="[object Uint16Array]",h1="[object Uint32Array]",Q={};Q[O]=Q[_]=Q[K]=Q[U]=Q[P]=Q[R]=Q[j]=Q[ae]=Q[_e]=Q[Me]=Q[kr]=Q[q]=Q[z]=Q[$]=Q[G]=Q[pe]=Q[je]=Q[ie]=Q[Oa]=Q[f1]=Q[v1]=Q[h1]=!0,Q[N]=Q[D]=Q[Ke]=!1;function mn(V,Xt,Jt,p1,gn,pt){var Se,yn=Xt&A,bn=Xt&I,m1=Xt&k;if(Jt&&(Se=gn?Jt(V,p1,gn,pt):Jt(V)),Se!==void 0)return Se;if(!b(V))return V;var vc=m(V);if(vc){if(Se=f(V),!yn)return i(V,Se)}else{var er=d(V),hc=er==D||er==F;if(y(V))return o(V,yn);if(er==$||er==O||hc&&!gn){if(Se=bn||hc?{}:p(V),!yn)return bn?u(V,a(Se,V)):s(V,n(Se,V))}else{if(!Q[er])return gn?V:{};Se=h(V,er,yn)}}pt||(pt=new t);var pc=pt.get(V);if(pc)return pc;pt.set(V,Se),w(V)?V.forEach(function(mt){Se.add(mn(mt,Xt,Jt,mt,V,pt))}):g(V)&&V.forEach(function(mt,Nt){Se.set(Nt,mn(mt,Xt,Jt,Nt,V,pt))});var g1=m1?bn?c:l:bn?C:x,mc=vc?void 0:g1(V);return e(mc||V,function(mt,Nt){mc&&(Nt=mt,mt=V[Nt]),r(Se,Nt,mn(mt,Xt,Jt,Nt,V,pt))}),Se}return Oi=mn,Oi}var _i,kf;function va(){if(kf)return _i;kf=1;var t=Mr(),e=_t(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return _i=n,_i}var Ti,Of;function bl(){if(Of)return Ti;Of=1;var t=Ge(),e=va(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(o,i){if(t(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||i!=null&&o in Object(i)}return Ti=a,Ti}var Ni,_f;function Kx(){if(_f)return Ni;_f=1;var t=il(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var o=function(){var i=arguments,s=a?a.apply(this,i):i[0],u=o.cache;if(u.has(s))return u.get(s);var l=n.apply(this,i);return o.cache=u.set(s,l)||u,l};return o.cache=new(r.Cache||t),o}return r.Cache=t,Ni=r,Ni}var Ri,Tf;function Yx(){if(Tf)return Ri;Tf=1;var t=Kx(),e=500;function r(n){var a=t(n,function(i){return o.size===e&&o.clear(),i}),o=a.cache;return a}return Ri=r,Ri}var Di,Nf;function Zx(){if(Nf)return Di;Nf=1;var t=Yx(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var o=[];return a.charCodeAt(0)===46&&o.push(""),a.replace(e,function(i,s,u,l){o.push(u?l.replace(r,"$1"):s||i)}),o});return Di=n,Di}var Li,Rf;function Qx(){if(Rf)return Li;Rf=1;var t=Cr(),e=nl(),r=Ge(),n=va(),a=t?t.prototype:void 0,o=a?a.toString:void 0;function i(s){if(typeof s=="string")return s;if(r(s))return e(s,i)+"";if(n(s))return o?o.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return Li=i,Li}var ji,Df;function Pm(){if(Df)return ji;Df=1;var t=Qx();function e(r){return r==null?"":t(r)}return ji=e,ji}var qi,Lf;function ha(){if(Lf)return qi;Lf=1;var t=Ge(),e=bl(),r=Zx(),n=Pm();function a(o,i){return t(o)?o:e(o,i)?[o]:r(n(o))}return qi=a,qi}var Fi,jf;function Xx(){if(jf)return Fi;jf=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Fi=t,Fi}var Bi,qf;function dn(){if(qf)return Bi;qf=1;var t=va();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Bi=e,Bi}var zi,Ff;function xl(){if(Ff)return zi;Ff=1;var t=ha(),e=dn();function r(n,a){a=t(a,n);for(var o=0,i=a.length;n!=null&&o<i;)n=n[e(a[o++])];return o&&o==i?n:void 0}return zi=r,zi}var $i,Bf;function Jx(){if(Bf)return $i;Bf=1;function t(e,r,n){var a=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(o);++a<o;)i[a]=e[a+r];return i}return $i=t,$i}var Hi,zf;function ew(){if(zf)return Hi;zf=1;var t=xl(),e=Jx();function r(n,a){return a.length<2?n:t(n,e(a,0,-1))}return Hi=r,Hi}var Ui,$f;function tw(){if($f)return Ui;$f=1;var t=ha(),e=Xx(),r=ew(),n=dn();function a(o,i){return i=t(i,o),o=r(o,i),o==null||delete o[n(e(i))]}return Ui=a,Ui}var Gi,Hf;function rw(){if(Hf)return Gi;Hf=1;var t=Mr(),e=gl(),r=_t(),n="[object Object]",a=Function.prototype,o=Object.prototype,i=a.toString,s=o.hasOwnProperty,u=i.call(Object);function l(c){if(!r(c)||t(c)!=n)return!1;var d=e(c);if(d===null)return!0;var f=s.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&i.call(f)==u}return Gi=l,Gi}var Wi,Uf;function nw(){if(Uf)return Wi;Uf=1;var t=rw();function e(r){return t(r)?void 0:r}return Wi=e,Wi}var Vi,Gf;function aw(){if(Gf)return Vi;Gf=1;var t=Cr(),e=ul(),r=Ge(),n=t?t.isConcatSpreadable:void 0;function a(o){return r(o)||e(o)||!!(n&&o&&o[n])}return Vi=a,Vi}var Ki,Wf;function ow(){if(Wf)return Ki;Wf=1;var t=ml(),e=aw();function r(n,a,o,i,s){var u=-1,l=n.length;for(o||(o=e),s||(s=[]);++u<l;){var c=n[u];a>0&&o(c)?a>1?r(c,a-1,o,i,s):t(s,c):i||(s[s.length]=c)}return s}return Ki=r,Ki}var Yi,Vf;function iw(){if(Vf)return Yi;Vf=1;var t=ow();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return Yi=e,Yi}var Zi,Kf;function sw(){if(Kf)return Zi;Kf=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Zi=t,Zi}var Qi,Yf;function uw(){if(Yf)return Qi;Yf=1;var t=sw(),e=Math.max;function r(n,a,o){return a=e(a===void 0?n.length-1:a,0),function(){for(var i=arguments,s=-1,u=e(i.length-a,0),l=Array(u);++s<u;)l[s]=i[a+s];s=-1;for(var c=Array(a+1);++s<a;)c[s]=i[s];return c[a]=o(l),t(n,this,c)}}return Qi=r,Qi}var Xi,Zf;function lw(){if(Zf)return Xi;Zf=1;function t(e){return function(){return e}}return Xi=t,Xi}var Ji,Qf;function Em(){if(Qf)return Ji;Qf=1;function t(e){return e}return Ji=t,Ji}var es,Xf;function cw(){if(Xf)return es;Xf=1;var t=lw(),e=hm(),r=Em(),n=e?function(a,o){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return es=n,es}var ts,Jf;function dw(){if(Jf)return ts;Jf=1;var t=800,e=16,r=Date.now;function n(a){var o=0,i=0;return function(){var s=r(),u=e-(s-i);if(i=s,u>0){if(++o>=t)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}return ts=n,ts}var rs,ev;function fw(){if(ev)return rs;ev=1;var t=cw(),e=dw(),r=e(t);return rs=r,rs}var ns,tv;function vw(){if(tv)return ns;tv=1;var t=iw(),e=uw(),r=fw();function n(a){return r(e(a,void 0,t),a+"")}return ns=n,ns}var as,rv;function hw(){if(rv)return as;rv=1;var t=nl(),e=Vx(),r=tw(),n=ha(),a=ln(),o=nw(),i=vw(),s=Am(),u=1,l=2,c=4,d=i(function(f,h){var p={};if(f==null)return p;var m=!1;h=t(h,function(g){return g=n(g,f),m||(m=g.length>1),g}),a(f,s(f),p),m&&(p=e(p,u|l|c,o));for(var y=h.length;y--;)r(p,h[y]);return p});return as=d,as}var pw=hw();const mw=rl(pw);var os,nv;function gw(){if(nv)return os;nv=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return os=e,os}var is,av;function yw(){if(av)return is;av=1;var t=gw(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return is=r,is}var ss,ov;function km(){if(ov)return ss;ov=1;var t=yw(),e=Zt(),r=va(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=t(l);var d=o.test(l);return d||i.test(l)?s(l.slice(2),d?2:8):a.test(l)?n:+l}return ss=u,ss}var us,iv;function bw(){if(iv)return us;iv=1;var t=km(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var o=a<0?-1:1;return o*r}return a===a?a:0}return us=n,us}var ls,sv;function xw(){if(sv)return ls;sv=1;var t=bw();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return ls=e,ls}var cs,uv;function ww(){if(uv)return cs;uv=1;var t=Ue(),e=xw(),r=km(),n=Pm(),a=t.isFinite,o=Math.min;function i(s){var u=Math[s];return function(l,c){if(l=r(l),c=c==null?0:o(e(c),292),c&&a(l)){var d=(n(l)+"e").split("e"),f=u(d[0]+"e"+(+d[1]+c));return d=(n(f)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return u(l)}}return cs=i,cs}var ds,lv;function Cw(){if(lv)return ds;lv=1;var t=ww(),e=t("round");return ds=e,ds}var Mw=Cw();const qn=rl(Mw);var fs,cv;function Sw(){if(cv)return fs;cv=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return fs=e,fs}var vs,dv;function Aw(){if(dv)return vs;dv=1;function t(e){return this.__data__.has(e)}return vs=t,vs}var hs,fv;function Iw(){if(fv)return hs;fv=1;var t=il(),e=Sw(),r=Aw();function n(a){var o=-1,i=a==null?0:a.length;for(this.__data__=new t;++o<i;)this.add(a[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,hs=n,hs}var ps,vv;function Pw(){if(vv)return ps;vv=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return ps=t,ps}var ms,hv;function Ew(){if(hv)return ms;hv=1;function t(e,r){return e.has(r)}return ms=t,ms}var gs,pv;function Om(){if(pv)return gs;pv=1;var t=Iw(),e=Pw(),r=Ew(),n=1,a=2;function o(i,s,u,l,c,d){var f=u&n,h=i.length,p=s.length;if(h!=p&&!(f&&p>h))return!1;var m=d.get(i),y=d.get(s);if(m&&y)return m==s&&y==i;var g=-1,b=!0,w=u&a?new t:void 0;for(d.set(i,s),d.set(s,i);++g<h;){var x=i[g],C=s[g];if(l)var A=f?l(C,x,g,s,i,d):l(x,C,g,i,s,d);if(A!==void 0){if(A)continue;b=!1;break}if(w){if(!e(s,function(I,k){if(!r(w,k)&&(x===I||c(x,I,u,l,d)))return w.push(k)})){b=!1;break}}else if(!(x===C||c(x,C,u,l,d))){b=!1;break}}return d.delete(i),d.delete(s),b}return gs=o,gs}var ys,mv;function kw(){if(mv)return ys;mv=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,o){n[++r]=[o,a]}),n}return ys=t,ys}var bs,gv;function Ow(){if(gv)return bs;gv=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return bs=t,bs}var xs,yv;function _w(){if(yv)return xs;yv=1;var t=Cr(),e=Im(),r=al(),n=Om(),a=kw(),o=Ow(),i=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",m="[object String]",y="[object Symbol]",g="[object ArrayBuffer]",b="[object DataView]",w=t?t.prototype:void 0,x=w?w.valueOf:void 0;function C(A,I,k,O,_,P,R){switch(k){case b:if(A.byteLength!=I.byteLength||A.byteOffset!=I.byteOffset)return!1;A=A.buffer,I=I.buffer;case g:return!(A.byteLength!=I.byteLength||!P(new e(A),new e(I)));case u:case l:case f:return r(+A,+I);case c:return A.name==I.name&&A.message==I.message;case h:case m:return A==I+"";case d:var N=a;case p:var D=O&i;if(N||(N=o),A.size!=I.size&&!D)return!1;var F=R.get(A);if(F)return F==I;O|=s,R.set(A,I);var q=n(N(A),N(I),O,_,P,R);return R.delete(A),q;case y:if(x)return x.call(A)==x.call(I)}return!1}return xs=C,xs}var ws,bv;function Tw(){if(bv)return ws;bv=1;var t=Sm(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(o,i,s,u,l,c){var d=s&e,f=t(o),h=f.length,p=t(i),m=p.length;if(h!=m&&!d)return!1;for(var y=h;y--;){var g=f[y];if(!(d?g in i:n.call(i,g)))return!1}var b=c.get(o),w=c.get(i);if(b&&w)return b==i&&w==o;var x=!0;c.set(o,i),c.set(i,o);for(var C=d;++y<h;){g=f[y];var A=o[g],I=i[g];if(u)var k=d?u(I,A,g,i,o,c):u(A,I,g,o,i,c);if(!(k===void 0?A===I||l(A,I,s,u,c):k)){x=!1;break}C||(C=g=="constructor")}if(x&&!C){var O=o.constructor,_=i.constructor;O!=_&&"constructor"in o&&"constructor"in i&&!(typeof O=="function"&&O instanceof O&&typeof _=="function"&&_ instanceof _)&&(x=!1)}return c.delete(o),c.delete(i),x}return ws=a,ws}var Cs,xv;function Nw(){if(xv)return Cs;xv=1;var t=sl(),e=Om(),r=_w(),n=Tw(),a=fa(),o=Ge(),i=ll(),s=ym(),u=1,l="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(m,y,g,b,w,x){var C=o(m),A=o(y),I=C?c:a(m),k=A?c:a(y);I=I==l?d:I,k=k==l?d:k;var O=I==d,_=k==d,P=I==k;if(P&&i(m)){if(!i(y))return!1;C=!0,O=!1}if(P&&!O)return x||(x=new t),C||s(m)?e(m,y,g,b,w,x):r(m,y,I,g,b,w,x);if(!(g&u)){var R=O&&h.call(m,"__wrapped__"),N=_&&h.call(y,"__wrapped__");if(R||N){var D=R?m.value():m,F=N?y.value():y;return x||(x=new t),w(D,F,g,b,x)}}return P?(x||(x=new t),n(m,y,g,b,w,x)):!1}return Cs=p,Cs}var Ms,wv;function _m(){if(wv)return Ms;wv=1;var t=Nw(),e=_t();function r(n,a,o,i,s){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,o,i,r,s)}return Ms=r,Ms}var Ss,Cv;function Rw(){if(Cv)return Ss;Cv=1;var t=sl(),e=_m(),r=1,n=2;function a(o,i,s,u){var l=s.length,c=l,d=!u;if(o==null)return!c;for(o=Object(o);l--;){var f=s[l];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++l<c;){f=s[l];var h=f[0],p=o[h],m=f[1];if(d&&f[2]){if(p===void 0&&!(h in o))return!1}else{var y=new t;if(u)var g=u(p,m,h,o,i,y);if(!(g===void 0?e(m,p,r|n,u,y):g))return!1}}return!0}return Ss=a,Ss}var As,Mv;function Tm(){if(Mv)return As;Mv=1;var t=Zt();function e(r){return r===r&&!t(r)}return As=e,As}var Is,Sv;function Dw(){if(Sv)return Is;Sv=1;var t=Tm(),e=cn();function r(n){for(var a=e(n),o=a.length;o--;){var i=a[o],s=n[i];a[o]=[i,s,t(s)]}return a}return Is=r,Is}var Ps,Av;function Nm(){if(Av)return Ps;Av=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Ps=t,Ps}var Es,Iv;function Lw(){if(Iv)return Es;Iv=1;var t=Rw(),e=Dw(),r=Nm();function n(a){var o=e(a);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(i){return i===a||t(i,a,o)}}return Es=n,Es}var ks,Pv;function jw(){if(Pv)return ks;Pv=1;var t=xl();function e(r,n,a){var o=r==null?void 0:t(r,n);return o===void 0?a:o}return ks=e,ks}var Os,Ev;function qw(){if(Ev)return Os;Ev=1;function t(e,r){return e!=null&&r in Object(e)}return Os=t,Os}var _s,kv;function Fw(){if(kv)return _s;kv=1;var t=ha(),e=ul(),r=Ge(),n=gm(),a=cl(),o=dn();function i(s,u,l){u=t(u,s);for(var c=-1,d=u.length,f=!1;++c<d;){var h=o(u[c]);if(!(f=s!=null&&l(s,h)))break;s=s[h]}return f||++c!=d?f:(d=s==null?0:s.length,!!d&&a(d)&&n(h,d)&&(r(s)||e(s)))}return _s=i,_s}var Ts,Ov;function Bw(){if(Ov)return Ts;Ov=1;var t=qw(),e=Fw();function r(n,a){return n!=null&&e(n,a,t)}return Ts=r,Ts}var Ns,_v;function zw(){if(_v)return Ns;_v=1;var t=_m(),e=jw(),r=Bw(),n=bl(),a=Tm(),o=Nm(),i=dn(),s=1,u=2;function l(c,d){return n(c)&&a(d)?o(i(c),d):function(f){var h=e(f,c);return h===void 0&&h===d?r(f,c):t(d,h,s|u)}}return Ns=l,Ns}var Rs,Tv;function $w(){if(Tv)return Rs;Tv=1;function t(e){return function(r){return r?.[e]}}return Rs=t,Rs}var Ds,Nv;function Hw(){if(Nv)return Ds;Nv=1;var t=xl();function e(r){return function(n){return t(n,r)}}return Ds=e,Ds}var Ls,Rv;function Uw(){if(Rv)return Ls;Rv=1;var t=$w(),e=Hw(),r=bl(),n=dn();function a(o){return r(o)?t(n(o)):e(o)}return Ls=a,Ls}var js,Dv;function Gw(){if(Dv)return js;Dv=1;var t=Lw(),e=zw(),r=Em(),n=Ge(),a=Uw();function o(i){return typeof i=="function"?i:i==null?r:typeof i=="object"?n(i)?e(i[0],i[1]):t(i):a(i)}return js=o,js}var qs,Lv;function Ww(){if(Lv)return qs;Lv=1;function t(e){return function(r,n,a){for(var o=-1,i=Object(r),s=a(r),u=s.length;u--;){var l=s[e?u:++o];if(n(i[l],l,i)===!1)break}return r}}return qs=t,qs}var Fs,jv;function Vw(){if(jv)return Fs;jv=1;var t=Ww(),e=t();return Fs=e,Fs}var Bs,qv;function Kw(){if(qv)return Bs;qv=1;var t=Vw(),e=cn();function r(n,a){return n&&t(n,a,e)}return Bs=r,Bs}var zs,Fv;function Yw(){if(Fv)return zs;Fv=1;var t=da();function e(r,n){return function(a,o){if(a==null)return a;if(!t(a))return r(a,o);for(var i=a.length,s=n?i:-1,u=Object(a);(n?s--:++s<i)&&o(u[s],s,u)!==!1;);return a}}return zs=e,zs}var $s,Bv;function Zw(){if(Bv)return $s;Bv=1;var t=Kw(),e=Yw(),r=e(t);return $s=r,$s}var Hs,zv;function Qw(){if(zv)return Hs;zv=1;var t=Zw(),e=da();function r(n,a){var o=-1,i=e(n)?Array(n.length):[];return t(n,function(s,u,l){i[++o]=a(s,u,l)}),i}return Hs=r,Hs}var Us,$v;function Xw(){if($v)return Us;$v=1;var t=nl(),e=Gw(),r=Qw(),n=Ge();function a(o,i){var s=n(o)?t:r;return s(o,e(i,3))}return Us=a,Us}var Jw=Xw();const eC=rl(Jw);function ze(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ot(t){return!!t&&!!t[re]}function dt(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===lC}(t)||Array.isArray(t)||!!t[Yv]||!!(!((e=t.constructor)===null||e===void 0)&&e[Yv])||wl(t)||Cl(t))}function Wt(t,e,r){r===void 0&&(r=!1),Sr(t)===0?(r?Object.keys:sr)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,a){return e(a,n,t)})}function Sr(t){var e=t[re];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:wl(t)?2:Cl(t)?3:0}function ir(t,e){return Sr(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tC(t,e){return Sr(t)===2?t.get(e):t[e]}function Rm(t,e,r){var n=Sr(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Dm(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function wl(t){return sC&&t instanceof Map}function Cl(t){return uC&&t instanceof Set}function Dt(t){return t.o||t.t}function Ml(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=jm(t);delete e[re];for(var r=sr(e),n=0;n<r.length;n++){var a=r[n],o=e[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function Sl(t,e){return e===void 0&&(e=!1),Al(t)||Ot(t)||!dt(t)||(Sr(t)>1&&(t.set=t.add=t.clear=t.delete=rC),Object.freeze(t),e&&Wt(t,function(r,n){return Sl(n,!0)},!0)),t}function rC(){ze(2)}function Al(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Xe(t){var e=Mu[t];return e||ze(18,t),e}function nC(t,e){Mu[t]||(Mu[t]=e)}function xu(){return Qr}function Gs(t,e){e&&(Xe("Patches"),t.u=[],t.s=[],t.v=e)}function Fn(t){wu(t),t.p.forEach(aC),t.p=null}function wu(t){t===Qr&&(Qr=t.l)}function Hv(t){return Qr={p:[],l:Qr,h:t,m:!0,_:0}}function aC(t){var e=t[re];e.i===0||e.i===1?e.j():e.g=!0}function Ws(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||Xe("ES5").S(e,t,n),n?(r[re].P&&(Fn(e),ze(4)),dt(t)&&(t=Bn(e,t),e.l||zn(e,t)),e.u&&Xe("Patches").M(r[re].t,t,e.u,e.s)):t=Bn(e,r,[]),Fn(e),e.u&&e.v(e.u,e.s),t!==Lm?t:void 0}function Bn(t,e,r){if(Al(e))return e;var n=e[re];if(!n)return Wt(e,function(s,u){return Uv(t,n,e,s,u,r)},!0),e;if(n.A!==t)return e;if(!n.P)return zn(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=n.i===4||n.i===5?n.o=Ml(n.k):n.o,o=a,i=!1;n.i===3&&(o=new Set(a),a.clear(),i=!0),Wt(o,function(s,u){return Uv(t,n,a,s,u,r,i)}),zn(t,a,!1),r&&t.u&&Xe("Patches").N(n,r,t.u,t.s)}return n.o}function Uv(t,e,r,n,a,o,i){if(Ot(a)){var s=Bn(t,a,o&&e&&e.i!==3&&!ir(e.R,n)?o.concat(n):void 0);if(Rm(r,n,s),!Ot(s))return;t.m=!1}else i&&r.add(a);if(dt(a)&&!Al(a)){if(!t.h.D&&t._<1)return;Bn(t,a),e&&e.A.l||zn(t,a)}}function zn(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&Sl(e,r)}function Vs(t,e){var r=t[re];return(r?Dt(r):t)[e]}function Gv(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Ct(t){t.P||(t.P=!0,t.l&&Ct(t.l))}function Ks(t){t.o||(t.o=Ml(t.t))}function Cu(t,e,r){var n=wl(e)?Xe("MapSet").F(e,r):Cl(e)?Xe("MapSet").T(e,r):t.O?function(a,o){var i=Array.isArray(a),s={i:i?1:0,A:o?o.A:xu(),P:!1,I:!1,R:{},l:o,t:a,k:null,o:null,j:null,C:!1},u=s,l=Xr;i&&(u=[s],l=qr);var c=Proxy.revocable(u,l),d=c.revoke,f=c.proxy;return s.k=f,s.j=d,f}(e,r):Xe("ES5").J(e,r);return(r?r.A:xu()).p.push(n),n}function oC(t){return Ot(t)||ze(22,t),function e(r){if(!dt(r))return r;var n,a=r[re],o=Sr(r);if(a){if(!a.P&&(a.i<4||!Xe("ES5").K(a)))return a.t;a.I=!0,n=Wv(r,o),a.I=!1}else n=Wv(r,o);return Wt(n,function(i,s){a&&tC(a.t,i)===s||Rm(n,i,e(s))}),o===3?new Set(n):n}(t)}function Wv(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Ml(t)}function iC(){function t(o,i){var s=a[o];return s?s.enumerable=i:a[o]=s={configurable:!0,enumerable:i,get:function(){var u=this[re];return Xr.get(u,o)},set:function(u){var l=this[re];Xr.set(l,o,u)}},s}function e(o){for(var i=o.length-1;i>=0;i--){var s=o[i][re];if(!s.P)switch(s.i){case 5:n(s)&&Ct(s);break;case 4:r(s)&&Ct(s)}}}function r(o){for(var i=o.t,s=o.k,u=sr(s),l=u.length-1;l>=0;l--){var c=u[l];if(c!==re){var d=i[c];if(d===void 0&&!ir(i,c))return!0;var f=s[c],h=f&&f[re];if(h?h.t!==d:!Dm(f,d))return!0}}var p=!!i[re];return u.length!==sr(i).length+(p?0:1)}function n(o){var i=o.k;if(i.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(i,i.length-1);if(s&&!s.get)return!0;for(var u=0;u<i.length;u++)if(!i.hasOwnProperty(u))return!0;return!1}var a={};nC("ES5",{J:function(o,i){var s=Array.isArray(o),u=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var p=jm(d);delete p[re];for(var m=sr(p),y=0;y<m.length;y++){var g=m[y];p[g]=t(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(s,o),l={i:s?5:4,A:i?i.A:xu(),P:!1,I:!1,R:{},l:i,t:o,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,re,{value:l,writable:!0}),u},S:function(o,i,s){s?Ot(i)&&i[re].A===o&&e(o.p):(o.u&&function u(l){if(l&&typeof l=="object"){var c=l[re];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)Wt(f,function(w){w!==re&&(d[w]!==void 0||ir(d,w)?h[w]||u(f[w]):(h[w]=!0,Ct(c)))}),Wt(d,function(w){f[w]!==void 0||ir(f,w)||(h[w]=!1,Ct(c))});else if(p===5){if(n(c)&&(Ct(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var y=d.length;y<f.length;y++)h[y]=!0;for(var g=Math.min(f.length,d.length),b=0;b<g;b++)f.hasOwnProperty(b)||(h[b]=!0),h[b]===void 0&&u(f[b])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var Vv,Qr,Il=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",sC=typeof Map<"u",uC=typeof Set<"u",Kv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Lm=Il?Symbol.for("immer-nothing"):((Vv={})["immer-nothing"]=!0,Vv),Yv=Il?Symbol.for("immer-draftable"):"__$immer_draftable",re=Il?Symbol.for("immer-state"):"__$immer_state",lC=""+Object.prototype.constructor,sr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,jm=Object.getOwnPropertyDescriptors||function(t){var e={};return sr(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},Mu={},Xr={get:function(t,e){if(e===re)return t;var r=Dt(t);if(!ir(r,e))return function(a,o,i){var s,u=Gv(o,i);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(a.k):void 0}(t,r,e);var n=r[e];return t.I||!dt(n)?n:n===Vs(t.t,e)?(Ks(t),t.o[e]=Cu(t.A.h,n,t)):n},has:function(t,e){return e in Dt(t)},ownKeys:function(t){return Reflect.ownKeys(Dt(t))},set:function(t,e,r){var n=Gv(Dt(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var a=Vs(Dt(t),e),o=a?.[re];if(o&&o.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(Dm(r,a)&&(r!==void 0||ir(t.t,e)))return!0;Ks(t),Ct(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return Vs(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Ks(t),Ct(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Dt(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){ze(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ze(12)}},qr={};Wt(Xr,function(t,e){qr[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),qr.deleteProperty=function(t,e){return qr.set.call(this,t,e,void 0)},qr.set=function(t,e,r){return Xr.set.call(this,t[0],e,r,t[0])};var cC=function(){function t(r){var n=this;this.O=Kv,this.D=!0,this.produce=function(a,o,i){if(typeof a=="function"&&typeof o!="function"){var s=o;o=a;var u=n;return function(m){var y=this;m===void 0&&(m=s);for(var g=arguments.length,b=Array(g>1?g-1:0),w=1;w<g;w++)b[w-1]=arguments[w];return u.produce(m,function(x){var C;return(C=o).call.apply(C,[y,x].concat(b))})}}var l;if(typeof o!="function"&&ze(6),i!==void 0&&typeof i!="function"&&ze(7),dt(a)){var c=Hv(n),d=Cu(n,a,void 0),f=!0;try{l=o(d),f=!1}finally{f?Fn(c):wu(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return Gs(c,i),Ws(m,c)},function(m){throw Fn(c),m}):(Gs(c,i),Ws(l,c))}if(!a||typeof a!="object"){if((l=o(a))===void 0&&(l=a),l===Lm&&(l=void 0),n.D&&Sl(l,!0),i){var h=[],p=[];Xe("Patches").M(a,l,h,p),i(h,p)}return l}ze(21,a)},this.produceWithPatches=function(a,o){if(typeof a=="function")return function(l){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return n.produceWithPatches(l,function(h){return a.apply(void 0,[h].concat(d))})};var i,s,u=n.produce(a,o,function(l,c){i=l,s=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,i,s]}):[u,i,s]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){dt(r)||ze(8),Ot(r)&&(r=oC(r));var n=Hv(this),a=Cu(this,r,void 0);return a[re].C=!0,wu(n),a},e.finishDraft=function(r,n){var a=r&&r[re],o=a.A;return Gs(o,n),Ws(void 0,o)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!Kv&&ze(20),this.O=r},e.applyPatches=function(r,n){var a;for(a=n.length-1;a>=0;a--){var o=n[a];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}a>-1&&(n=n.slice(a+1));var i=Xe("Patches").$;return Ot(r)?i(r,n):this.produce(r,function(s){return i(s,n)})},t}(),Re=new cC,qm=Re.produce;Re.produceWithPatches.bind(Re);Re.setAutoFreeze.bind(Re);Re.setUseProxies.bind(Re);Re.applyPatches.bind(Re);Re.createDraft.bind(Re);Re.finishDraft.bind(Re);var Fm=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dC=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(o=l[0]&2?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],a=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},vr=function(t,e){for(var r=0,n=e.length,a=t.length;r<n;r++,a++)t[a]=e[r];return t},fC=Object.defineProperty,vC=Object.defineProperties,hC=Object.getOwnPropertyDescriptors,Zv=Object.getOwnPropertySymbols,pC=Object.prototype.hasOwnProperty,mC=Object.prototype.propertyIsEnumerable,Qv=function(t,e,r){return e in t?fC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},Pt=function(t,e){for(var r in e||(e={}))pC.call(e,r)&&Qv(t,r,e[r]);if(Zv)for(var n=0,a=Zv(e);n<a.length;n++){var r=a[n];mC.call(e,r)&&Qv(t,r,e[r])}return t},Ys=function(t,e){return vC(t,hC(e))},gC=function(t,e,r){return new Promise(function(n,a){var o=function(u){try{s(r.next(u))}catch(l){a(l)}},i=function(u){try{s(r.throw(u))}catch(l){a(l)}},s=function(u){return u.done?n(u.value):Promise.resolve(u.value).then(o,i)};s((r=r.apply(t,e)).next())})},yC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bu:bu.apply(null,arguments)};function bC(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function Et(t,e){function r(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Pt(Pt({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var xC=function(t){Fm(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=t.apply(this,r)||this;return Object.setPrototypeOf(a,e.prototype),a}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,vr([void 0],r[0].concat(this)))):new(e.bind.apply(e,vr([void 0],r.concat(this))))},e}(Array),wC=function(t){Fm(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=t.apply(this,r)||this;return Object.setPrototypeOf(a,e.prototype),a}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,vr([void 0],r[0].concat(this)))):new(e.bind.apply(e,vr([void 0],r.concat(this))))},e}(Array);function Su(t){return dt(t)?qm(t,function(){}):t}function CC(t){return typeof t=="boolean"}function MC(){return function(e){return SC(e)}}function SC(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new xC;return r&&(CC(r)?n.push(Ac):n.push(Ac.withExtraArgument(r.extraArgument))),n}function AC(t){var e=MC(),r=t||{},n=r.reducer,a=n===void 0?void 0:n,o=r.middleware,i=o===void 0?e():o,s=r.devTools,u=s===void 0?!0:s,l=r.preloadedState,c=l===void 0?void 0:l,d=r.enhancers,f=d===void 0?void 0:d,h;if(typeof a=="function")h=a;else if(bC(a))h=Oy(a);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=i;typeof p=="function"&&(p=p(e));var m=_y.apply(void 0,p),y=bu;u&&(y=yC(Pt({trace:!1},typeof u=="object"&&u)));var g=new wC(m),b=g;Array.isArray(f)?b=vr([m],f):typeof f=="function"&&(b=f(g));var w=y.apply(void 0,b);return Ty(h,c,w)}function Bm(t){var e={},r=[],n,a={addCase:function(o,i){var s=typeof o=="string"?o:o.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[s]=i,a},addMatcher:function(o,i){return r.push({matcher:o,reducer:i}),a},addDefaultCase:function(o){return n=o,a}};return t(a),[e,r,n]}function IC(t){return typeof t=="function"}function PC(t,e,r,n){r===void 0&&(r=[]);var a=typeof e=="function"?Bm(e):[e,r,n],o=a[0],i=a[1],s=a[2],u;if(IC(t))u=function(){return Su(t())};else{var l=Su(t);u=function(){return l}}function c(d,f){d===void 0&&(d=u());var h=vr([o[f.type]],i.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[s]),h.reduce(function(p,m){if(m)if(Ot(p)){var y=p,g=m(y,f);return g===void 0?p:g}else{if(dt(p))return qm(p,function(b){return m(b,f)});var g=m(p,f);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},d)}return c.getInitialState=u,c}function EC(t,e){return t+"/"+e}function pa(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var r=typeof t.initialState=="function"?t.initialState:Su(t.initialState),n=t.reducers||{},a=Object.keys(n),o={},i={},s={};a.forEach(function(c){var d=n[c],f=EC(e,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,o[c]=h,i[f]=h,s[c]=p?Et(f,p):Et(f)});function u(){var c=typeof t.extraReducers=="function"?Bm(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=Pt(Pt({},f),i);return PC(r,function(b){for(var w in g)b.addCase(w,g[w]);for(var x=0,C=p;x<C.length;x++){var A=C[x];b.addMatcher(A.matcher,A.reducer)}y&&b.addDefaultCase(y)})}var l;return{name:e,reducer:function(c,d){return l||(l=u()),l(c,d)},actions:s,caseReducers:o,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var kC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OC=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=kC[Math.random()*64|0];return e},_C=["name","message","stack","code"],Zs=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),Xv=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),TC=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=_C;r<n.length;r++){var a=n[r];typeof t[a]=="string"&&(e[a]=t[a])}return e}return{message:String(t)}};(function(){function t(e,r,n){var a=Et(e+"/fulfilled",function(l,c,d,f){return{payload:l,meta:Ys(Pt({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=Et(e+"/pending",function(l,c,d){return{payload:void 0,meta:Ys(Pt({},d||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),i=Et(e+"/rejected",function(l,c,d,f,h){return{payload:f,error:(n&&n.serializeError||TC)(l||"Rejected"),meta:Ys(Pt({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:l?.name==="AbortError",condition:l?.name==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,d,f){var h=n?.idGenerator?n.idGenerator(l):OC(),p=new s,m;function y(b){m=b,p.abort()}var g=function(){return gC(this,null,function(){var b,w,x,C,A,I,k;return dC(this,function(O){switch(O.label){case 0:return O.trys.push([0,4,,5]),C=(b=n?.condition)==null?void 0:b.call(n,l,{getState:d,extra:f}),RC(C)?[4,C]:[3,2];case 1:C=O.sent(),O.label=2;case 2:if(C===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return A=new Promise(function(_,P){return p.signal.addEventListener("abort",function(){return P({name:"AbortError",message:m||"Aborted"})})}),c(o(h,l,(w=n?.getPendingMeta)==null?void 0:w.call(n,{requestId:h,arg:l},{getState:d,extra:f}))),[4,Promise.race([A,Promise.resolve(r(l,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(_,P){return new Zs(_,P)},fulfillWithValue:function(_,P){return new Xv(_,P)}})).then(function(_){if(_ instanceof Zs)throw _;return _ instanceof Xv?a(_.payload,h,l,_.meta):a(_,h,l)})])];case 3:return x=O.sent(),[3,5];case 4:return I=O.sent(),x=I instanceof Zs?i(null,h,l,I.payload,I.meta):i(I,h,l),[3,5];case 5:return k=n&&!n.dispatchConditionRejection&&i.match(x)&&x.meta.condition,k||c(x),[2,x]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(NC)}})}}return Object.assign(u,{pending:o,rejected:i,fulfilled:a,typePrefix:e})}return t.withTypes=function(){return t},t})();function NC(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function RC(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Pl="listenerMiddleware";Et(Pl+"/add");Et(Pl+"/removeAll");Et(Pl+"/remove");var Jv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:globalThis);iC();var We=function(e){return"@@redux-saga/"+e},DC=We("CANCEL_PROMISE"),zm=We("CHANNEL_END"),$m=We("IO"),eh=We("MATCH"),Hm=We("MULTICAST"),Um=We("SAGA_ACTION"),LC=We("SELF_CANCELLATION"),jC=We("TASK"),ur=We("TASK_CANCEL"),Gm=We("TERMINATE"),qC=We("LOCATION"),Wm=function(e){return e==null},In=function(e){return e!=null},Oe=function(e){return typeof e=="function"},El=function(e){return typeof e=="string"},Tt=Array.isArray,ma=function(e){return e&&Oe(e.then)},kl=function(e){return e&&Oe(e.next)&&Oe(e.throw)},th=function t(e){return e&&(El(e)||Km(e)||Oe(e)||Tt(e)&&e.every(t))},Ol=function(e){return e&&Oe(e.take)&&Oe(e.close)},Vm=function(e){return Oe(e)&&e.hasOwnProperty("toString")},Km=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},FC=function(e){return Ol(e)&&e[Hm]},BC=function(e){return function(){return e}},zC=BC(!0),be=function(){},$C=function(e){return e},_l=function(e,r){B(e,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(n){e[n]=r[n]})},HC=function(e,r){var n;return(n=[]).concat.apply(n,r.map(e))};function ga(t,e){var r=t.indexOf(e);r>=0&&t.splice(r,1)}function UC(t){var e=!1;return function(){e||(e=!0,t())}}var GC=function(e){throw e},WC=function(e){return{value:e,done:!0}};function Au(t,e,r){e===void 0&&(e=GC),r===void 0&&(r="iterator");var n={meta:{name:r},next:t,throw:e,return:WC,isSagaIterator:!0};return typeof Symbol<"u"&&(n[Symbol.iterator]=function(){return n}),n}function VC(t,e){var r=e.sagaStack;console.error(t),console.error(r)}var Ym=function(e){return Array.apply(null,new Array(e))},KC=function(e){return function(r){return e(Object.defineProperty(r,Um,{value:!0}))}},Zm=function(e){return e===Gm},Qm=function(e){return e===ur},Xm=function(e){return Zm(e)||Qm(e)};function Jm(t,e){var r=Object.keys(t),n=r.length,a=0,o,i=Tt(t)?Ym(n):{},s={};function u(){a===n&&(o=!0,e(i))}return r.forEach(function(l){var c=function(f,h){o||(h||Xm(f)?(e.cancel(),e(f,h)):(i[l]=f,a++,u()))};c.cancel=be,s[l]=c}),e.cancel=function(){o||(o=!0,r.forEach(function(l){return s[l].cancel()}))},s}function Tl(t){return{name:t.name||"anonymous",location:eg(t)}}function eg(t){return t[qC]}function YC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}var ZC="Channel's Buffer overflow!",QC=1,XC=3,tg=4;function JC(t,e){t===void 0&&(t=10);var r=new Array(t),n=0,a=0,o=0,i=function(c){r[a]=c,a=(a+1)%t,n++},s=function(){if(n!=0){var c=r[o];return r[o]=null,n--,o=(o+1)%t,c}},u=function(){for(var c=[];n;)c.push(s());return c};return{isEmpty:function(){return n==0},put:function(c){if(n<t)i(c);else{var d;switch(e){case QC:throw new Error(ZC);case XC:r[a]=c,a=(a+1)%t,o=a;break;case tg:d=2*t,r=u(),n=r.length,a=r.length,o=0,r.length=d,t=d,i(c);break}}},take:s,flush:u}}var eM=function(e){return JC(e,tg)},Pn="TAKE",rg="PUT",tM="ALL",rM="RACE",ng="CALL",nM="CPS",Nl="FORK",aM="JOIN",oM="CANCEL",iM="SELECT",sM="ACTION_CHANNEL",uM="CANCELLED",lM="FLUSH",cM="GET_CONTEXT",dM="SET_CONTEXT",zt=function(e,r){var n;return n={},n[$m]=!0,n.combinator=!1,n.type=e,n.payload=r,n},fM=function(e){return zt(Nl,B({},e.payload,{detached:!0}))};function vM(t,e){if(t===void 0&&(t="*"),th(t))return In(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),zt(Pn,{pattern:t});if(FC(t)&&In(e)&&th(e))return zt(Pn,{channel:t,pattern:e});if(Ol(t))return In(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),zt(Pn,{channel:t})}function Qs(t,e){return Wm(e)&&(e=t,t=void 0),zt(rg,{channel:t,action:e})}function ag(t,e){var r=null,n;return Oe(t)?n=t:(Tt(t)?(r=t[0],n=t[1]):(r=t.context,n=t.fn),r&&El(n)&&Oe(r[n])&&(n=r[n])),{context:r,fn:n,args:e}}function hM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return zt(ng,ag(t,r))}function Rl(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return zt(Nl,ag(t,r))}function pM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return fM(Rl.apply(void 0,[t].concat(r)))}var rh=function(e){return{done:!0,value:e}},Xs={};function mM(t){return Ol(t)?"channel":Vm(t)?String(t):Oe(t)?t.name:String(t)}function gM(t,e,r){var n,a,o,i=e;function s(u,l){if(i===Xs)return rh(u);if(l&&!a)throw i=Xs,l;n&&n(u);var c=l?t[a](l):t[i]();return i=c.nextState,o=c.effect,n=c.stateUpdater,a=c.errorState,i===Xs?rh(u):o}return Au(s,function(u){return s(null,u)},r)}function yM(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var o={done:!1,value:vM(t)},i=function(c){return{done:!1,value:Rl.apply(void 0,[e].concat(n,[c]))}},s,u=function(c){return s=c};return gM({q1:function(){return{nextState:"q2",effect:o,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:i(s)}}},"q1","takeEvery("+mM(t)+", "+e.name+")")}function bM(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return Rl.apply(void 0,[yM,t,e].concat(n))}function xM(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}var og=[],ya=0;function wM(t){try{Dl(),t()}finally{ug()}}function ig(t){og.push(t),ya||(Dl(),lg())}function sg(t){try{return Dl(),t()}finally{lg()}}function Dl(){ya++}function ug(){ya--}function lg(){ug();for(var t;!ya&&(t=og.shift())!==void 0;)wM(t)}var CM=function(e){return function(r){return e.some(function(n){return Ll(n)(r)})}},MM=function(e){return function(r){return e(r)}},nh=function(e){return function(r){return r.type===String(e)}},SM=function(e){return function(r){return r.type===e}},cg=function(){return zC};function Ll(t){var e=t==="*"?cg:El(t)?nh:Tt(t)?CM:Vm(t)?nh:Oe(t)?MM:Km(t)?SM:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var Ur={type:zm},jl=function(e){return e&&e.type===zm};function AM(t){t===void 0&&(t=eM());var e=!1,r=[];function n(s){if(!e){if(r.length===0)return t.put(s);var u=r.shift();u(s)}}function a(s){e&&t.isEmpty()?s(Ur):t.isEmpty()?(r.push(s),s.cancel=function(){ga(r,s)}):s(t.take())}function o(s){if(e&&t.isEmpty()){s(Ur);return}s(t.flush())}function i(){if(!e){e=!0;var s=r;r=[];for(var u=0,l=s.length;u<l;u++){var c=s[u];c(Ur)}}}return{take:a,put:n,flush:o,close:i}}function IM(){var t,e=!1,r=[],n=r,a=function(){n===r&&(n=r.slice())},o=function(){e=!0;var s=r=n;n=[],s.forEach(function(u){u(Ur)})};return t={},t[Hm]=!0,t.put=function(s){if(!e){if(jl(s)){o();return}for(var u=r=n,l=0,c=u.length;l<c;l++){var d=u[l];d[eh](s)&&(d.cancel(),d(s))}}},t.take=function(s,u){if(u===void 0&&(u=cg),e){s(Ur);return}s[eh]=u,a(),n.push(s),s.cancel=UC(function(){a(),ga(n,s)})},t.close=o,t}function dg(){var t=IM(),e=t.put;return t.put=function(r){if(r[Um]){e(r);return}ig(function(){e(r)})},t}var jt=0,ut=1,En=2,fg=3;function ql(t,e){var r=t[DC];Oe(r)&&(e.cancel=r),t.then(e,function(n){e(n,!0)})}var fn=0,vg=function(){return++fn},fe;function PM(t,e){return t.isSagaIterator?{name:t.meta.name}:Tl(e)}function EM(t){var e=t.context,r=t.fn,n=t.args;try{var a=r.apply(e,n);if(kl(a))return a;var o=!1,i=function(u){return o?{value:u,done:!0}:(o=!0,{value:a,done:!ma(a)})};return Au(i)}catch(s){return Au(function(){throw s})}}function kM(t,e,r){var n=e.channel,a=e.action,o=e.resolve;ig(function(){var i;try{i=(n?n.put:t.dispatch)(a)}catch(s){r(s,!0);return}o&&ma(i)?ql(i,r):r(i)})}function OM(t,e,r){var n=e.channel,a=n===void 0?t.channel:n,o=e.pattern,i=e.maybe,s=function(l){if(l instanceof Error){r(l,!0);return}if(jl(l)&&!i){r(Gm);return}r(l)};try{a.take(s,In(o)?Ll(o):null)}catch(u){r(u,!0);return}r.cancel=s.cancel}function _M(t,e,r,n){var a=e.context,o=e.fn,i=e.args,s=n.task;try{var u=o.apply(a,i);if(ma(u)){ql(u,r);return}if(kl(u)){ba(t,u,s.context,fn,Tl(o),!1,r);return}r(u)}catch(l){r(l,!0)}}function TM(t,e,r){var n=e.context,a=e.fn,o=e.args;try{var i=function(u,l){Wm(u)?r(l):r(u,!0)};a.apply(n,o.concat(i)),i.cancel&&(r.cancel=i.cancel)}catch(s){r(s,!0)}}function NM(t,e,r,n){var a=e.context,o=e.fn,i=e.args,s=e.detached,u=n.task,l=EM({context:a,fn:o,args:i}),c=PM(l,o);sg(function(){var d=ba(t,l,u.context,fn,c,s,void 0);s?r(d):d.isRunning()?(u.queue.addTask(d),r(d)):d.isAborted()?u.queue.abort(d.error()):r(d)})}function RM(t,e,r,n){var a=n.task,o=function(u,l){if(u.isRunning()){var c={task:a,cb:l};l.cancel=function(){u.isRunning()&&ga(u.joiners,c)},u.joiners.push(c)}else u.isAborted()?l(u.error(),!0):l(u.result())};if(Tt(e)){if(e.length===0){r([]);return}var i=Jm(e,r);e.forEach(function(s,u){o(s,i[u])})}else o(e,r)}function Js(t){t.isRunning()&&t.cancel()}function DM(t,e,r,n){var a=n.task;e===LC?Js(a):Tt(e)?e.forEach(Js):Js(e),r()}function LM(t,e,r,n){var a=n.digestEffect,o=fn,i=Object.keys(e);if(i.length===0){r(Tt(e)?[]:{});return}var s=Jm(e,r);i.forEach(function(u){a(e[u],o,s[u],u)})}function jM(t,e,r,n){var a=n.digestEffect,o=fn,i=Object.keys(e),s=Tt(e)?Ym(i.length):{},u={},l=!1;i.forEach(function(c){var d=function(h,p){l||(p||Xm(h)?(r.cancel(),r(h,p)):(r.cancel(),l=!0,s[c]=h,r(s)))};d.cancel=be,u[c]=d}),r.cancel=function(){l||(l=!0,i.forEach(function(c){return u[c].cancel()}))},i.forEach(function(c){l||a(e[c],o,u[c],c)})}function qM(t,e,r){var n=e.selector,a=e.args;try{var o=n.apply(void 0,[t.getState()].concat(a));r(o)}catch(i){r(i,!0)}}function FM(t,e,r){var n=e.pattern,a=e.buffer,o=AM(a),i=Ll(n),s=function l(c){jl(c)||t.channel.take(l,i),o.put(c)},u=o.close;o.close=function(){s.cancel(),u()},t.channel.take(s,i),r(o)}function BM(t,e,r,n){var a=n.task;r(a.isCancelled())}function zM(t,e,r){e.flush(r)}function $M(t,e,r,n){var a=n.task;r(a.context[e])}function HM(t,e,r,n){var a=n.task;_l(a.context,e),r()}var UM=(fe={},fe[Pn]=OM,fe[rg]=kM,fe[tM]=LM,fe[rM]=jM,fe[ng]=_M,fe[nM]=TM,fe[Nl]=NM,fe[aM]=RM,fe[oM]=DM,fe[iM]=qM,fe[sM]=FM,fe[uM]=BM,fe[lM]=zM,fe[cM]=$M,fe[dM]=HM,fe);function GM(t,e,r){var n=[],a,o=!1;u(t);var i=function(){return n};function s(c){e(),l(),r(c,!0)}function u(c){n.push(c),c.cont=function(d,f){o||(ga(n,c),c.cont=be,f?s(d):(c===t&&(a=d),n.length||(o=!0,r(a))))}}function l(){o||(o=!0,n.forEach(function(c){c.cont=be,c.cancel()}),n=[])}return{addTask:u,cancelAll:l,abort:s,getTasks:i}}function hg(t,e){return t+"?"+e}function WM(t){var e=eg(t);if(e){var r=e.code,n=e.fileName,a=e.lineNumber,o=r+"  "+hg(n,a);return o}return""}function ah(t){var e=t.name,r=t.location;return r?e+"  "+hg(r.fileName,r.lineNumber):e}function VM(t){var e=HC(function(r){return r.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var Fl=null,Gr=[],KM=function(e){e.crashedEffect=Fl,Gr.push(e)},pg=function(){Fl=null,Gr.length=0},YM=function(e){Fl=e},ZM=function(){var e=Gr[0],r=Gr.slice(1),n=e.crashedEffect?WM(e.crashedEffect):null,a="The above error occurred in task "+ah(e.meta)+(n?` 
 when executing effect `+n:"");return[a].concat(r.map(function(o){return"    created by "+ah(o.meta)}),[VM(Gr)]).join(`
`)};function QM(t,e,r,n,a,o,i){var s;i===void 0&&(i=be);var u=jt,l,c,d=null,f=[],h=Object.create(r),p=GM(e,function(){f.push.apply(f,p.getTasks().map(function(C){return C.meta.name}))},y);function m(){u===jt&&(u=ut,p.cancelAll(),y(ur,!1))}function y(x,C){if(!C)x===ur?u=ut:u!==ut&&(u=fg),l=x,d&&d.resolve(x);else{if(u=En,KM({meta:a,cancelledTasks:f}),w.isRoot){var A=ZM();pg(),t.onError(x,{sagaStack:A})}c=x,d&&d.reject(x)}w.cont(x,C),w.joiners.forEach(function(I){I.cb(x,C)}),w.joiners=null}function g(x){_l(h,x)}function b(){return d||(d=xM(),u===En?d.reject(c):u!==jt&&d.resolve(l)),d.promise}var w=(s={},s[jC]=!0,s.id=n,s.meta=a,s.isRoot=o,s.context=h,s.joiners=[],s.queue=p,s.cancel=m,s.cont=i,s.end=y,s.setContext=g,s.toPromise=b,s.isRunning=function(){return u===jt},s.isCancelled=function(){return u===ut||u===jt&&e.status===ut},s.isAborted=function(){return u===En},s.result=function(){return l},s.error=function(){return c},s);return w}function ba(t,e,r,n,a,o,i){var s=t.finalizeRunEffect(h);f.cancel=be;var u={meta:a,cancel:d,status:jt},l=QM(t,u,r,n,a,o,i),c={task:l,digestEffect:p};function d(){u.status===jt&&(u.status=ut,f(ur))}return i&&(i.cancel=l.cancel),f(),l;function f(m,y){try{var g;y?(g=e.throw(m),pg()):Qm(m)?(u.status=ut,f.cancel(),g=Oe(e.return)?e.return(ur):{done:!0,value:ur}):Zm(m)?g=Oe(e.return)?e.return():{done:!0}:g=e.next(m),g.done?(u.status!==ut&&(u.status=fg),u.cont(g.value)):p(g.value,n,f)}catch(b){if(u.status===ut)throw b;u.status=En,u.cont(b,!0)}}function h(m,y,g){if(ma(m))ql(m,g);else if(kl(m))ba(t,m,l.context,y,a,!1,g);else if(m&&m[$m]){var b=UM[m.type];b(t,m.payload,g,c)}else g(m)}function p(m,y,g,b){b===void 0&&(b="");var w=vg();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:w,parentEffectId:y,label:b,effect:m});var x;function C(A,I){x||(x=!0,g.cancel=be,t.sagaMonitor&&(I?t.sagaMonitor.effectRejected(w,A):t.sagaMonitor.effectResolved(w,A)),I&&YM(m),g(A,I))}C.cancel=be,g.cancel=function(){x||(x=!0,C.cancel(),C.cancel=be,t.sagaMonitor&&t.sagaMonitor.effectCancelled(w))},s(m,w,C)}}function XM(t,e){for(var r=t.channel,n=r===void 0?dg():r,a=t.dispatch,o=t.getState,i=t.context,s=i===void 0?{}:i,u=t.sagaMonitor,l=t.effectMiddlewares,c=t.onError,d=c===void 0?VC:c,f=arguments.length,h=new Array(f>2?f-2:0),p=2;p<f;p++)h[p-2]=arguments[p];var m=e.apply(void 0,h),y=vg();u&&(u.rootSagaStarted=u.rootSagaStarted||be,u.effectTriggered=u.effectTriggered||be,u.effectResolved=u.effectResolved||be,u.effectRejected=u.effectRejected||be,u.effectCancelled=u.effectCancelled||be,u.actionDispatched=u.actionDispatched||be,u.rootSagaStarted({effectId:y,saga:e,args:h}));var g;if(l){var b=YC.apply(void 0,l);g=function(C){return function(A,I,k){var O=function(P){return C(P,I,k)};return b(O)(A)}}}else g=$C;var w={channel:n,dispatch:KC(a),getState:o,sagaMonitor:u,onError:d,finalizeRunEffect:g};return sg(function(){var x=ba(w,m,s,y,Tl(e),!0,void 0);return u&&u.effectResolved(y,x),x})}function JM(t){var e={},r=e.context,n=r===void 0?{}:r,a=e.channel,o=a===void 0?dg():a,i=e.sagaMonitor,s=Ne(e,["context","channel","sagaMonitor"]),u;function l(c){var d=c.getState,f=c.dispatch;return u=XM.bind(null,B({},s,{context:n,channel:o,dispatch:f,getState:d,sagaMonitor:i})),function(h){return function(p){i&&i.actionDispatched&&i.actionDispatched(p);var m=h(p);return o.put(p),m}}}return l.run=function(){return u.apply(void 0,arguments)},l.setContext=function(c){_l(n,c)},l}function kn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eS(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mg(t){let e,r,n;t.length!==2?(e=kn,r=(s,u)=>kn(t(s),u),n=(s,u)=>t(s)-u):(e=t===kn||t===eS?t:tS,r=t,n=t);function a(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const d=l+c>>>1;r(s[d],u)<0?l=d+1:c=d}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const d=l+c>>>1;r(s[d],u)<=0?l=d+1:c=d}while(l<c)}return l}function i(s,u,l=0,c=s.length){const d=a(s,u,l,c-1);return d>l&&n(s[d-1],u)>-n(s[d],u)?d-1:d}return{left:a,center:i,right:o}}function tS(){return 0}function rS(t){return t===null?NaN:+t}const nS=mg(kn),aS=nS.right;mg(rS).center;var oS=aS;const iS=Math.sqrt(50),sS=Math.sqrt(10),uS=Math.sqrt(2);function $n(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=iS?10:o>=sS?5:o>=uS?2:1;let s,u,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,a)*i,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=r&&r<2?$n(t,e,r*2):[s,u,l]}function lS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,o,i]=n?$n(e,t,r):$n(t,e,r);if(!(o>=a))return[];const s=o-a+1,u=new Array(s);if(n)if(i<0)for(let l=0;l<s;++l)u[l]=(o-l)/-i;else for(let l=0;l<s;++l)u[l]=(o-l)*i;else if(i<0)for(let l=0;l<s;++l)u[l]=(a+l)/-i;else for(let l=0;l<s;++l)u[l]=(a+l)*i;return u}function Iu(t,e,r){return e=+e,t=+t,r=+r,$n(t,e,r)[2]}function cS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Iu(e,t,r):Iu(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function dS(t){return t}var eu=1,tu=2,Pu=3,Fr=4,oh=1e-6;function fS(t){return"translate("+t+",0)"}function vS(t){return"translate(0,"+t+")"}function hS(t){return e=>+t(e)}function pS(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function mS(){return!this.__axis}function gg(t,e){var r=[],n=null,a=null,o=6,i=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===eu||t===Fr?-1:1,c=t===Fr||t===tu?"x":"y",d=t===eu||t===Pu?fS:vS;function f(h){var p=n??(e.ticks?e.ticks.apply(e,r):e.domain()),m=a??(e.tickFormat?e.tickFormat.apply(e,r):dS),y=Math.max(o,0)+s,g=e.range(),b=+g[0]+u,w=+g[g.length-1]+u,x=(e.bandwidth?pS:hS)(e.copy(),u),C=h.selection?h.selection():h,A=C.selectAll(".domain").data([null]),I=C.selectAll(".tick").data(p,e).order(),k=I.exit(),O=I.enter().append("g").attr("class","tick"),_=I.select("line"),P=I.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(O),_=_.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),P=P.merge(O.append("text").attr("fill","currentColor").attr(c,l*y).attr("dy",t===eu?"0em":t===Pu?"0.71em":"0.32em")),h!==C&&(A=A.transition(h),I=I.transition(h),_=_.transition(h),P=P.transition(h),k=k.transition(h).attr("opacity",oh).attr("transform",function(R){return isFinite(R=x(R))?d(R+u):this.getAttribute("transform")}),O.attr("opacity",oh).attr("transform",function(R){var N=this.parentNode.__axis;return d((N&&isFinite(N=N(R))?N:x(R))+u)})),k.remove(),A.attr("d",t===Fr||t===tu?i?"M"+l*i+","+b+"H"+u+"V"+w+"H"+l*i:"M"+u+","+b+"V"+w:i?"M"+b+","+l*i+"V"+u+"H"+w+"V"+l*i:"M"+b+","+u+"H"+w),I.attr("opacity",1).attr("transform",function(R){return d(x(R)+u)}),_.attr(c+"2",l*o),P.attr(c,l*y).text(m),C.filter(mS).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===tu?"start":t===Fr?"end":"middle"),C.each(function(){this.__axis=x})}return f.scale=function(h){return arguments.length?(e=h,f):e},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(r=h==null?[]:Array.from(h),f):r.slice()},f.tickValues=function(h){return arguments.length?(n=h==null?null:Array.from(h),f):n&&n.slice()},f.tickFormat=function(h){return arguments.length?(a=h,f):a},f.tickSize=function(h){return arguments.length?(o=i=+h,f):o},f.tickSizeInner=function(h){return arguments.length?(o=+h,f):o},f.tickSizeOuter=function(h){return arguments.length?(i=+h,f):i},f.tickPadding=function(h){return arguments.length?(s=+h,f):s},f.offset=function(h){return arguments.length?(u=+h,f):u},f}function gS(t){return gg(Pu,t)}function yS(t){return gg(Fr,t)}var bS={value:()=>{}};function yg(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new On(r)}function On(t){this._=t}function xS(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}On.prototype=yg.prototype={constructor:On,on:function(t,e){var r=this._,n=xS(t+"",r),a,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((a=(t=n[o]).type)&&(a=wS(r[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<i;)if(a=(t=n[o]).type)r[a]=ih(r[a],t.name,e);else if(e==null)for(a in r)r[a]=ih(r[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new On(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,a=o.length;n<a;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],a=0,o=n.length;a<o;++a)n[a].value.apply(e,r)}};function wS(t,e){for(var r=0,n=t.length,a;r<n;++r)if((a=t[r]).name===e)return a.value}function ih(t,e,r){for(var n=0,a=t.length;n<a;++n)if(t[n].name===e){t[n]=bS,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var Eu="http://www.w3.org/1999/xhtml",sh={svg:"http://www.w3.org/2000/svg",xhtml:Eu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xa(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),sh.hasOwnProperty(e)?{space:sh[e],local:t}:t}function CS(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Eu&&e.documentElement.namespaceURI===Eu?e.createElement(t):e.createElementNS(r,t)}}function MS(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bg(t){var e=xa(t);return(e.local?MS:CS)(e)}function SS(){}function Bl(t){return t==null?SS:function(){return this.querySelector(t)}}function AS(t){typeof t!="function"&&(t=Bl(t));for(var e=this._groups,r=e.length,n=new Array(r),a=0;a<r;++a)for(var o=e[a],i=o.length,s=n[a]=new Array(i),u,l,c=0;c<i;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new De(n,this._parents)}function IS(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function PS(){return[]}function xg(t){return t==null?PS:function(){return this.querySelectorAll(t)}}function ES(t){return function(){return IS(t.apply(this,arguments))}}function kS(t){typeof t=="function"?t=ES(t):t=xg(t);for(var e=this._groups,r=e.length,n=[],a=[],o=0;o<r;++o)for(var i=e[o],s=i.length,u,l=0;l<s;++l)(u=i[l])&&(n.push(t.call(u,u.__data__,l,i)),a.push(u));return new De(n,a)}function wg(t){return function(){return this.matches(t)}}function Cg(t){return function(e){return e.matches(t)}}var OS=Array.prototype.find;function _S(t){return function(){return OS.call(this.children,t)}}function TS(){return this.firstElementChild}function NS(t){return this.select(t==null?TS:_S(typeof t=="function"?t:Cg(t)))}var RS=Array.prototype.filter;function DS(){return Array.from(this.children)}function LS(t){return function(){return RS.call(this.children,t)}}function jS(t){return this.selectAll(t==null?DS:LS(typeof t=="function"?t:Cg(t)))}function qS(t){typeof t!="function"&&(t=wg(t));for(var e=this._groups,r=e.length,n=new Array(r),a=0;a<r;++a)for(var o=e[a],i=o.length,s=n[a]=[],u,l=0;l<i;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new De(n,this._parents)}function Mg(t){return new Array(t.length)}function FS(){return new De(this._enter||this._groups.map(Mg),this._parents)}function Hn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Hn.prototype={constructor:Hn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function BS(t){return function(){return t}}function zS(t,e,r,n,a,o){for(var i=0,s,u=e.length,l=o.length;i<l;++i)(s=e[i])?(s.__data__=o[i],n[i]=s):r[i]=new Hn(t,o[i]);for(;i<u;++i)(s=e[i])&&(a[i]=s)}function $S(t,e,r,n,a,o,i){var s,u,l=new Map,c=e.length,d=o.length,f=new Array(c),h;for(s=0;s<c;++s)(u=e[s])&&(f[s]=h=i.call(u,u.__data__,s,e)+"",l.has(h)?a[s]=u:l.set(h,u));for(s=0;s<d;++s)h=i.call(t,o[s],s,o)+"",(u=l.get(h))?(n[s]=u,u.__data__=o[s],l.delete(h)):r[s]=new Hn(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(f[s])===u&&(a[s]=u)}function HS(t){return t.__data__}function US(t,e){if(!arguments.length)return Array.from(this,HS);var r=e?$S:zS,n=this._parents,a=this._groups;typeof t!="function"&&(t=BS(t));for(var o=a.length,i=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=n[l],d=a[l],f=d.length,h=GS(t.call(c,c&&c.__data__,l,n)),p=h.length,m=s[l]=new Array(p),y=i[l]=new Array(p),g=u[l]=new Array(f);r(c,d,m,y,g,h,e);for(var b=0,w=0,x,C;b<p;++b)if(x=m[b]){for(b>=w&&(w=b+1);!(C=y[w])&&++w<p;);x._next=C||null}}return i=new De(i,n),i._enter=s,i._exit=u,i}function GS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WS(){return new De(this._exit||this._groups.map(Mg),this._parents)}function VS(t,e,r){var n=this.enter(),a=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),r==null?o.remove():r(o),n&&a?n.merge(a).order():a}function KS(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,a=r.length,o=n.length,i=Math.min(a,o),s=new Array(a),u=0;u<i;++u)for(var l=r[u],c=n[u],d=l.length,f=s[u]=new Array(d),h,p=0;p<d;++p)(h=l[p]||c[p])&&(f[p]=h);for(;u<a;++u)s[u]=r[u];return new De(s,this._parents)}function YS(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],a=n.length-1,o=n[a],i;--a>=0;)(i=n[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function ZS(t){t||(t=QS);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var i=r[o],s=i.length,u=a[o]=new Array(s),l,c=0;c<s;++c)(l=i[c])&&(u[c]=l);u.sort(e)}return new De(a,this._parents).order()}function QS(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function XS(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function JS(){return Array.from(this)}function eA(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],a=0,o=n.length;a<o;++a){var i=n[a];if(i)return i}return null}function tA(){let t=0;for(const e of this)++t;return t}function rA(){return!this.node()}function nA(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var a=e[r],o=0,i=a.length,s;o<i;++o)(s=a[o])&&t.call(s,s.__data__,o,a);return this}function aA(t){return function(){this.removeAttribute(t)}}function oA(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iA(t,e){return function(){this.setAttribute(t,e)}}function sA(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function uA(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function lA(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function cA(t,e){var r=xa(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?oA:aA:typeof e=="function"?r.local?lA:uA:r.local?sA:iA)(r,e))}function Sg(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dA(t){return function(){this.style.removeProperty(t)}}function fA(t,e,r){return function(){this.style.setProperty(t,e,r)}}function vA(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function hA(t,e,r){return arguments.length>1?this.each((e==null?dA:typeof e=="function"?vA:fA)(t,e,r??"")):hr(this.node(),t)}function hr(t,e){return t.style.getPropertyValue(e)||Sg(t).getComputedStyle(t,null).getPropertyValue(e)}function pA(t){return function(){delete this[t]}}function mA(t,e){return function(){this[t]=e}}function gA(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function yA(t,e){return arguments.length>1?this.each((e==null?pA:typeof e=="function"?gA:mA)(t,e)):this.node()[t]}function Ag(t){return t.trim().split(/^|\s+/)}function zl(t){return t.classList||new Ig(t)}function Ig(t){this._node=t,this._names=Ag(t.getAttribute("class")||"")}Ig.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pg(t,e){for(var r=zl(t),n=-1,a=e.length;++n<a;)r.add(e[n])}function Eg(t,e){for(var r=zl(t),n=-1,a=e.length;++n<a;)r.remove(e[n])}function bA(t){return function(){Pg(this,t)}}function xA(t){return function(){Eg(this,t)}}function wA(t,e){return function(){(e.apply(this,arguments)?Pg:Eg)(this,t)}}function CA(t,e){var r=Ag(t+"");if(arguments.length<2){for(var n=zl(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof e=="function"?wA:e?bA:xA)(r,e))}function MA(){this.textContent=""}function SA(t){return function(){this.textContent=t}}function AA(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function IA(t){return arguments.length?this.each(t==null?MA:(typeof t=="function"?AA:SA)(t)):this.node().textContent}function PA(){this.innerHTML=""}function EA(t){return function(){this.innerHTML=t}}function kA(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function OA(t){return arguments.length?this.each(t==null?PA:(typeof t=="function"?kA:EA)(t)):this.node().innerHTML}function _A(){this.nextSibling&&this.parentNode.appendChild(this)}function TA(){return this.each(_A)}function NA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RA(){return this.each(NA)}function DA(t){var e=typeof t=="function"?t:bg(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function LA(){return null}function jA(t,e){var r=typeof t=="function"?t:bg(t),n=e==null?LA:typeof e=="function"?e:Bl(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function qA(){var t=this.parentNode;t&&t.removeChild(this)}function FA(){return this.each(qA)}function BA(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zA(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $A(t){return this.select(t?zA:BA)}function HA(t){return arguments.length?this.property("__data__",t):this.node().__data__}function UA(t){return function(e){t.call(this,e,this.__data__)}}function GA(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function WA(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,a=e.length,o;r<a;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function VA(t,e,r){return function(){var n=this.__on,a,o=UA(e);if(n){for(var i=0,s=n.length;i<s;++i)if((a=n[i]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=e;return}}this.addEventListener(t.type,o,r),a={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(a):this.__on=[a]}}function KA(t,e,r){var n=GA(t+""),a,o=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(a=0,c=s[u];a<o;++a)if((i=n[a]).type===c.type&&i.name===c.name)return c.value}return}for(s=e?VA:WA,a=0;a<o;++a)this.each(s(n[a],e,r));return this}function kg(t,e,r){var n=Sg(t),a=n.CustomEvent;typeof a=="function"?a=new a(e,r):(a=n.document.createEvent("Event"),r?(a.initEvent(e,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function YA(t,e){return function(){return kg(this,t,e)}}function ZA(t,e){return function(){return kg(this,t,e.apply(this,arguments))}}function QA(t,e){return this.each((typeof e=="function"?ZA:YA)(t,e))}function*XA(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],a=0,o=n.length,i;a<o;++a)(i=n[a])&&(yield i)}var Og=[null];function De(t,e){this._groups=t,this._parents=e}function vn(){return new De([[document.documentElement]],Og)}function JA(){return this}De.prototype=vn.prototype={constructor:De,select:AS,selectAll:kS,selectChild:NS,selectChildren:jS,filter:qS,data:US,enter:FS,exit:WS,join:VS,merge:KS,selection:JA,order:YS,sort:ZS,call:XS,nodes:JS,node:eA,size:tA,empty:rA,each:nA,attr:cA,style:hA,property:yA,classed:CA,text:IA,html:OA,raise:TA,lower:RA,append:DA,insert:jA,remove:FA,clone:$A,datum:HA,on:KA,dispatch:QA,[Symbol.iterator]:XA};function Br(t){return typeof t=="string"?new De([[document.querySelector(t)]],[document.documentElement]):new De([[t]],Og)}function $l(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _g(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function hn(){}var Jr=.7,Un=1/Jr,lr="\\s*([+-]?\\d+)\\s*",en="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e5=/^#([0-9a-f]{3,8})$/,t5=new RegExp(`^rgb\\(${lr},${lr},${lr}\\)$`),r5=new RegExp(`^rgb\\(${Je},${Je},${Je}\\)$`),n5=new RegExp(`^rgba\\(${lr},${lr},${lr},${en}\\)$`),a5=new RegExp(`^rgba\\(${Je},${Je},${Je},${en}\\)$`),o5=new RegExp(`^hsl\\(${en},${Je},${Je}\\)$`),i5=new RegExp(`^hsla\\(${en},${Je},${Je},${en}\\)$`),uh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$l(hn,Vt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lh,formatHex:lh,formatHex8:s5,formatHsl:u5,formatRgb:ch,toString:ch});function lh(){return this.rgb().formatHex()}function s5(){return this.rgb().formatHex8()}function u5(){return Tg(this).formatHsl()}function ch(){return this.rgb().formatRgb()}function Vt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=e5.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?dh(e):r===3?new Pe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?xn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=t5.exec(t))?new Pe(e[1],e[2],e[3],1):(e=r5.exec(t))?new Pe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=n5.exec(t))?xn(e[1],e[2],e[3],e[4]):(e=a5.exec(t))?xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=o5.exec(t))?hh(e[1],e[2]/100,e[3]/100,1):(e=i5.exec(t))?hh(e[1],e[2]/100,e[3]/100,e[4]):uh.hasOwnProperty(t)?dh(uh[t]):t==="transparent"?new Pe(NaN,NaN,NaN,0):null}function dh(t){return new Pe(t>>16&255,t>>8&255,t&255,1)}function xn(t,e,r,n){return n<=0&&(t=e=r=NaN),new Pe(t,e,r,n)}function l5(t){return t instanceof hn||(t=Vt(t)),t?(t=t.rgb(),new Pe(t.r,t.g,t.b,t.opacity)):new Pe}function ku(t,e,r,n){return arguments.length===1?l5(t):new Pe(t,e,r,n??1)}function Pe(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$l(Pe,ku,_g(hn,{brighter(t){return t=t==null?Un:Math.pow(Un,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jr:Math.pow(Jr,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pe($t(this.r),$t(this.g),$t(this.b),Gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fh,formatHex:fh,formatHex8:c5,formatRgb:vh,toString:vh}));function fh(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}`}function c5(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}${Bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function vh(){const t=Gn(this.opacity);return`${t===1?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${t===1?")":`, ${t})`}`}function Gn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bt(t){return t=$t(t),(t<16?"0":"")+t.toString(16)}function hh(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new $e(t,e,r,n)}function Tg(t){if(t instanceof $e)return new $e(t.h,t.s,t.l,t.opacity);if(t instanceof hn||(t=Vt(t)),!t)return new $e;if(t instanceof $e)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),o=Math.max(e,r,n),i=NaN,s=o-a,u=(o+a)/2;return s?(e===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-e)/s+2:i=(e-r)/s+4,s/=u<.5?o+a:2-o-a,i*=60):s=u>0&&u<1?0:i,new $e(i,s,u,t.opacity)}function d5(t,e,r,n){return arguments.length===1?Tg(t):new $e(t,e,r,n??1)}function $e(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$l($e,d5,_g(hn,{brighter(t){return t=t==null?Un:Math.pow(Un,t),new $e(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jr:Math.pow(Jr,t),new $e(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Pe(ru(t>=240?t-240:t+120,a,n),ru(t,a,n),ru(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new $e(ph(this.h),wn(this.s),wn(this.l),Gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gn(this.opacity);return`${t===1?"hsl(":"hsla("}${ph(this.h)}, ${wn(this.s)*100}%, ${wn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ph(t){return t=(t||0)%360,t<0?t+360:t}function wn(t){return Math.max(0,Math.min(1,t||0))}function ru(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var Hl=t=>()=>t;function f5(t,e){return function(r){return t+r*e}}function v5(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function h5(t){return(t=+t)==1?Ng:function(e,r){return r-e?v5(e,r,t):Hl(isNaN(e)?r:e)}}function Ng(t,e){var r=e-t;return r?f5(t,r):Hl(isNaN(t)?e:t)}var Wn=function t(e){var r=h5(e);function n(a,o){var i=r((a=ku(a)).r,(o=ku(o)).r),s=r(a.g,o.g),u=r(a.b,o.b),l=Ng(a.opacity,o.opacity);return function(c){return a.r=i(c),a.g=s(c),a.b=u(c),a.opacity=l(c),a+""}}return n.gamma=t,n}(1);function p5(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=t[a]*(1-o)+e[a]*o;return n}}function m5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g5(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=Ul(t[i],e[i]);for(;i<r;++i)o[i]=e[i];return function(s){for(i=0;i<n;++i)o[i]=a[i](s);return o}}function y5(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Be(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function b5(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ul(t[a],e[a]):n[a]=e[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nu=new RegExp(Ou.source,"g");function x5(t){return function(){return t}}function w5(t){return function(e){return t(e)+""}}function Rg(t,e){var r=Ou.lastIndex=nu.lastIndex=0,n,a,o,i=-1,s=[],u=[];for(t=t+"",e=e+"";(n=Ou.exec(t))&&(a=nu.exec(e));)(o=a.index)>r&&(o=e.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,u.push({i,x:Be(n,a)})),r=nu.lastIndex;return r<e.length&&(o=e.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?u[0]?w5(u[0].x):x5(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function Ul(t,e){var r=typeof e,n;return e==null||r==="boolean"?Hl(e):(r==="number"?Be:r==="string"?(n=Vt(e))?(e=n,Wn):Rg:e instanceof Vt?Wn:e instanceof Date?y5:m5(e)?p5:Array.isArray(e)?g5:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?b5:Be)(t,e)}function C5(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var mh=180/Math.PI,_u={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dg(t,e,r,n,a,o){var i,s,u;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),t*n<e*r&&(t=-t,e=-e,u=-u,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(e,t)*mh,skewX:Math.atan(u)*mh,scaleX:i,scaleY:s}}var Cn;function M5(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_u:Dg(e.a,e.b,e.c,e.d,e.e,e.f)}function S5(t){return t==null||(Cn||(Cn=document.createElementNS("http://www.w3.org/2000/svg","g")),Cn.setAttribute("transform",t),!(t=Cn.transform.baseVal.consolidate()))?_u:(t=t.matrix,Dg(t.a,t.b,t.c,t.d,t.e,t.f))}function Lg(t,e,r,n){function a(l){return l.length?l.pop()+" ":""}function o(l,c,d,f,h,p){if(l!==d||c!==f){var m=h.push("translate(",null,e,null,r);p.push({i:m-4,x:Be(l,d)},{i:m-2,x:Be(c,f)})}else(d||f)&&h.push("translate("+d+e+f+r)}function i(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(a(d)+"rotate(",null,n)-2,x:Be(l,c)})):c&&d.push(a(d)+"rotate("+c+n)}function s(l,c,d,f){l!==c?f.push({i:d.push(a(d)+"skewX(",null,n)-2,x:Be(l,c)}):c&&d.push(a(d)+"skewX("+c+n)}function u(l,c,d,f,h,p){if(l!==d||c!==f){var m=h.push(a(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Be(l,d)},{i:m-2,x:Be(c,f)})}else(d!==1||f!==1)&&h.push(a(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,f),i(l.rotate,c.rotate,d,f),s(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var p=-1,m=f.length,y;++p<m;)d[(y=f[p]).i]=y.x(h);return d.join("")}}}var A5=Lg(M5,"px, ","px)","deg)"),I5=Lg(S5,", ",")",")"),pr=0,zr=0,_r=0,jg=1e3,Vn,$r,Kn=0,Kt=0,wa=0,tn=typeof performance=="object"&&performance.now?performance:Date,qg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gl(){return Kt||(qg(P5),Kt=tn.now()+wa)}function P5(){Kt=0}function Yn(){this._call=this._time=this._next=null}Yn.prototype=Fg.prototype={constructor:Yn,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Gl():+r)+(e==null?0:+e),!this._next&&$r!==this&&($r?$r._next=this:Vn=this,$r=this),this._call=t,this._time=r,Tu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tu())}};function Fg(t,e,r){var n=new Yn;return n.restart(t,e,r),n}function E5(){Gl(),++pr;for(var t=Vn,e;t;)(e=Kt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--pr}function gh(){Kt=(Kn=tn.now())+wa,pr=zr=0;try{E5()}finally{pr=0,O5(),Kt=0}}function k5(){var t=tn.now(),e=t-Kn;e>jg&&(wa-=e,Kn=t)}function O5(){for(var t,e=Vn,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Vn=r);$r=t,Tu(n)}function Tu(t){if(!pr){zr&&(zr=clearTimeout(zr));var e=t-Kt;e>24?(t<1/0&&(zr=setTimeout(gh,t-tn.now()-wa)),_r&&(_r=clearInterval(_r))):(_r||(Kn=tn.now(),_r=setInterval(k5,jg)),pr=1,qg(gh))}}function yh(t,e,r){var n=new Yn;return e=e==null?0:+e,n.restart(a=>{n.stop(),t(a+e)},e,r),n}var _5=yg("start","end","cancel","interrupt"),T5=[],Bg=0,bh=1,Nu=2,_n=3,xh=4,Ru=5,Tn=6;function Ca(t,e,r,n,a,o){var i=t.__transition;if(!i)t.__transition={};else if(r in i)return;N5(t,r,{name:e,index:n,group:a,on:_5,tween:T5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Bg})}function Wl(t,e){var r=Ve(t,e);if(r.state>Bg)throw new Error("too late; already scheduled");return r}function ot(t,e){var r=Ve(t,e);if(r.state>_n)throw new Error("too late; already running");return r}function Ve(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function N5(t,e,r){var n=t.__transition,a;n[e]=r,r.timer=Fg(o,0,r.time);function o(l){r.state=bh,r.timer.restart(i,r.delay,r.time),r.delay<=l&&i(l-r.delay)}function i(l){var c,d,f,h;if(r.state!==bh)return u();for(c in n)if(h=n[c],h.name===r.name){if(h.state===_n)return yh(i);h.state===xh?(h.state=Tn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete n[c]):+c<e&&(h.state=Tn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete n[c])}if(yh(function(){r.state===_n&&(r.state=xh,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=Nu,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Nu){for(r.state=_n,a=new Array(f=r.tween.length),c=0,d=-1;c<f;++c)(h=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(a[++d]=h);a.length=d+1}}function s(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=Ru,1),d=-1,f=a.length;++d<f;)a[d].call(t,c);r.state===Ru&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=Tn,r.timer.stop(),delete n[e];for(var l in n)return;delete t.__transition}}function R5(t,e){var r=t.__transition,n,a,o=!0,i;if(r){e=e==null?null:e+"";for(i in r){if((n=r[i]).name!==e){o=!1;continue}a=n.state>Nu&&n.state<Ru,n.state=Tn,n.timer.stop(),n.on.call(a?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]}o&&delete t.__transition}}function D5(t){return this.each(function(){R5(this,t)})}function L5(t,e){var r,n;return function(){var a=ot(this,t),o=a.tween;if(o!==r){n=r=o;for(var i=0,s=n.length;i<s;++i)if(n[i].name===e){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function j5(t,e,r){var n,a;if(typeof r!="function")throw new Error;return function(){var o=ot(this,t),i=o.tween;if(i!==n){a=(n=i).slice();for(var s={name:e,value:r},u=0,l=a.length;u<l;++u)if(a[u].name===e){a[u]=s;break}u===l&&a.push(s)}o.tween=a}}function q5(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Ve(this.node(),r).tween,a=0,o=n.length,i;a<o;++a)if((i=n[a]).name===t)return i.value;return null}return this.each((e==null?L5:j5)(r,t,e))}function Vl(t,e,r){var n=t._id;return t.each(function(){var a=ot(this,n);(a.value||(a.value={}))[e]=r.apply(this,arguments)}),function(a){return Ve(a,n).value[e]}}function zg(t,e){var r;return(typeof e=="number"?Be:e instanceof Vt?Wn:(r=Vt(e))?(e=r,Wn):Rg)(t,e)}function F5(t){return function(){this.removeAttribute(t)}}function B5(t){return function(){this.removeAttributeNS(t.space,t.local)}}function z5(t,e,r){var n,a=r+"",o;return function(){var i=this.getAttribute(t);return i===a?null:i===n?o:o=e(n=i,r)}}function $5(t,e,r){var n,a=r+"",o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===a?null:i===n?o:o=e(n=i,r)}}function H5(t,e,r){var n,a,o;return function(){var i,s=r(this),u;return s==null?void this.removeAttribute(t):(i=this.getAttribute(t),u=s+"",i===u?null:i===n&&u===a?o:(a=u,o=e(n=i,s)))}}function U5(t,e,r){var n,a,o;return function(){var i,s=r(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),u=s+"",i===u?null:i===n&&u===a?o:(a=u,o=e(n=i,s)))}}function G5(t,e){var r=xa(t),n=r==="transform"?I5:zg;return this.attrTween(t,typeof e=="function"?(r.local?U5:H5)(r,n,Vl(this,"attr."+t,e)):e==null?(r.local?B5:F5)(r):(r.local?$5:z5)(r,n,e))}function W5(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function V5(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function K5(t,e){var r,n;function a(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&V5(t,o)),r}return a._value=e,a}function Y5(t,e){var r,n;function a(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&W5(t,o)),r}return a._value=e,a}function Z5(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=xa(t);return this.tween(r,(n.local?K5:Y5)(n,e))}function Q5(t,e){return function(){Wl(this,t).delay=+e.apply(this,arguments)}}function X5(t,e){return e=+e,function(){Wl(this,t).delay=e}}function J5(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Q5:X5)(e,t)):Ve(this.node(),e).delay}function e4(t,e){return function(){ot(this,t).duration=+e.apply(this,arguments)}}function t4(t,e){return e=+e,function(){ot(this,t).duration=e}}function r4(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?e4:t4)(e,t)):Ve(this.node(),e).duration}function n4(t,e){if(typeof e!="function")throw new Error;return function(){ot(this,t).ease=e}}function a4(t){var e=this._id;return arguments.length?this.each(n4(e,t)):Ve(this.node(),e).ease}function o4(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;ot(this,t).ease=r}}function i4(t){if(typeof t!="function")throw new Error;return this.each(o4(this._id,t))}function s4(t){typeof t!="function"&&(t=wg(t));for(var e=this._groups,r=e.length,n=new Array(r),a=0;a<r;++a)for(var o=e[a],i=o.length,s=n[a]=[],u,l=0;l<i;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new ft(n,this._parents,this._name,this._id)}function u4(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,a=r.length,o=Math.min(n,a),i=new Array(n),s=0;s<o;++s)for(var u=e[s],l=r[s],c=u.length,d=i[s]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;s<n;++s)i[s]=e[s];return new ft(i,this._parents,this._name,this._id)}function l4(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function c4(t,e,r){var n,a,o=l4(e)?Wl:ot;return function(){var i=o(this,t),s=i.on;s!==n&&(a=(n=s).copy()).on(e,r),i.on=a}}function d4(t,e){var r=this._id;return arguments.length<2?Ve(this.node(),r).on.on(t):this.each(c4(r,t,e))}function f4(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function v4(){return this.on("end.remove",f4(this._id))}function h4(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Bl(t));for(var n=this._groups,a=n.length,o=new Array(a),i=0;i<a;++i)for(var s=n[i],u=s.length,l=o[i]=new Array(u),c,d,f=0;f<u;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Ca(l[f],e,r,f,l,Ve(c,r)));return new ft(o,this._parents,e,r)}function p4(t){var e=this._name,r=this._id;typeof t!="function"&&(t=xg(t));for(var n=this._groups,a=n.length,o=[],i=[],s=0;s<a;++s)for(var u=n[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=t.call(c,c.__data__,d,u),h,p=Ve(c,r),m=0,y=f.length;m<y;++m)(h=f[m])&&Ca(h,e,r,m,f,p);o.push(f),i.push(c)}return new ft(o,i,e,r)}var m4=vn.prototype.constructor;function g4(){return new m4(this._groups,this._parents)}function y4(t,e){var r,n,a;return function(){var o=hr(this,t),i=(this.style.removeProperty(t),hr(this,t));return o===i?null:o===r&&i===n?a:a=e(r=o,n=i)}}function $g(t){return function(){this.style.removeProperty(t)}}function b4(t,e,r){var n,a=r+"",o;return function(){var i=hr(this,t);return i===a?null:i===n?o:o=e(n=i,r)}}function x4(t,e,r){var n,a,o;return function(){var i=hr(this,t),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),hr(this,t))),i===u?null:i===n&&u===a?o:(a=u,o=e(n=i,s))}}function w4(t,e){var r,n,a,o="style."+e,i="end."+o,s;return function(){var u=ot(this,t),l=u.on,c=u.value[o]==null?s||(s=$g(e)):void 0;(l!==r||a!==c)&&(n=(r=l).copy()).on(i,a=c),u.on=n}}function C4(t,e,r){var n=(t+="")=="transform"?A5:zg;return e==null?this.styleTween(t,y4(t,n)).on("end.style."+t,$g(t)):typeof e=="function"?this.styleTween(t,x4(t,n,Vl(this,"style."+t,e))).each(w4(this._id,t)):this.styleTween(t,b4(t,n,e),r).on("end.style."+t,null)}function M4(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function S4(t,e,r){var n,a;function o(){var i=e.apply(this,arguments);return i!==a&&(n=(a=i)&&M4(t,i,r)),n}return o._value=e,o}function A4(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,S4(t,e,r??""))}function I4(t){return function(){this.textContent=t}}function P4(t){return function(){var e=t(this);this.textContent=e??""}}function E4(t){return this.tween("text",typeof t=="function"?P4(Vl(this,"text",t)):I4(t==null?"":t+""))}function k4(t){return function(e){this.textContent=t.call(this,e)}}function O4(t){var e,r;function n(){var a=t.apply(this,arguments);return a!==r&&(e=(r=a)&&k4(a)),e}return n._value=t,n}function _4(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,O4(t))}function T4(){for(var t=this._name,e=this._id,r=Hg(),n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],s=i.length,u,l=0;l<s;++l)if(u=i[l]){var c=Ve(u,e);Ca(u,t,r,l,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ft(n,this._parents,t,r)}function N4(){var t,e,r=this,n=r._id,a=r.size();return new Promise(function(o,i){var s={value:i},u={value:function(){--a===0&&o()}};r.each(function(){var l=ot(this,n),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),a===0&&o()})}var R4=0;function ft(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Hg(){return++R4}var st=vn.prototype;ft.prototype={constructor:ft,select:h4,selectAll:p4,selectChild:st.selectChild,selectChildren:st.selectChildren,filter:s4,merge:u4,selection:g4,transition:T4,call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:d4,attr:G5,attrTween:Z5,style:C4,styleTween:A4,text:E4,textTween:_4,remove:v4,tween:q5,delay:J5,duration:r4,ease:a4,easeVarying:i4,end:N4,[Symbol.iterator]:st[Symbol.iterator]};function D4(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var L4={time:null,delay:0,duration:250,ease:D4};function j4(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function q4(t){var e,r;t instanceof ft?(e=t._id,t=t._name):(e=Hg(),(r=L4).time=Gl(),t=t==null?null:t+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],s=i.length,u,l=0;l<s;++l)(u=i[l])&&Ca(u,t,e,l,i,r||j4(u,e));return new ft(n,this._parents,t,e)}vn.prototype.interrupt=D5;vn.prototype.transition=q4;const Du=Math.PI,Lu=2*Du,Lt=1e-6,F4=Lu-Lt;function Ug(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function B4(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ug;const r=10**e;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class z4{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ug:B4(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,o,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+o},${this._y1=+i}`}arcTo(e,r,n,a,o){if(e=+e,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,s=this._y1,u=n-e,l=a-r,c=i-e,d=s-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Lt)if(!(Math.abs(d*u-l*c)>Lt)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,p=a-s,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),b=Math.sqrt(f),w=o*Math.tan((Du-Math.acos((m+f-y)/(2*g*b)))/2),x=w/b,C=w/g;Math.abs(x-1)>Lt&&this._append`L${e+x*c},${r+x*d}`,this._append`A${o},${o},0,0,${+(d*h>c*p)},${this._x1=e+C*u},${this._y1=r+C*l}`}}arc(e,r,n,a,o,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),u=n*Math.sin(a),l=e+s,c=r+u,d=1^i,f=i?a-o:o-a;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Lt||Math.abs(this._y1-c)>Lt)&&this._append`L${l},${c}`,n&&(f<0&&(f=f%Lu+Lu),f>F4?this._append`A${n},${n},0,1,${d},${e-s},${r-u}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:f>Lt&&this._append`A${n},${n},0,${+(f>=Du)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function $4(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zn(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function mr(t){return t=Zn(Math.abs(t)),t?t[1]:NaN}function H4(t,e){return function(r,n){for(var a=r.length,o=[],i=0,s=t[0],u=0;a>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),o.push(r.substring(a-=s,a+s)),!((u+=s+1)>n));)s=t[i=(i+1)%t.length];return o.reverse().join(e)}}function U4(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var G4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qn(t){if(!(e=G4.exec(t)))throw new Error("invalid format: "+t);var e;return new Kl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qn.prototype=Kl.prototype;function Kl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Kl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W4(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Gg;function V4(t,e){var r=Zn(t,e);if(!r)return t+"";var n=r[0],a=r[1],o=a-(Gg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Zn(t,Math.max(0,e+o-1))[0]}function wh(t,e){var r=Zn(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var Ch={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$4,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wh(t*100,e),r:wh,s:V4,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mh(t){return t}var Sh=Array.prototype.map,Ah=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function K4(t){var e=t.grouping===void 0||t.thousands===void 0?Mh:H4(Sh.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Mh:U4(Sh.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Qn(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,y=d.zero,g=d.width,b=d.comma,w=d.precision,x=d.trim,C=d.type;C==="n"?(b=!0,C="g"):Ch[C]||(w===void 0&&(w=12),x=!0,C="g"),(y||f==="0"&&h==="=")&&(y=!0,f="0",h="=");var A=m==="$"?r:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=m==="$"?n:/[%p]/.test(C)?i:"",k=Ch[C],O=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(P){var R=A,N=I,D,F,q;if(C==="c")N=k(P)+N,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?u:k(Math.abs(P),w),x&&(P=W4(P)),z&&+P==0&&p!=="+"&&(z=!1),R=(z?p==="("?p:s:p==="-"||p==="("?"":p)+R,N=(C==="s"?Ah[8+Gg/3]:"")+N+(z&&p==="("?")":""),O){for(D=-1,F=P.length;++D<F;)if(q=P.charCodeAt(D),48>q||q>57){N=(q===46?a+P.slice(D+1):P.slice(D))+N,P=P.slice(0,D);break}}}b&&!y&&(P=e(P,1/0));var $=R.length+P.length+N.length,G=$<g?new Array(g-$+1).join(f):"";switch(b&&y&&(P=e(G+P,G.length?g-N.length:1/0),G=""),h){case"<":P=R+P+N+G;break;case"=":P=R+G+P+N;break;case"^":P=G.slice(0,$=G.length>>1)+R+P+N+G.slice($);break;default:P=G+R+P+N;break}return o(P)}return _.toString=function(){return d+""},_}function c(d,f){var h=l((d=Qn(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(mr(f)/3)))*3,m=Math.pow(10,-p),y=Ah[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var Mn,Yl,Wg;Y4({thousands:",",grouping:[3],currency:["$",""]});function Y4(t){return Mn=K4(t),Yl=Mn.format,Wg=Mn.formatPrefix,Mn}function Z4(t){return Math.max(0,-mr(Math.abs(t)))}function Q4(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mr(e)/3)))*3-mr(Math.abs(t)))}function X4(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mr(e)-mr(t))+1}function J4(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function eI(t){return function(){return t}}function tI(t){return+t}var Ih=[0,1];function or(t){return t}function ju(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:eI(isNaN(e)?NaN:.5)}function rI(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function nI(t,e,r){var n=t[0],a=t[1],o=e[0],i=e[1];return a<n?(n=ju(a,n),o=r(i,o)):(n=ju(n,a),o=r(o,i)),function(s){return o(n(s))}}function aI(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),o=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=ju(t[i],t[i+1]),o[i]=r(e[i],e[i+1]);return function(s){var u=oS(t,s,1,n)-1;return o[u](a[u](s))}}function oI(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function iI(){var t=Ih,e=Ih,r=Ul,n,a,o,i=or,s,u,l;function c(){var f=Math.min(t.length,e.length);return i!==or&&(i=rI(t[0],t[f-1])),s=f>2?aI:nI,u=l=null,d}function d(f){return f==null||isNaN(f=+f)?o:(u||(u=s(t.map(n),e,r)))(n(i(f)))}return d.invert=function(f){return i(a((l||(l=s(e,t.map(n),Be)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,tI),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=C5,c()},d.clamp=function(f){return arguments.length?(i=f?!0:or,c()):i!==or},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return n=f,a=h,c()}}function sI(){return iI()(or,or)}function uI(t,e,r,n){var a=cS(t,e,r),o;switch(n=Qn(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=Q4(a,i))&&(n.precision=o),Wg(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=X4(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Z4(a))&&(n.precision=o-(n.type==="%")*2);break}}return Yl(n)}function lI(t){var e=t.domain;return t.ticks=function(r){var n=e();return lS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return uI(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,o=n.length-1,i=n[a],s=n[o],u,l,c=10;for(s<i&&(l=i,i=s,s=l,l=a,a=o,o=l);c-- >0;){if(l=Iu(i,s,r),l===u)return n[a]=i,n[o]=s,e(n);if(l>0)i=Math.floor(i/l)*l,s=Math.ceil(s/l)*l;else if(l<0)i=Math.ceil(i*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function qu(){var t=sI();return t.copy=function(){return oI(t,qu())},J4.apply(t,arguments),lI(t)}function rr(t){return function(){return t}}function cI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new z4(e)}function dI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vg(t){this._context=t}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kg(t){return new Vg(t)}function fI(t){return t[0]}function vI(t){return t[1]}function hI(t,e){var r=rr(!0),n=null,a=Kg,o=null,i=cI(s);t=typeof t=="function"?t:t===void 0?fI:rr(t),e=typeof e=="function"?e:e===void 0?vI:rr(e);function s(u){var l,c=(u=dI(u)).length,d,f=!1,h;for(n==null&&(o=a(h=i())),l=0;l<=c;++l)!(l<c&&r(d=u[l],l,u))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,l,u),+e(d,l,u));if(h)return o=null,h+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:rr(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:rr(+u),s):e},s.defined=function(u){return arguments.length?(r=typeof u=="function"?u:rr(!!u),s):r},s.curve=function(u){return arguments.length?(a=u,n!=null&&(o=a(n)),s):a},s.context=function(u){return arguments.length?(u==null?n=o=null:o=a(n=u),s):n},s}function Hr(t,e,r){this.k=t,this.x=e,this.y=r}Hr.prototype={constructor:Hr,scale:function(t){return t===1?this:new Hr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Hr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Hr.prototype;var he;(function(t){t.Monomer="monomer",t.Preset="preset",t.Bond="bond",t.AmbiguousMonomer="ambiguousMonomer"})(he||(he={}));var Qe;(function(t){t.Library="library",t.ChainStart="chainStart",t.ChainMiddle="chainMiddle",t.ChainEnd="chainEnd"})(Qe||(Qe={}));var Ht;(function(t){t.nanoMol="nM",t.microMol="μM",t.milliMol="mM"})(Ht||(Ht={}));var Ph=H(H(H({},Ht.nanoMol,Math.pow(10,9)),Ht.microMol,Math.pow(10,6)),Ht.milliMol,Math.pow(10,3)),pI={isReady:null,activeTool:"select",editor:void 0,editorLayoutMode:void 0,preview:{type:he.Monomer,monomer:void 0,style:{}},position:void 0,isContextMenuActive:!1,isMacromoleculesPropertiesWindowOpened:!1,macromoleculesProperties:void 0,unipositiveIonsMeasurementUnit:Ht.milliMol,oligonucleotidesMeasurementUnit:Ht.microMol,unipositiveIonsValue:140,oligonucleotidesValue:200},Wr=pa({name:"editor",initialState:pI,reducers:{init:function(e){e.isReady=!1},initSuccess:function(e){e.isReady=!0},initFailure:function(e){e.isReady=!1},selectTool:function(e,r){e.activeTool=r.payload},setPosition:function(e,r){e.position=r.payload},createEditor:function(e,r){var n,a,o=new ra({theme:r.payload.theme,canvas:r.payload.canvas,monomersLibraryUpdate:r.payload.monomersLibraryUpdate});e.editor=o,(n=(a=r.payload).onInit)===null||n===void 0||n.call(a,o)},destroyEditor:function(e){e.editorLayoutMode=e.editor.mode.modeName,e.editor.switchToMicromolecules(),e.editor=void 0},showPreview:function(e,r){e.preview=r.payload||{monomer:void 0,style:""}},setContextMenuActive:function(e,r){e.isContextMenuActive=r.payload},setMacromoleculesPropertiesWindowVisibility:function(e,r){e.isMacromoleculesPropertiesWindowOpened=r.payload},toggleMacromoleculesPropertiesWindowVisibility:function(e){e.isMacromoleculesPropertiesWindowOpened=!e.isMacromoleculesPropertiesWindowOpened},setMacromoleculesProperties:function(e,r){e.macromoleculesProperties=r.payload},setUnipositiveIonsMeasurementUnit:function(e,r){e.unipositiveIonsMeasurementUnit=r.payload},setOligonucleotidesMeasurementUnit:function(e,r){e.oligonucleotidesMeasurementUnit=r.payload},setUnipositiveIonsValue:function(e,r){e.unipositiveIonsValue=r.payload},setOligonucleotidesValue:function(e,r){e.oligonucleotidesValue=r.payload}}}),ye=Wr.actions,mI=ye.init,gI=ye.initSuccess,yI=ye.initFailure,wt=ye.selectTool;ye.setPosition;var bI=ye.createEditor,xI=ye.destroyEditor,gr=ye.showPreview,Yg=ye.setContextMenuActive,wI=ye.setMacromoleculesPropertiesWindowVisibility,Zg=ye.toggleMacromoleculesPropertiesWindowVisibility,au=ye.setMacromoleculesProperties,CI=ye.setUnipositiveIonsMeasurementUnit,MI=ye.setOligonucleotidesMeasurementUnit,SI=ye.setUnipositiveIonsValue,AI=ye.setOligonucleotidesValue,pn=function(e){return e.editor.preview},Ma=function(e){return e.editor.activeTool},II=function(e){return e.editor.position},oe=function(e){return e.editor.editor},it=function(e){var r;return(r=e.editor.editor)===null||r===void 0?void 0:r.isSequenceEditInRNABuilderMode},PI=function(e){return e.editor.editorLayoutMode},EI=function(e){var r;return(r=e.editor.editor)===null||r===void 0?void 0:r.isHandToolSelected},Qg=function(e){var r;return(r=e.editor.editor)===null||r===void 0||(r=r.drawingEntitiesManager)===null||r===void 0?void 0:r.hasAntisenseChains},kI=function(e){return e.editor.isContextMenuActive},Xg=function(e){return e.editor.isMacromoleculesPropertiesWindowOpened},OI=function(e){return e.editor.macromoleculesProperties},Zl=function(e){return e.editor.unipositiveIonsMeasurementUnit},Ql=function(e){return e.editor.oligonucleotidesMeasurementUnit},Xl=function(e){return e.editor.unipositiveIonsValue},Jl=function(e){return e.editor.oligonucleotidesValue},_I=Wr.reducer,TI=ke.mark(Jg),NI=ke.mark(e0),RI="editor/fetchData",DI=function(){return new Promise(function(e){setTimeout(function(){return e("some data")},1e3)})};function Jg(){return ke.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs(mI(Wr));case 2:return e.prev=2,e.next=5,hM(DI);case 5:return e.next=7,Qs(gI(Wr));case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(2),Zr.error("editorSaga.ts::fetchData",e.t0),e.next=14,Qs(yI(Wr));case 14:case"end":return e.stop()}},TI,null,[[2,9]])}function e0(){return ke.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bM(RI,Jg);case 2:case"end":return e.stop()}},NI)}var t0="FAVORITES",LI="PEPTIDE",Vr={PEPTIDE:"PEPTIDE",CHEM:"CHEM",RNA:"RNA"},W;(function(t){t.SUGARS="Sugars",t.BASES="Bases",t.PHOSPHATES="Phosphates",t.PEPTIDES="Amino acids",t.NUCLEOTIDES="Nucleotides"})(W||(W={}));var Eh;(function(t){t.R="R",t.A="A",t.C="C",t.G="G",t.T="T",t.U="U",t.X="X",t.P="P"})(Eh||(Eh={}));var ou={R:W.SUGARS,A:W.BASES,C:W.BASES,G:W.BASES,T:W.BASES,U:W.BASES,X:W.BASES,P:W.PHOSPHATES},Mt="favoriteItemsUniqueKeys",yr="ketcher_custom_presets",kh="Z",jI="No natural analogue",Oh="thymine",_h="uracil",rn={PEPTIDES:1,RNA:2},ec="★",qI=function(){function t(){Zp(this,t),this.localStorage=window.localStorage}return Gp(t,[{key:"getItem",value:function(r){var n=this.localStorage.getItem(r);return n?JSON.parse(n):null}},{key:"setItem",value:function(r,n){this.localStorage.setItem(r,JSON.stringify(n))}},{key:"removeItem",value:function(r){this.localStorage.removeItem(r)}}]),t}(),Ee=new qI;function Th(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Th(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Th(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FI=H(H({},It.PEPTIDES,ct.AminoAcid),It.BASES,ct.Base),BI={monomers:[],favorites:{},searchFilter:"",selectedTabIndex:rn.RNA};function He(t){var e;return Ie(t)?t.id||t.label:"".concat(t.props.MonomerName,"___").concat((e=t.props)===null||e===void 0?void 0:e.Name)}function zI(t){var e,r,n;return"".concat(t.name,"_").concat(((e=t.base)===null||e===void 0?void 0:e.label)||".","_").concat(((r=t.sugar)===null||r===void 0?void 0:r.label)||".","_").concat(((n=t.phosphate)===null||n===void 0?void 0:n.label)||".")}var r0=pa({name:"library",initialState:BI,reducers:{loadMonomerLibrary:function(e,r){var n=r.payload.map(function(a){return Ae(Ae({},a),{},{props:Ae({},a.props)})});e.monomers=n},setFavoriteMonomersFromLocalStorage:function(e){var r={},n=Ee.getItem(Mt);!n||!Array.isArray(n)||(e.monomers.forEach(function(a){var o=He(a),i=n.find(function(s){return s===o});i&&(r[o]=Ae(Ae({},a),{},{favorite:!0}))}),e.favorites=r)},clearFavorites:function(e){e.favorites={}},toggleMonomerFavorites:function(e,r){var n=He(r.payload),a=Ee.getItem(Mt)||[];e.favorites[n]?(delete e.favorites[n],Ee.setItem(Mt,a.filter(function(o){return o!==n}))):(e.favorites[n]=Ae(Ae({},r.payload),{},{favorite:!0}),a.push(n),Ee.setItem(Mt,a))},setSearchFilter:function(e,r){e.searchFilter=r.payload},setSelectedTabIndex:function(e,r){e.selectedTabIndex=r.payload}}}),n0=function(e,r){return e.filter(function(n){var a;return!n.isAmbiguous&&((a=n.props)===null||a===void 0?void 0:a.MonomerType)===r})},nn=function(e,r){var n=e.filter(function(i){if(!Ie(i))return!1;var s=new tt(i,void 0,!1);return FI[r]===s.monomerClass});if(n.length===0)return[];var a=[];r===It.BASES?a=[{groupTitle:"Ambiguous DNA Bases",groupItems:n.filter(function(i){return Ie(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(Oh)})})},{groupTitle:"Ambiguous RNA Bases",groupItems:n.filter(function(i){return Ie(i)&&i.options.find(function(s){return s.templateId.toLowerCase().includes(_h)})})},{groupTitle:"Ambiguous Bases",groupItems:n.filter(function(i){return Ie(i)&&i.options.every(function(s){return!s.templateId.toLowerCase().includes(Oh)&&!s.templateId.toLowerCase().includes(_h)})})}]:a.push({groupTitle:"Ambiguous ".concat(r),groupItems:n});var o=["X","N"];return a.forEach(function(i){i.groupItems.sort(function(s,u){return s.label.localeCompare(u.label)}),i.groupItems.sort(function(s){return o.includes(s.label)?-1:1})}),a},$I=function(e){return e.filter(function(r){var n,a;return!r.isAmbiguous&&(((n=r.props)===null||n===void 0?void 0:n.MonomerClass)===ct.RNA||((a=r.props)===null||a===void 0?void 0:a.MonomerClass)===ct.DNA)})},HI=function(e){return e.filter(function(r){return r.favorite&&!r.isAmbiguous})},UI=function(e){var r=[];for(var n in It){var a=nn(e,It[n]);r=[].concat(ce(r),ce(a))}return r.forEach(function(o){o.groupItems=o.groupItems.filter(function(i){return i.favorite})}),r.filter(function(o){return o.groupItems.length})},Sa=yy(function(t){return t.library},function(t){var e=t.searchFilter,r=t.monomers,n=t.favorites,a=e.toLowerCase(),o=function(){var s,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,f=u.toLowerCase(),h=l.toLowerCase(),p=c==null||(s=c.base)===null||s===void 0?void 0:s.toLowerCase(),m=c!=null&&c.modifications?Object.values(c.modifications).map(function(D){return D.toLowerCase()}).join(" "):"";if(d==="/")return!!(p||m);if(d.includes("/")){var y=d.split("/");if(y.length>3||y.length===3&&y[2]!=="")return!1;if(y.length===3&&y[1]!==""){var g=y[1],b=p&&p.length===g.length&&Array.from(p).every(function(D,F){return D===g[F]}),w=m?m.split(" ").some(function(D){return D.length===g.length&&Array.from(D).every(function(F,q){return F===g[q]})}):!1;return b||w}var x=y[0],C=y[1];if(d.startsWith("/")&&d.length>1){var A=d.slice(1);return p&&p.startsWith(A)||m&&m.split(" ").some(function(D){return D.startsWith(A)})}if(d.endsWith("/")&&d.length>1){var I=d.slice(0,-1),k=d[d.length-2];return p&&p.endsWith(I)&&p[p.length-1]===k||m&&m.split(" ").some(function(D){return D.endsWith(I)&&D[D.length-1]===k})}var O=p&&p.startsWith(C)&&p.endsWith(x),_=m?m.split(" ").some(function(D){return D.startsWith(C)&&D.endsWith(x)}):!1;return O||_}var P=p?p.includes(d):!1,R=m?m.includes(d):!1,N=f.includes(d)||h.includes(d)||P||R;return N};return r.filter(function(i){if(i.isAmbiguous){var s=i.label,u=i.id,l=i.idtAliases,c=i.monomers,d=o(s,u,l,a);return d||c.some(function(y){var g=y.monomerItem.props,b=g.Name,w=g.MonomerName,x=g.idtAliases;return o(b,w,x,a)})}else{var f=i.props,h=f.Name,p=f.MonomerName,m=f.idtAliases;return o(h,p,m,a)}}).map(function(i){return Ae(Ae({},i),{},{favorite:!!n[He(i)]})})}),Fu=function(e){var r=e.reduce(function(o,i){var s=i.props.MonomerNaturalAnalogCode||kh;return o[s]||(o[s]=[]),o[s].push(Ae(Ae({},i),{},{label:i.props.MonomerName})),o},{}),n=Object.entries(r).reduce(function(o,i){var s=L(i,2),u=s[0],l=s[1],c=l.sort(function(h,p){return h.label.localeCompare(p.label)}),d=c.findIndex(function(h){return h.label===u});if(d!==-1){var f=c.splice(d,1);c.unshift(f[0])}return o[u]=c,o},{}),a=[];return Object.keys(n).sort(function(o,i){return o.localeCompare(i)}).reduce(function(o,i){var s={groupTitle:i===kh?jI:i,groupItems:[]};return n[i].forEach(function(u){s.groupItems.push(Ae(Ae({},u),{},{props:Ae({},u.props)}))}),s.groupItems.length&&o.push(s),o},a)},a0=function(e){return e.library.selectedTabIndex},Ar=r0.actions,Bu=Ar.loadMonomerLibrary,GI=Ar.setFavoriteMonomersFromLocalStorage;Ar.clearFavorites;var WI=Ar.toggleMonomerFavorites,Nh=Ar.setSearchFilter,an=Ar.setSelectedTabIndex,VI=r0.reducer,KI=ke.mark(o0);function o0(){return ke.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pM(e0);case 2:case"end":return e.stop()}},KI)}var YI={name:null,isOpen:!1,additionalProps:null,errorTooltipText:"",errorModalText:"",errorModalTitle:""},i0=pa({name:"modal",initialState:YI,reducers:{openModal:function(e,r){typeof r.payload=="string"?e.name=r.payload:(e.name=r.payload.name,e.additionalProps=r.payload.additionalProps),e.isOpen=!0},closeModal:function(e){e.name=null,e.isOpen=!1,e.additionalProps=null},openErrorTooltip:function(e,r){e.errorTooltipText=r.payload},closeErrorTooltip:function(e){e.errorTooltipText=""},openErrorModal:function(e,r){if(typeof r.payload=="string")e.errorModalText=r.payload;else{var n=r.payload,a=n.errorMessage,o=n.errorTitle;e.errorModalText=a,e.errorModalTitle=o}},closeErrorModal:function(e){e.errorModalText=""}}}),Ir=i0.actions,cr=Ir.openModal,ZI=Ir.closeModal,Rh=Ir.openErrorTooltip,QI=Ir.closeErrorTooltip,on=Ir.openErrorModal,XI=Ir.closeErrorModal,JI=function(e){return e.modal.name},eP=function(e){return e.modal.isOpen},tP=function(e){return e.modal.additionalProps},rP=function(e){return e.modal.errorTooltipText},nP=function(e){return e.modal.errorModalText},aP=function(e){return e.modal.errorModalTitle},oP=i0.reducer;function Dh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var br=function(){return Ee.getItem(yr)},tc=function(e){var r,n=br();return(r=n?.findIndex(function(a){return a.name===e}))!==null&&r!==void 0?r:-1},s0=function(e){var r=iP({},e),n=br()||[],a=tc(r.nameInList);r.nameInList=r.name,a>-1?(n.splice(a,1,r),Ee.setItem(yr,n)):Ee.setItem(yr,[].concat(ce(n),[r]))},sP=function(e){if(e){var r=br(),n=tc(e);r&&(r.splice(n,1),r.length?Ee.setItem(yr,r):Ee.removeItem(yr))}},uP=function(e){if(e){var r=br(),n=tc(e);r&&n>-1&&(r[n].favorite=!r[n].favorite,Ee.setItem(yr,r))}},lP=function(e){var r=["sugar","base","phosphate"],n=mw(e,r);n.templates=[];for(var a=0,o=r;a<o.length;a++){var i,s=o[a],u=e[s],l=(u==null||(i=u.props)===null||i===void 0?void 0:i.id)||u?.id;l&&n.templates.push({$ref:u.isAmbiguous?Wp(l):Vp(l)})}return n},cP=function(e,r){var n,a,o=[],i=[],s=[];return!r||!(e!=null&&e.sugar)&&!(e!=null&&e.phosphate)&&!(e!=null&&e.base)?{sugarValidations:o,phosphateValidations:i,baseValidations:s}:(e!=null&&e.phosphate&&o.push("R2"),e!=null&&e.base&&o.push("R3"),s.push("R1"),e!=null&&(n=e.sugar)!==null&&n!==void 0&&(n=n.props)!==null&&n!==void 0&&n.MonomerCaps&&!("R3"in e.sugar.props.MonomerCaps)&&s.push("DISABLED"),i.push("R1"),e!=null&&(a=e.sugar)!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.MonomerCaps&&!("R2"in e.sugar.props.MonomerCaps)&&i.push("DISABLED"),{sugarValidations:o,phosphateValidations:i,baseValidations:s})};function Lh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xe;(function(t){t.Presets="Presets"})(xe||(xe={}));var dP={activePreset:null,sequenceSelection:void 0,sequenceSelectionName:void 0,isSequenceFirstsOnlyNucleoelementsSelected:void 0,activePresetMonomerGroup:null,groupItemValidations:H(H(H({},W.BASES,[]),W.SUGARS,[]),W.PHOSPHATES,[]),presetsDefault:[],presetsCustom:[],activeRnaBuilderItem:null,activeMonomerKey:null,isEditMode:!1,uniqueNameError:"",invalidPresetError:"",activePresetForContextMenu:null},qt=H(H(H({},W.BASES,"base"),W.SUGARS,"sugar"),W.PHOSPHATES,"phosphate"),u0=pa({name:"rna-builder",initialState:dP,reducers:{createNewPreset:function(e){e.activePreset={base:void 0,sugar:void 0,phosphate:void 0,name:"",nameInList:""}},setActivePreset:function(e,r){e.activePreset=Tr(Tr({},r.payload),{},{nameInList:r.payload.name})},setSequenceSelection:function(e,r){e.sequenceSelection=ce(r.payload)},setSequenceSelectionName:function(e,r){e.sequenceSelectionName=r.payload},setIsSequenceFirstsOnlyNucleoelementsSelected:function(e,r){e.isSequenceFirstsOnlyNucleoelementsSelected=r.payload},setActivePresetForContextMenu:function(e,r){e.activePresetForContextMenu=r.payload},setActivePresetName:function(e,r){e.activePreset.name=r.payload},setActiveRnaBuilderItem:function(e,r){e.activeRnaBuilderItem=r.payload},recalculateRnaBuilderValidations:function(e,r){var n=cP(r.payload.rnaPreset,r.payload.isEditMode),a=n.sugarValidations,o=n.phosphateValidations,i=n.baseValidations;e.groupItemValidations[W.SUGARS]=a,e.groupItemValidations[W.BASES]=i,e.groupItemValidations[W.PHOSPHATES]=o},setActivePresetMonomerGroup:function(e,r){e.activePresetMonomerGroup=r.payload},savePreset:function(e,r){var n=r.payload,a=Tr({},n);if(s0(lP(a)),a.nameInList){var o=e.presetsCustom.findIndex(function(i){return i.name===a.nameInList});a.nameInList=a.name,o===-1?e.presetsCustom.push(a):e.presetsCustom.splice(o,1,a)}else e.presetsCustom.push(a);e.activePreset&&(e.activePreset.nameInList=a.name)},deletePreset:function(e,r){var n=r.payload;sP(n.name);var a=e.presetsCustom.findIndex(function(o){return o.name===n.name});e.presetsCustom.splice(a,1),n.nameInList&&(e.activePreset=null)},setIsEditMode:function(e,r){e.isEditMode=r.payload},setUniqueNameError:function(e,r){e.uniqueNameError=r.payload},setInvalidPresetError:function(e,r){e.invalidPresetError=r.payload},setDefaultPresets:function(e,r){var n=r.payload[0];if(n){var a=e.presetsDefault.find(function(o){return o.name===n.name});a||(e.presetsDefault=r.payload)}},setCustomPresets:function(e,r){e.presetsCustom=r.payload},setFavoritePresetsFromLocalStorage:function(e){var r=Ee.getItem(Mt);!r||!Array.isArray(r)||(e.presetsDefault=e.presetsDefault.map(function(n){var a="".concat(n.name,"_").concat(gc.RNA),o=r.find(function(i){return i===a});return o?Tr(Tr({},n),{},{favorite:!0}):n}))},clearFavorites:function(e){e.presetsDefault=[]},setActiveMonomerKey:function(e,r){e.activeMonomerKey=r.payload},togglePresetFavorites:function(e,r){var n=e.presetsDefault.findIndex(function(c){return c.name===r.payload.name}),a=e.presetsCustom.findIndex(function(c){return c.name===r.payload.name});if(n>=0){var o=e.presetsDefault[n].favorite;e.presetsDefault[n].favorite=!o}else if(a>=0){uP(e.presetsCustom[a].name);var i=e.presetsCustom[a].favorite;e.presetsCustom[a].favorite=!i;return}var s="".concat(r.payload.name,"_").concat(gc.RNA),u=Ee.getItem(Mt)||[],l=u.some(function(c){return c===s});l?Ee.setItem(Mt,u.filter(function(c){return c!==s})):(u.push(s),Ee.setItem(Mt,u))}}}),l0=function(e){return e.rnaBuilder.activeRnaBuilderItem},fP=function(e){return e.rnaBuilder.groupItemValidations},Aa=function(e){return e.rnaBuilder.activePreset},c0=function(e){return e.rnaBuilder.sequenceSelection},vP=function(e){return e.rnaBuilder.sequenceSelectionName},hP=function(e){return e.rnaBuilder.isSequenceFirstsOnlyNucleoelementsSelected},iu=function(e,r){if(!(!qt[r]||!e))return e[qt[r]]},pP=function(e){return e.rnaBuilder.activePresetMonomerGroup},jh=function(e){return!!(e.name&&e.sugar&&(e.base||e.phosphate))},Pr=function(e){return e.rnaBuilder.isEditMode},d0=function(e){var r,n,a,o,i,s;if(!e)return"";var u=((r=e.sugar)===null||r===void 0?void 0:r.label)||((n=e.sugar)===null||n===void 0?void 0:n.props.MonomerName)||"",l=((a=e.base)===null||a===void 0?void 0:a.label)||((o=e.base)===null||o===void 0?void 0:o.props.MonomerName)||"",c=((i=e.phosphate)===null||i===void 0?void 0:i.label)||((s=e.phosphate)===null||s===void 0?void 0:s.props.MonomerName)||"",d=u;return u&&c||(u||c)&&l?d+="(".concat(l,")"):d+=l,d+=c,d},mP=function(e){return e.rnaBuilder.uniqueNameError},gP=function(e){return e.rnaBuilder.invalidPresetError},rc=function(e){var r=e.rnaBuilder.activePreset;return r&&!r.nameInList&&!r.name&&!r.sugar&&!r.base&&!r.phosphate},f0=function(e){return e.rnaBuilder.activePresetForContextMenu},yP=function(e){return e.filter(function(r){return r.favorite})},v0=function(e){return e.rnaBuilder.activeMonomerKey},Ia=function(e){var r=e.rnaBuilder,n=r.presetsDefault,a=n===void 0?[]:n,o=r.presetsCustom,i=o===void 0?[]:o;return[].concat(ce(a),ce(i))},Pa=function(e){var r,n=e.library.searchFilter,a=Ia(e),o=(r=II(e))!==null&&r!==void 0?r:Or.Library,i=n.toLowerCase();return a.filter(function(s){var u,l,c,d,f,h,p,m,y=(u=s.name)===null||u===void 0?void 0:u.toLowerCase(),g=(l=s.sugar)===null||l===void 0||(l=l.label)===null||l===void 0?void 0:l.toLowerCase(),b=(c=s.phosphate)===null||c===void 0||(c=c.label)===null||c===void 0?void 0:c.toLowerCase(),w=(d=s.base)===null||d===void 0||(d=d.label)===null||d===void 0?void 0:d.toLowerCase(),x=(f=s.idtAliases)===null||f===void 0||(f=f.base)===null||f===void 0?void 0:f.toLowerCase(),C=(h=s.idtAliases)===null||h===void 0?void 0:h.modifications,A=x;if((p=s.name)!==null&&p!==void 0&&p.includes("MOE")&&x){var I,k,O,_=x,P=(I=C?.endpoint5)!==null&&I!==void 0?I:"5".concat(_),R=(k=C?.internal)!==null&&k!==void 0?k:"i".concat(_),N=(O=C?.endpoint3)!==null&&O!==void 0?O:"3".concat(_);switch(o){case Or.Library:A="".concat(P,", ").concat(R);break;case Or.ChainStart:A=P;break;case Or.ChainMiddle:A=R;break;case Or.ChainEnd:A=N;break}}var D=(i.match(/\//g)||[]).length,F=i.split("/");if(D>=2&&F[2]!==void 0&&F[2]!=="")return!1;if(i.startsWith("/")&&i.length>1){var q,z=i.slice(1);return((q=A)===null||q===void 0?void 0:q.toLowerCase().startsWith(z))||x?.startsWith(z)||C&&Object.values(C).some(function(ie){return ie?.toLowerCase().startsWith(z)})}if(i.endsWith("/")&&i.length>1){var $,G=i.slice(0,-1),pe=i[i.length-2];return(($=A)===null||$===void 0?void 0:$.toLowerCase().endsWith(G))&&A[A.length-1]===pe||x?.endsWith(G)&&x[x.length-1]===pe||C&&Object.values(C).some(function(ie){return ie?.toLowerCase().endsWith(G)&&ie[ie.length-1]===pe})}if(i==="/")return!!s.idtAliases;var je=y?.includes(i)||g?.includes(i)||b?.includes(i)||w?.includes(i)||((m=A)===null||m===void 0?void 0:m.toLowerCase().includes(i));return je})},ue=u0.actions,sn=ue.setActivePreset,nc=ue.setSequenceSelection,h0=ue.setSequenceSelectionName,bP=ue.setIsSequenceFirstsOnlyNucleoelementsSelected;ue.setActivePresetName;var Ut=ue.setActiveRnaBuilderItem,p0=ue.setActiveMonomerKey,ac=ue.recalculateRnaBuilderValidations,m0=ue.setActivePresetMonomerGroup,xP=ue.savePreset,wP=ue.deletePreset,oc=ue.createNewPreset,vt=ue.setIsEditMode,ic=ue.setUniqueNameError,g0=ue.setInvalidPresetError,CP=ue.setDefaultPresets,MP=ue.setCustomPresets,SP=ue.setActivePresetForContextMenu,AP=ue.togglePresetFavorites,IP=ue.setFavoritePresetsFromLocalStorage,PP=ue.clearFavorites,EP=u0.reducer;function kP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=JM(),r=AC({reducer:{editor:_I,modal:oP,library:VI,rnaBuilder:EP},middleware:function(a){return a({thunk:!1,serializableCheck:!1}).concat(e)},preloadedState:t});return e.run(o0),r}var OP=kP(),te={colorA:{regular:"#CCCBD6",hover:"#B8BBCC"},colorCM:{regular:"#FFE34C",hover:"#FFD700"},colorDQ:{regular:"#AD4551",hover:"#AB0014"},colorEN:{regular:"#93F5F5",hover:"#00F0F0"},colorFY:{regular:"#5656BF",hover:"#2626BF"},colorGX:{regular:"#E1E6ED",hover:"#CAD3E0"},colorH:{regular:"#BFC9FF",hover:"#99AAFF"},colorILV:{regular:"#50E576",hover:"#00D936"},colorKR:{regular:"#365CFF",hover:"#002CEB"},colorP:{regular:"#F2C5B6",hover:"#FFA98C"},colorST:{regular:"#FFC44C",hover:"#FFAA00"},colorW:{regular:"#99458B",hover:"#7F006B"},colorU:{regular:"#99458B",hover:"#7F006B"},chem:{regular:"#333333",hover:"#555555"},default:{regular:"#CCCBD6",hover:"#B8BBCC"}},se={D:{regular:"#FF8C69",hover:"#0097A8"},E:{regular:"#DC143C",hover:"#0097A8"},K:{regular:"#B0E0E6",hover:"#0097A8"},H:{regular:"#007FFF",hover:"#0097A8"},O:{regular:"#2A52BE",hover:"#0097A8"},R:{regular:"#0A12FF",hover:"#0097A8"},Q:{regular:"#EDB4ED",hover:"#0097A8"},Y:{regular:"#D65CBC",hover:"#0097A8"},U:{regular:"#CA7DE3",hover:"#0097A8"},S:{regular:"#9966CC",hover:"#0097A8"},C:{regular:"#BF00FF",hover:"#0097A8"},N:{regular:"#800080",hover:"#0097A8"},T:{regular:"#FF00FF",hover:"#0097A8"},L:{regular:"#7FFF00",hover:"#0097A8"},I:{regular:"#4CBB17",hover:"#0097A8"},F:{regular:"#008A00",hover:"#0097A8"},A:{regular:"#008080",hover:"#0097A8"},P:{regular:"#D2D900",hover:"#0097A8"},G:{regular:"#BDB76B",hover:"#0097A8"},M:{regular:"#FFF600",hover:"#0097A8"},V:{regular:"#FFD700",hover:"#0097A8"}},qh={color:{background:{canvas:"#F5F5F5",primary:"#FFFFFF",secondary:"#F8FEFF",overlay:"rgba(94,94,94,.8)"},border:{primary:"#CAD3DD",secondary:"#7C7C7F"},text:{primary:"#333333",secondary:"#167782",light:"#585858",dark:"#000000",error:"#FF4A4A",lightgrey:"#7C7C7F"},tab:{regular:"#FFFFFF",active:"#E1E5EA",hover:"#00838F",content:"#EFF2F5"},scroll:{regular:"#717171",inactive:"#DDDDDD"},button:{primary:{active:"#167782",hover:"#00838F",clicked:"#4FB3BF",disabled:"rgba(113, 113, 113, 0.4)"},secondary:{active:"#585858",hover:"#333333",clicked:"#AEAEAE",disabled:"rgba(113, 113, 113, 0.4)"},group:{active:"#167782",hover:"#2E858F"},transparent:{active:"transparent"},text:{primary:"#FFFFFF",secondary:"#005662",disabled:"#7A7A7A"}},dropdown:{primary:"#333333",secondary:"#FFFFFF",hover:"#DDDDDD",disabled:"#7A7A7A"},tooltip:{background:"#FFFFFF",text:"#333333"},link:{active:"#00838F",hover:"#005662"},divider:"#AEAEAE",spinner:"#005662",error:"#FF4A4A",input:{text:{default:"#585858",active:"#333333",disabled:"#585858",error:"#FF4A4A"},background:{primary:"#FFFFFF",default:"#EFF2F5",hover:"#DDDDDD",disabled:"#eff2f5"},border:{regular:"#cad3dd",active:"#FFFFFF",hover:"#43b5c0",focus:"#EFF2F5",error:"#FF4A4A"}},icon:{grey:"#B4B9D6",hover:"#005662",active:"#525252",activeMenu:"#005662",clicked:"#FFFFFF",disabled:"rgba(82, 82, 82, 0.4)"},monomer:{default:"#C8C8C8"},editMode:{sequenceInRNABuilder:"#99d7dc"}},font:{size:{small:"10px",regular:"12px",medium:"14px",xsmall:"6px"},family:{montserrat:"Montserrat, sans-serif",inter:`Inter, FreeSans, Arimo, 'Droid Sans', Helvetica, 'Helvetica Neue',
Arial, sans-serif`,roboto:"Roboto, FreeSans, Arimo, Droid Sans, Helvetica, Helvetica Neue, Arial, sans-serif"},weight:{light:300,regular:400,bold:600}},monomer:{color:{A:te.colorA,C:te.colorCM,M:te.colorCM,D:te.colorDQ,Q:te.colorDQ,E:te.colorEN,N:te.colorEN,F:te.colorFY,Y:te.colorFY,G:te.colorGX,X:te.colorGX,H:te.colorH,I:te.colorILV,L:te.colorILV,V:te.colorILV,K:te.colorKR,R:te.colorKR,P:te.colorP,S:te.colorST,T:te.colorST,W:te.colorW,U:te.colorU,CHEM:te.chem,default:te.default}},peptide:{color:{D:se.D,E:se.E,K:se.K,H:se.H,O:se.O,R:se.R,Q:se.Q,Y:se.Y,U:se.U,S:se.S,C:se.C,N:se.N,T:se.T,L:se.L,I:se.I,F:se.F,A:se.A,P:se.P,G:se.G,M:se.M,V:se.V}},border:{regular:"1px solid #CAD3DD",small:"1px solid #E1E5EA",radius:{regular:"4px"}},shadow:{regular:"0px 1px 1px rgba(197, 203, 207, 0.7)",mainLayoutBlocks:"0px 2px 5px rgba(103, 104, 132, 0.15)"},outline:{small:"1px solid #B4B9D6",medium:"2px solid #B4B9D6",color:"#B4B9D6",selected:{color:"#167782",small:"1px solid #167782",medium:"2px solid #167782"},grey:{small:"1px solid #585858"}},transition:{regular:"all .3s"},zIndex:{base:0,sticky:100,overlay:200,modal:1e3,critical:9999}},_P={},TP=function(e){return nm({all:"unset",".Ketcher-polymer-editor-root":{all:"unset",fontSize:e.ketcher.font.size.medium,fontFamily:e.ketcher.font.family.inter,fontWeight:e.ketcher.font.weight.regular,backgroundColor:e.ketcher.color.background.primary,color:e.ketcher.color.text.primary,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) div":{boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) input":{fontFamily:e.ketcher.font.family.inter,fontWeight:e.ketcher.font.weight.regular,fontSize:e.ketcher.font.size.regular,boxSizing:"border-box"},":where(.Ketcher-polymer-editor-root) h1":{fontSize:96},":where(.Ketcher-polymer-editor-root) h2":{fontSize:60},":where(.Ketcher-polymer-editor-root) h3":{fontSize:48},":where(.Ketcher-polymer-editor-root) h4":{fontSize:34},":where(.Ketcher-polymer-editor-root) h5":{fontSize:24},":where(.Ketcher-polymer-editor-root) h6":{fontSize:20,fontWeight:e.ketcher.font.weight.bold},":where(.Ketcher-polymer-editor-root) p":{fontSize:e.ketcher.font.size.regular},":where(.Ketcher-polymer-editor-root) button":{textTransform:"uppercase",fontWeight:e.ketcher.font.weight.bold}},"","")},y0="254px",NP=M("div",{target:"e1vkl5kv5"})("width:",y0,";height:calc(100% - 16px);display:flex;flex-direction:column;background-color:",function(t){return t.theme.ketcher.color.background.primary},";box-shadow:",function(t){var e=t.theme;return e.ketcher.shadow.mainLayoutBlocks},";border-radius:4px;"),RP=M("div",{target:"e1vkl5kv4"})({name:"n1y6qf",styles:"padding:10px 0 10px 8px;position:relative;display:flex;align-items:center;gap:8px"}),DP=M("div",{target:"e1vkl5kv3"})("height:24px;display:flex;flex-grow:1;gap:4px;align-items:center;padding:4px;background-color:",function(t){return t.theme.ketcher.color.input.background.default},";border-radius:4px;&:hover,&:has(input:focus){outline:",function(t){return t.theme.ketcher.outline.selected.small},";}"),LP=M("button",{target:"e1vkl5kv2"})("height:24px;display:flex;align-items:center;gap:2px;border:none;border-radius:4px 0 0 4px;cursor:pointer;background-color:#e2e5e9;text-transform:none;font-weight:",function(t){var e=t.theme;return e.ketcher.font.weight.regular},";font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";color:",function(t){var e=t.theme;return e.ketcher.color.text.secondary},";"),jP=M(de,{target:"e1vkl5kv1"})("height:16px;width:16px;color:",function(t){return t.theme.ketcher.color.text.secondary},";"),qP=M(om,{target:"e1vkl5kv0"})({name:"pmmg8c",styles:"flex-grow:1;padding:0;margin:0;background-color:transparent;border:none;outline:none;&:hover{outline:none;}&:focus{outline:none;}"}),Fh=M("div",{target:"e1pv9pa10"})(function(t){var e=t.fullWidth,r=t.withPaddingRight;return{width:e?"100%":"fit-content",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:r?"12px":0}},""),FP=M("div",{target:"e1pv9pa9"})(function(t){var e=t.theme;return{height:"100%",width:"100%",position:"relative",padding:"12px",paddingBottom:0,backgroundColor:e.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",containerType:"size",overflow:"clip"}},""),BP=M("div",{target:"e1pv9pa8"})(function(t){var e=t.theme;return{height:"100%",width:"100%",position:"relative",paddingBottom:0,backgroundColor:e.ketcher.color.background.canvas,display:"flex",justifyContent:"space-between",columnGap:"3px"}},""),b0=M("div",{target:"e1pv9pa7"})(function(t){var e=t.hide,r=e===void 0?!1:e;return{height:"100%",width:"fit-content",display:r?"none":"flex",flexDirection:"column"}},""),x0=M(b0,{target:"e1pv9pa6"})(""),w0=M(b0,{target:"e1pv9pa5"})(""),C0=M("div",{target:"e1pv9pa4"})(function(t){var e=t.shortened,r=e===void 0?!1:e,n=t.theme;return{height:"36px",width:r?"calc(100% - ".concat(y0,")"):"calc(100%)",marginBottom:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#FFFFFF",boxShadow:n.ketcher.shadow.mainLayoutBlocks,borderRadius:"4px"}},""),M0=M("div",{target:"e1pv9pa3"})({name:"1gavlve",styles:"&:not(:empty){margin-bottom:15px;}"}),S0=M("div",{target:"e1pv9pa2"})({name:"149k9u4",styles:"height:100%;width:100%;position:relative"}),A0=M("div",{target:"e1pv9pa1"})({name:"0",styles:""}),zP=M("div",{target:"e1pv9pa0"})({name:"1k18kha",styles:"height:40px"}),Te=function(e){var r=e.children,n={Left:null,Main:null,Right:null,Top:null,Bottom:null,InsideRoot:null};return kt.Children.forEach(r,function(a){a.type===x0?n.Left=a:a.type===w0?n.Right=a:a.type===C0?n.Top=a:a.type===M0?n.Bottom=a:a.type===S0?n.Main=a:a.type===A0&&(n.InsideRoot=a)}),E(FP,{children:[E(Fh,{fullWidth:!0,withPaddingRight:!0,children:[n.Top,E(BP,{children:[n.Left,v(zP,{}),n.Main]}),n.Bottom]}),v(Fh,{children:n.Right}),n.InsideRoot]})};Te.Left=x0;Te.Top=C0;Te.Bottom=M0;Te.Right=w0;Te.Main=S0;Te.InsideRoot=A0;var $P=M("div",{target:"e19unl0y1"})({name:"1g3to66",styles:"background-color:#e1e5ea;flex-grow:1;overflow-y:auto;height:100%"}),HP=M(lm,{target:"e19unl0y0"})({name:"jwg7h4",styles:"height:100%;width:100%;align-items:start"}),UP=function(e){var r=e.children,n=e.value,a=e.index;return v($P,{role:"tabpanel",hidden:n!==a,id:a.toString(),children:n===a&&v(HP,{children:r})})},GP=M(Cy,{shouldForwardProp:function(e){return e!=="isLayoutToRight"},target:"e1rrs7vg3"})("height:32px;min-height:32px;list-style-type:none;margin:0;padding:4px 8px 0 8px;border-bottom:",function(t){var e=t.theme;return"1px solid ".concat(e.ketcher.color.border.primary)},";overflow:unset;& .MuiTabs-scroller,& .MuiTabs-flexContainer{height:100%;overflow:unset!important;}& .MuiTabs-flexContainer{justify-content:",function(t){var e=t.isLayoutToRight;return e?"flex-end":"flex-start"},";padding-right:",function(t){var e=t.isLayoutToRight;return e?"16px":"0"},";}& .MuiTabs-indicator{display:none;}"),WP=M(tl,{shouldForwardProp:function(e){return e!=="isLayoutToRight"},target:"e1rrs7vg2"})("min-height:24px;min-width:0;position:relative;padding:7px 12px;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";text-transform:none;cursor:pointer;text-align:center;background-color:",function(t){var e=t.theme;return e.ketcher.color.tab.regular},";color:",function(t){var e=t.theme;return e.ketcher.color.text.light},";list-style-type:none;margin-left:1px;align-items:center;flex:",function(t){var e=t.isLayoutToRight;return e?void 0:"1 1 auto;"},";border:1px solid transparent;border-bottom:none;border-radius:4px 4px 0 0;&:first-of-type{margin-left:0;}&:hover{background-color:",function(t){var e=t.theme;return e.ketcher.color.tab.regular},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";border-color:",function(t){var e=t.theme;return e.ketcher.color.border.primary},";}&.Mui-selected{background-color:",function(t){var e=t.theme;return e.ketcher.color.tab.active},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";border-color:",function(t){var e=t.theme;return e.ketcher.color.border.primary},";margin-bottom:-1px;padding-bottom:8px;&::after{content:'';position:absolute;left:0;bottom:-1px;height:1px;background-color:",function(t){var e=t.theme;return e.ketcher.color.tab.active},";}}&[data-tab='Favorites']{font-size:16px;color:#faa500;}"),VP=M(tl,{target:"e1rrs7vg1"})({name:"2934o7",styles:"width:0;height:0;min-width:0;min-height:0;padding:0;margin:0;visibility:hidden"}),KP=M("div",{target:"e1rrs7vg0"})({name:"2r6rpv",styles:"display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;width:100%;height:100%"});function Bh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var YP=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}},ZP=function(e){var r=e.tabs,n=e.selectedTabIndex,a=e.isLayoutToRight,o=e.onChange,i=r[n],s=i?.component,u=i?.props;return E(Z,{children:[E(GP,{value:n,onChange:o,isLayoutToRight:a,children:[r.map(function(l,c){return v(WP,zh({label:l.caption,title:l.tooltip,isLayoutToRight:a,"data-testid":l.testId,"data-tab":l.tooltip},YP(c)),c)}),v(VP,{value:-1})]}),i&&v(UP,{value:n,index:n,children:v(KP,{children:v(s,zh({},u))})})]})},I0=S.memo(ZP),St=function(){};function $h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$h(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$h(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Hh=function(e,r,n){var a=new Map(e.map(function(o){var i=Ie(o)?Wp(o.id):Vp(He(o));return[i,o]}));return r.filter(function(o){return o.templates.every(function(i){return!!a.get(i.$ref)})}).map(function(o){var i=new Map(o.templates.map(function(d){var f=a.get(d.$ref),h=U1(f),p=L(h,3),m=p[2];return[m,f]})),s=i.get(ct.Sugar),u=i.get(ct.Base),l=i.get(ct.Phosphate),c={base:u?gt(gt({},u),{},{label:u.label}):void 0,name:o.name,phosphate:l?gt(gt({},l),{},{label:l.label}):void 0,sugar:s?gt(gt({},s),{},{label:s.label}):void 0,favorite:o.favorite,default:n||o.default};return o.idtAliases?gt(gt({},c),{},{idtAliases:o.idtAliases}):c})},su=function(e){return Object.entries(e).filter(function(r){var n=L(r,2);n[0];var a=n[1];return!!a}).map(function(r){var n=L(r,1),a=n[0];return a})},ne=function(){return wr()},T=am;function Er(){var t,e=Fp.getKetcher(),r=e==null||(t=e.editor)===null||t===void 0?void 0:t.struct().isBlank(),n=r?C1:M1,a=T(oe),o=T(PI),i=S.useState(o||n),s=L(i,2),u=s[0],l=s[1],c=S.useCallback(function(d){l(d)},[l]);return S.useEffect(function(){return a?.events.layoutModeChange.add(c),function(){a?.events.layoutModeChange.remove(c)}},[c,a?.events.layoutModeChange]),u}function QP(){var t=T(oe),e=T(it),r=S.useState(e),n=L(r,2),a=n[0],o=n[1],i=function(u){o(u)};return S.useEffect(function(){return t?.events.toggleSequenceEditInRNABuilderMode.add(i),function(){t?.events.toggleSequenceEditInRNABuilderMode.remove(i)}},[i,t?.events.toggleSequenceEditInRNABuilderMode]),a}var sc=kt.createContext({}),P0=S.createContext({width:0,height:0}),XP=function(e){var r=e.children,n=e.rootRef,a=e.isMacromoleculesEditorTurnedOn,o=S.useState({width:0,height:0}),i=L(o,2),s=i[0],u=i[1],l=S.useCallback(function(){if(n!=null&&n.current){var d=n.current.getBoundingClientRect(),f=d.width,h=d.height;u({width:f,height:h})}},[n]),c=S.useCallback(ge.debounce(l,100),[l]);return S.useEffect(function(){l()},[a]),S.useEffect(function(){return c(),window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}},[c]),v(P0.Provider,{value:s,children:r})},uc=function(){var e=S.useContext(P0),r=e.height;return r<720},E0=M("div",{target:"e719szw2"})("background:white;height:48px;text-align:center;cursor:",function(t){var e=t.disabled;return e?"default":"pointer"},";opacity:",function(t){var e=t.disabled;return e?"0.4":"1"},";display:flex;justify-content:space-between;align-items:center;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";position:relative;overflow:hidden;border-radius:4px;box-shadow:0 2px 5px 0 rgba(103, 104, 132, 0.149);margin:0;user-select:none;border-color:#167782;border-width:",function(t){var e=t.selected;return e?"2px 2px 2px":"0px"},";border-style:solid;box-sizing:border-box;z-index:",function(t){var e=t.selected;return e?2:void 0},";.hidden & .star{visibility:hidden!important;}&:hover{outline:1px solid #b4b9d6;>.star{visibility:visible;opacity:1;}}&::after{content:'';display:block;position:absolute;top:0;left:0;width:100%;height:8px;border-bottom:",function(t){var e=t.isVariantMonomer;return e?"1px solid #CAD3DD":"none"},";background:",function(t){var e,r,n,a,o,i=t.code,s=t.theme,u=t.item;if(!u)return(e=s.ketcher.monomer.color.default)===null||e===void 0?void 0:e.regular;var l=u,c=((r=l.props)===null||r===void 0?void 0:r.MonomerType)==="PEPTIDE";if(c&&(n=s.ketcher.peptide.color[i])!==null&&n!==void 0&&n.regular){var d;return(d=s.ketcher.peptide.color[i])===null||d===void 0?void 0:d.regular}var f=((a=s.ketcher.monomer.color[i])===null||a===void 0?void 0:a.regular)||((o=s.ketcher.monomer.color.default)===null||o===void 0?void 0:o.regular);return f},";},>span{position:absolute;bottom:",function(t){var e=t.selected;return e?"4px":"6px"},";left:",function(t){var e=t.selected;return e?"4px":"6px"},";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:85%;}>.star{color:#e1e5ea;position:absolute;top:12px;right:3px;font-size:15px;opacity:0;transition:0.2s ease;flex-shrink:0;&.visible{visibility:visible;opacity:1;}&:active{transform:scale(1.4);}&:hover,&.visible{color:#faa500;}}"),JP=M("div",{target:"e719szw1"})("display:flex;justify-content:center;align-items:center;height:15px;width:",function(t){var e=t.monomersAmount;return e>=10?"20px":"15px"},";border-radius:",function(t){var e=t.monomersAmount;return e>=10?"20px":"50%"},";border:1px solid #cceaee;position:absolute;bottom:",function(t){var e=t.selected;return e?"4px":"6px"},";left:",function(t){var e=t.selected;return e?"18px":"20px"},";font-size:12px;line-height:12px;"),eE=M("span",{target:"e719szw0"})({name:"rnnx2x",styles:"font-size:12px"}),tE=function(e,r){var n,a,o,i=T(it),s=am(hP),u=S.useState(!1),l=L(u,2),c=l[0],d=l[1];return S.useEffect(function(){if(!i)return d(!1);if(r===It.BASES){var f;d(!(e!=null&&(f=e.props)!==null&&f!==void 0&&(f=f.MonomerCaps)!==null&&f!==void 0&&f.R1))}else if(r===It.PHOSPHATES){var h,p;d(!(e!=null&&(h=e.props)!==null&&h!==void 0&&(h=h.MonomerCaps)!==null&&h!==void 0&&h.R1&&e!==null&&e!==void 0&&(p=e.props)!==null&&p!==void 0&&(p=p.MonomerCaps)!==null&&p!==void 0&&p.R2))}else if(r===It.SUGARS)if(s){var m,y;d(!(e!=null&&(m=e.props)!==null&&m!==void 0&&(m=m.MonomerCaps)!==null&&m!==void 0&&m.R3&&e!==null&&e!==void 0&&(y=e.props)!==null&&y!==void 0&&(y=y.MonomerCaps)!==null&&y!==void 0&&y.R2))}else{var g,b,w;d(!(e!=null&&(g=e.props)!==null&&g!==void 0&&(g=g.MonomerCaps)!==null&&g!==void 0&&g.R3&&e!==null&&e!==void 0&&(b=e.props)!==null&&b!==void 0&&(b=b.MonomerCaps)!==null&&b!==void 0&&b.R2&&e!==null&&e!==void 0&&(w=e.props)!==null&&w!==void 0&&(w=w.MonomerCaps)!==null&&w!==void 0&&w.R1))}},[r,i,s,e==null||(n=e.props)===null||n===void 0||(n=n.MonomerCaps)===null||n===void 0?void 0:n.R1,e==null||(a=e.props)===null||a===void 0||(a=a.MonomerCaps)===null||a===void 0?void 0:a.R2,e==null||(o=e.props)===null||o===void 0||(o=o.MonomerCaps)===null||o===void 0?void 0:o.R3,d]),c};function Uh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rE=function(e){var r=e.item,n=e.groupName,a=e.onMouseLeave,o=e.onMouseMove,i=e.isSelected,s=e.disabled,u=e.onClick,l=u===void 0?St:u,c=ne(),d=tE(r,n)||s,f=Ie(r)?"":r.props.MonomerType===Vr.CHEM?r.props.MonomerType:r.props.MonomerNaturalAnalogCode,h=He(r),p=Ie(r)?void 0:r,m=S.useCallback(function(y){y.stopPropagation(),c(WI(r))},[c,r]);return E(E0,Gh(Gh({selected:i,disabled:d,"data-testid":h,"data-monomer-item-id":h,item:p,isVariantMonomer:r.isAmbiguous,code:f,onMouseLeave:a,onMouseMove:o},d?{}:{onClick:l}),{},{children:[v(eE,{children:r.label}),!d&&v("div",{onClick:m,className:"star ".concat(r.favorite?"visible":""),children:ec}),Ie(r)&&v(JP,{selected:i,monomersAmount:r.monomers.length,children:r.monomers.length})]}))},k0=M("div",{target:"e10tnh3n3"})({name:"37420",styles:"display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:auto;flex:1;gap:4px;&::after{content:'';flex:auto;}"}),O0=M("div",{target:"e10tnh3n2"})("position:relative;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";font-family:",function(t){var e=t.theme;return e.ketcher.font.family.roboto},";color:",function(t){var e=t.theme;return e.ketcher.color.divider},";margin:0;gap:4px;"),nE=M(O0,{target:"e10tnh3n1"})({name:"qdeacm",styles:"flex-direction:column"}),aE=M("div",{target:"e10tnh3n0"})("height:100%;display:flex;flex-grow:0;flex-basis:14px;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.medium},";font-family:",function(t){var e=t.theme;return e.ketcher.font.family.roboto},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";margin:0;"),xr=function(e){var r=e.items,n=e.title,a=e.groupName,o=e.selectedMonomerUniqueKey,i=e.libraryName,s=e.disabled,u=e.onItemClick,l=u===void 0?St:u,c=ne(),d=T(oe),f=T(fP),h=function(C){var A=!1;if(Ie(C))return!1;if(s)A=s;else{var I,k,O=f["".concat((I=C.props)===null||I===void 0?void 0:I.MonomerClass,"s")];if(O?.length>0&&(k=C.props)!==null&&k!==void 0&&k.MonomerCaps)for(var _=0;_<O.length;_++)O[_]in C.props.MonomerCaps||(A=!0)}return A},p=S.useCallback(function(x){return c(gr(x))},[c]),m=S.useCallback(ge.debounce(function(x){return p(x)},500),[p]),y=function(){m.cancel(),c(gr(void 0))},g=function(C,A){y();var I=A.currentTarget.getBoundingClientRect(),k,O,_;if(Ie(C)){_=C?sm(C)(I):"";var P="".concat(I.left+I.width/2,"px");O=he.AmbiguousMonomer,k={left:P,top:_,transform:"translate(-50%, 0)"}}else _=C?My(I):"",k={right:"-88px",top:_,transform:"translate(-50%, 0)"},O=he.Monomer;var R={type:O,monomer:C,style:k};m(R)},b=function(C){c(wt("monomer")),["FAVORITES","PEPTIDE","CHEM"].includes(i??"")&&d.events.selectMonomer.dispatch(C),l(C)},w=function(C){return o===He(C)};return E(nE,{children:[n&&v(aE,{children:n}),v(k0,{children:r.map(function(x){return v(rE,{disabled:h(x),item:x,groupName:a,isSelected:w(x),onMouseLeave:y,onMouseMove:function(A){return g(x,A)},onClick:function(){return b(x)}},He(x))})})]})},oE=M("div",{target:"e1bp6il60"})({name:"8z91a1",styles:"width:100%;display:flex;flex-direction:column;justify-items:center;gap:8px;padding:8px"}),iE=M(E0,{target:"e1txcvj90"})("&::after{content:'';background:",function(t){var e=t.theme,r=t.selected;return r?e.ketcher.color.button.primary.active:"#faa500"},";}.dots{visibility:hidden;position:absolute;right:2px;top:10px;}&:hover .dots{visibility:visible;}>.star{right:0;left:4px;top:10px;width:min-content;}"),sE=M("div",{target:"e1h0dkll2"})(function(t){return{minHeight:"32px",display:"flex",alignItems:"center",padding:"8px 12px",gap:"8px",borderBottom:t.theme.ketcher.border.small}},""),uE=M("span",{target:"e1h0dkll1"})(function(t){return{flexGrow:1,fontSize:t.theme.ketcher.font.size.regular}},""),zu=M(de,{target:"e1h0dkll0"})(function(t){return{width:"16px",height:"16px",color:t.theme.ketcher.color.icon.grey,transition:t.theme.ketcher.transition.regular,transform:t.expanded?"rotate(180deg)":"none"}},""),lE=function(e){var r=e.preset,n=e.isSelected,a=e.onClick,o=a===void 0?St:a,i=e.onContextMenu,s=i===void 0?St:i,u=e.onMouseLeave,l=u===void 0?St:u,c=e.onMouseMove,d=c===void 0?St:c,f=ne(),h=S.useCallback(function(p){p.stopPropagation(),f(AP(r))},[f,r]);return E(iE,{"data-testid":zI(r),onClick:o,onContextMenu:s,onMouseLeave:l,onMouseMove:d,selected:n,code:r.name,"data-rna-preset-item-name":r.name,children:[v("span",{children:r.name}),v(zu,{name:"vertical-dots",className:"dots",onClick:s}),v("div",{"aria-hidden":!0,onClick:h,className:"star ".concat(r.favorite?"visible":""),children:ec})]})},cE=S.memo(lE),et;(function(t){t.FOR_RNA="context-menu-for-RNA",t.FOR_SEQUENCE="context-menu-for-sequence",t.FOR_POLYMER_BOND="context-menu-for-polymer-bond",t.FOR_SELECTED_MONOMERS="context-menu-for-selected-monomers"})(et||(et={}));var dE=M(wy,{target:"ekj16lc0"})("--contexify-activeItem-bgColor:rgba(243, 245, 247, 1);--contexify-menu-minWidth:140px;--contexify-activeItem-color:rgba(51, 51, 51, 1);.contexify_itemContent{font-family:",function(t){var e=t.theme;return e.ketcher.font.family.inter},";font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";}.contexify_separator{color:rgba(225, 229, 234, 1);}.contexify_item-title{opacity:1;font-weight:bold;}"),fE=function(e,r){var n=[];return e.forEach(function(a,o){var i=a.name,s=a.title,u=a.hidden,l=a.disabled,c=a.isMenuTitle,d=a.separator,f=v(by,{id:i,onClick:r,"data-testid":i,hidden:u,disabled:l,className:c?"contexify_item-title":"",children:v("span",{children:s})},i);n.push(f),d&&n.push(v(xy,{},o))}),n},Ea=function(e){var r=e.id,n=e.handleMenuChange,a=e.menuItems,o=ne();return S.useEffect(function(){var i=function(u){var l,c,d=((l=u.target)===null||l===void 0||(l=l.__data__)===null||l===void 0?void 0:l.node)||((c=u.target)===null||c===void 0||(c=c.__data__)===null||c===void 0?void 0:c.monomer);if(d){u.stopPropagation();return}o(Yg(!1))};return document.addEventListener("click",i),document.addEventListener("contextmenu",i),function(){document.removeEventListener("click",i),document.removeEventListener("contextmenu",i)}},[o,r]),v(dE,{id:r,children:fE(a,n)})},vE=function(){var e=rn.RNA,r=ne(),n=T(f0),a=T(a0),o=T(it),i=[{name:"duplicateandedit",title:"Duplicate and Edit...",disabled:!1},{name:"edit",title:"Edit...",separator:!0,disabled:n?.default},{name:"deletepreset",title:"Delete Preset",disabled:n?.default}],s=function(c){var d=c.id,f=c.props;switch(d){case"duplicateandedit":f.duplicatePreset(n),a!==e&&r(an(e));break;case"edit":f.editPreset(n),a!==e&&r(an(e));break;case"deletepreset":r(cr("delete"));break}},u=document.querySelector(Yt);return u&&!o?ia.createPortal(v(Ea,{id:et.FOR_RNA,menuItems:i,handleMenuChange:s}),u):null},lc=function(e){var r=e.presets,n=e.duplicatePreset,a=e.editPreset,o=T(Aa),i=T(oe),s=An({id:et.FOR_RNA}),u=s.show,l=wr(),c=function(x){var C,A,I,k=!0,O=!0,_=!0;if(x!=null&&(C=x.base)!==null&&C!==void 0&&(C=C.props)!==null&&C!==void 0&&C.MonomerCaps&&(k="R1"in x.base.props.MonomerCaps),x!=null&&(A=x.sugar)!==null&&A!==void 0&&(A=A.props)!==null&&A!==void 0&&A.MonomerCaps){var P;k&&x!==null&&x!==void 0&&(P=x.base)!==null&&P!==void 0&&(P=P.props)!==null&&P!==void 0&&P.MonomerCaps&&(O="R3"in x.sugar.props.MonomerCaps)}if(x!=null&&(I=x.phosphate)!==null&&I!==void 0&&(I=I.props)!==null&&I!==void 0&&I.MonomerCaps){var R;_="R1"in x.phosphate.props.MonomerCaps,O&&x!==null&&x!==void 0&&(R=x.sugar)!==null&&R!==void 0&&(R=R.props)!==null&&R!==void 0&&R.MonomerCaps&&(O="R2"in x.sugar.props.MonomerCaps)}return k&&O&&_},d=function(x){return function(){var C=c(x);if(!C&&x.name){l(g0(x.name));return}l(sn(x)),i.events.selectPreset.dispatch(x),x.name!==o.name&&l(vt(!1))}},f=function(x){var C,A=x instanceof HTMLDivElement;!A&&x.parentElement&&(x=x.parentElement);var I=x.getBoundingClientRect(),k=(C=x.offsetParent)===null||C===void 0?void 0:C.getBoundingClientRect(),O=140,_=I.right-O,P=I.y+I.height/2;return k!=null&&k.x&&k?.x>_&&(_=I.x),{x:_,y:P}},h=T(pn),p=S.useCallback(function(w){return l(gr(w))},[l]),m=S.useCallback(ge.debounce(function(w){return p(w)},500),[p]),y=function(){m.cancel(),l(gr(void 0))},g=function(x,C){if(y(),!(h.type===he.Preset||!C.currentTarget)){var A=[x.sugar,x.base,x.phosphate],I=C.currentTarget.getBoundingClientRect(),k={left:"".concat(I.left+I.width,"px"),top:Ie(x.base)?sm(x.base)(I):Sy(I),transform:"translate(-100%, 0)"},O=Ie(x.base)?{type:he.AmbiguousMonomer,monomer:x.base,presetMonomers:A,style:k}:{type:he.Preset,monomers:A,name:x.name,idtAliases:x.idtAliases,position:Qe.Library,style:k};m(O)}},b=function(x){return function(C){C.stopPropagation(),l(SP(x)),u({event:C,props:{duplicatePreset:n,editPreset:a},position:f(C.currentTarget)})}};return E(O0,{"data-testid":"rna-preset-group",children:[v(k0,{children:r.map(function(w,x){return v(cE,{isSelected:o?.name===w.name,preset:w,onClick:d(w),onContextMenu:b(w),onMouseMove:function(A){return g(w,A)},onMouseLeave:y},"".concat(w.name).concat(x))})}),v(vE,{})]})},uu=function(e){var r=e.onItemClick,n=e.libraryName,a=e.duplicatePreset,o=e.editPreset,i=T(Sa),s=T(Pa),u=T(Ma),l=n===t0,c=l?{monomers:HI(i),presets:yP(s)}:n0(i,n),d=Fu(l?c.monomers:c),f=l?UI(i):nn(i,W.PEPTIDES),h=S.useState(""),p=L(h,2),m=p[0],y=p[1],g=function(w){y(He(w))};return S.useEffect(function(){u!=="monomer"&&y("")},[u]),E(oE,{children:[l&&d.length>0&&v("div",{children:"Monomers"}),d.map(function(b,w,x){var C=b.groupItems,A=b.groupTitle;return v(xr,{title:x.length===1?void 0:A,items:C,libraryName:n,onItemClick:r||g,selectedMonomerUniqueKey:m},A)}),l&&c.presets.length>0&&E(Z,{children:[v("div",{children:"Presets"}),v(lc,{duplicatePreset:a,editPreset:o,presets:c.presets})]}),v(Z,{children:(n===LI||l)&&f.map(function(b){return v(xr,{title:b.groupTitle,items:b.groupItems,libraryName:n,onItemClick:r||g,selectedMonomerUniqueKey:m},b.groupTitle)})})]})},hE=M("div",{target:"e1fsx6x2"})({name:"kxxltl",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:8px;background-color:#f7f9fa;border-radius:0 0 4px 4px"}),pE=M("span",{target:"e1fsx6x1"})("font-size:",function(t){return t.theme.ketcher.font.size.medium},";overflow:hidden;text-overflow:ellipsis;color:",function(t){return t.theme.ketcher.color.text.primary},";"),mE=M("div",{target:"e1fsx6x0"})({name:"1x17g94",styles:"display:flex;align-items:center;width:100%"}),gE=function(e){var r=e.name,n=e.fullName;return!r&&!n?null:v(hE,{children:v(mE,{children:v(pE,{children:r||n})})})},yE=S.memo(gE),bE=M("div",{target:"e1ie5fzr8"})(function(t){return{height:"40px",position:"relative",marginLeft:t.isEditMode?"30px":"28.5px",display:"flex",alignItems:"center",border:t.isEditMode?"none":"1.5px solid ".concat(t.theme.ketcher.outline.color),backgroundColor:t.selected?t.theme.ketcher.color.button.primary.active:t.isEditMode?t.theme.ketcher.color.background.primary:"transparent",borderRadius:t.theme.ketcher.border.radius.regular,boxShadow:t.isEditMode?t.theme.ketcher.shadow.regular:"none",padding:"5px 10px",color:t.selected?"white":"black",gap:"8px",cursor:"pointer",outlineOffset:"1px",boxSizing:"border-box",":hover":{outline:t.theme.ketcher.outline.small},":not(:last-child)":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:t.theme.ketcher.outline.medium,borderBottom:t.theme.ketcher.outline.medium,height:"2px",width:"17px"}},":last-child":{":after":{content:'""',position:"absolute",right:"100%",bottom:"calc(50% - 1px)",borderLeft:t.theme.ketcher.outline.medium,borderBottom:t.theme.ketcher.outline.medium,borderRadius:"0 0 0 4px",height:"130px",width:"17px"}}}},""),xE=M("div",{target:"e1ie5fzr7"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),wE=M("span",{target:"e1ie5fzr6"})("font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";color:",function(t){var e=t.selected,r=t.theme;return e?r.ketcher.color.background.primary:r.ketcher.color.text.light},";opacity:",function(t){var e=t.selected;return e?.4:1},";"),CE=M("span",{target:"e1ie5fzr5"})("margin-top:1px;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.medium},";color:",function(t){var e=t.selected,r=t.empty,n=t.theme;return e?n.ketcher.color.button.text.primary:r?"#b4b9d6":n.ketcher.color.text.primary},";opacity:",function(t){var e=t.selected,r=t.empty;return e&&r?.4:1},";"),ME=M("div",{target:"e1ie5fzr4"})({name:"wgokoh",styles:"position:relative;width:16px;height:16px;display:flex;align-items:center;justify-content:center"}),SE=M(de,{target:"e1ie5fzr3"})("fill:",function(t){var e=t.selected,r=t.empty,n=t.theme;return r?"none":e?n.ketcher.color.background.primary:n.ketcher.color.icon.grey},";color:",function(t){var e=t.selected,r=t.theme;return e?r.ketcher.color.background.primary:r.ketcher.color.icon.grey},";"),AE=M("div",{target:"e1ie5fzr2"})("position:relative;width:60px;display:flex;flex-direction:column;gap:8px;padding:4px;border-radius:4px;box-shadow:0 1px 2px 0 rgba(180, 185, 214, 0.6);cursor:pointer;background-color:",function(t){var e=t.selected,r=t.theme;return e?r.ketcher.color.button.primary.active:r.ketcher.color.background.primary},";&:hover{outline:",function(t){var e=t.theme;return e.ketcher.outline.selected.small},";}"),IE=M("div",{target:"e1ie5fzr1"})("position:absolute;top:-35%;left:50%;height:15px;width:2px;background-color:",function(t){var e=t.theme;return e.ketcher.outline.color},";"),PE=M("p",{target:"e1ie5fzr0"})("margin:0;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";font-weight:",function(t){var e=t.theme;return e.ketcher.font.weight.regular},";color:",function(t){var e=t.selected,r=t.empty,n=t.theme;return e?n.ketcher.color.button.text.primary:r?"#b4b9d6":n.ketcher.color.text.primary},";opacity:",function(t){var e=t.selected,r=t.empty;return e&&r?.4:1},";"),_0=H(H(H({},W.SUGARS,"Sugar"),W.BASES,"Base"),W.PHOSPHATES,"Phosphate"),EE=function(e){var r=e.selected,n=e.empty,a=e.name;return v(ME,{children:v(SE,{selected:r,empty:n,name:a})})},T0=S.memo(EE),kE=function(e){var r=e.groupName,n=e.iconName,a=e.monomerName,o=e.selected,i=e.onClick,s=e.testid,u=T(Pr),l=!a;return E(AE,{selected:o,onClick:i,isEditMode:u,"data-testid":s,children:[v(IE,{}),v(T0,{name:n,selected:o,empty:l}),v(PE,{selected:o,empty:l,children:a||_0[r]})]})},OE=function(e){var r=e.groupName,n=e.iconName,a=e.monomerName,o=e.selected,i=e.onClick,s=e.testid,u=T(Pr),l=!a;return E(bE,{selected:o,onClick:i,isEditMode:u,"data-testid":s,children:[v(T0,{name:n,selected:o,empty:l}),E(xE,{children:[v(wE,{selected:o,children:_0[r]}),v(CE,{empty:l,selected:o,children:a||"Not selected"})]})]})};function Wh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _E=function(e){var r=uc();return r?v(kE,Vh({},e)):v(OE,Vh({},e))},TE=M("div",{target:"e18wzlbg8"})(function(t){return{display:"flex",flexDirection:"column",padding:"10px",backgroundColor:"#F7F9FA",borderRadius:"0 0 4px 4px","&.rna-editor-expanded--sequence-edit-mode":{padding:"8px",paddingTop:"10px",border:"2px ".concat(t.theme.ketcher.color.editMode.sequenceInRNABuilder," solid"),borderTop:"none"}}},""),NE=M("input",{target:"e18wzlbg7"})("width:100%;padding:6px;border:none;border-radius:4px;box-shadow:0 1px 2px 0 rgba(180, 185, 214, 0.6);&:hover,&:focus{outline:",function(t){var e=t.theme;return e.ketcher.outline.selected.small},";}"),RE=M("div",{target:"e18wzlbg6"})("width:100%;display:flex;flex-direction:",function(t){var e=t.compact;return e?"row":"column"},";justify-content:",function(t){var e=t.compact;return e?"space-between":"flex-start"},";gap:8px;margin-top:16px;"),DE=M("div",{target:"e18wzlbg5"})({name:"zmhcg5",styles:"margin-top:16px;display:flex;justify-content:space-evenly;align-items:center;gap:8px"}),Nr=M(oa,{target:"e18wzlbg4"})(function(t){return{width:"100%",whiteSpace:"nowrap",fontSize:t.theme.ketcher.font.size.regular,backgroundColor:t.primary?t.theme.ketcher.color.button.primary.active:void 0,color:t.primary&&!t.disabled?t.theme.ketcher.color.button.text.primary:t.theme.ketcher.color.text.light,outline:t.primary&&!t.disabled?t.theme.ketcher.outline.selected.small:t.theme.ketcher.outline.grey.small}},""),LE=M("div",{target:"e18wzlbg3"})(function(t){return{position:"relative",borderRadius:t.theme.ketcher.border.radius.regular,backgroundColor:t.theme.ketcher.color.background.primary,boxShadow:t.theme.ketcher.shadow.regular,cursor:"pointer",overflow:"hidden",padding:"0 6px 6px 6px",display:"flex",alignItems:"flex-end",height:"48px",outline:t.selected?t.theme.ketcher.outline.selected.medium:"none",":hover":{outline:t.selected?void 0:t.theme.ketcher.outline.small}}},""),jE=M("span",{target:"e18wzlbg2"})(function(t){return{position:"absolute",top:"0",left:"0",width:"100%",height:"8px",backgroundColor:t.selected?t.theme.ketcher.outline.selected.color:t.theme.ketcher.outline.color}},""),qE=M(om,{target:"e18wzlbg1"})({name:"1jdipvd",styles:"width:100%;&:disabled{background:none;outline:none;color:inherit;}"}),FE=M("div",{target:"e18wzlbg0"})({name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"}),lu=function(e){return e.size===0?"":e.size===1?ce(e)[0]:"[multiple]"},$u=function(e){if(e!=null&&e.length){for(var r={sugarLabel:new Set,baseLabel:new Set,phosphateLabel:new Set},n=0;n<e.length;n++)for(var a=0,o=["sugarLabel","baseLabel","phosphateLabel"];a<o.length;a++){var i,s,u,l=o[a];((i=e[n])!==null&&i!==void 0&&i[l]||!((s=e[n])!==null&&s!==void 0&&s[l])&&e[n].type===lt.Nucleoside&&!e[n].isNucleosideConnectedAndSelectedWithPhosphate)&&r[l].add((u=e[n])===null||u===void 0?void 0:u[l])}return{Sugars:lu(r.sugarLabel),Bases:lu(r.baseLabel),Phosphates:lu(r.phosphateLabel)}}},BE=function(e){var r=$u(e);return"".concat(r?.Sugars,"(").concat(r?.Bases,")").concat(r?.Phosphates||"")},N0=function(e){e(m0(null)),e(vt(!1))},Kh=function(e){N0(e)},Xn=function(e,r){N0(e),e(nc([])),r.events.turnOffSequenceEditInRNABuilderMode.dispatch(),r.mode instanceof Up&&r.mode.turnOffEditMode()},Jn=function(e){return e.filter(function(r){return r.type?r.type===lt.Nucleotide||r.type===lt.Nucleoside:r.node?r.node instanceof Kr||r.node instanceof Yr:!1}).length};function Yh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zE=function(e){var r=e.isEditMode,n=e.onDuplicate,a=[{groupName:W.SUGARS,iconName:"sugar",testId:"rna-builder-slot--sugar"},{groupName:W.BASES,iconName:"base",testId:"rna-builder-slot--base"},{groupName:W.PHOSPHATES,iconName:"phosphate",testId:"rna-builder-slot--phosphate"}],o=wr(),i=T(Aa),s=T(rc),u=T(l0),l=T(oe),c=T(Ia),d=T(pP),f=S.useState(i),h=L(f,2),p=h[0],m=h[1],y=T(c0),g=T(vP),b=T(it),w=S.useState(!1),x=L(w,2),C=x[0],A=x[1],I=S.useState($u(y)),k=L(I,2),O=k[0],_=k[1],P=Er()===fr.sequence,R=function(){if(d){var U=qt[d.groupName],j=yt(yt({},p),{},H({},U,d.groupItem));return m(j),j}return p};S.useEffect(function(){m(i)},[i]),S.useEffect(function(){y&&(Jn(y)===1&&o(h0(BE(y))),_($u(y)))},[o,y]),S.useEffect(function(){if(u!==xe.Presets&&r)if(b&&d){var K=qt[d.groupName],U="".concat(K,"Label"),j=y.map(function(Me){return Me.isNucleosideConnectedAndSelectedWithPhosphate&&U==="phosphateLabel"||Me.type===lt.Phosphate&&(U==="sugarLabel"||U==="baseLabel")?Me:yt(yt({},Me),{},H(H({},U,d.groupItem.label),"rnaBaseMonomerItem",d.groupName==="Bases"?d.groupItem:Me.rnaBaseMonomerItem))});A(!0),o(nc(j))}else{var ae=R(),_e=p?.name;ae.editedName||(_e=d0(ae)),m(yt(yt({},ae),{},{name:_e}))}},[d?.groupItem,b]);var N=function(U){if(U===xe.Presets){Hu(p?.name),p&&l.events.selectPreset.dispatch(p);return}var j=p[qt[U]];j&&GE(He(j))},D=function(U){return function(){var j=iu(p,U);j&&!P&&l.events.selectMonomer.dispatch(j),p[qt[U]]&&o(p0(He(p[qt[U]]))),o(Ut(U)),o(ac({rnaPreset:p,isEditMode:r})),setTimeout(function(){return N(U)},100)}},F=function(U){if(r){var j=U.target.value;m(yt(yt({},p),{},{name:j.trim(),editedName:!0}))}},q=function(){Jn(y)>1?o(cr("updateSequenceInRNABuilder")):(l.events.modifySequenceInRnaBuilder.dispatch(y),Xn(o,l))},z=function(){if(p!=null&&p.name){var U=c.find(function(j){return j.name===p.name});if(U&&i.nameInList!==U.name){o(ic(p.name));return}o(xP(p)),o(sn(p)),P||l.events.selectPreset.dispatch(p),setTimeout(function(){Hu(p.name)},0),Kh(o)}},$=function(){b?Xn(o,l):(m(i),Kh(o))},G=function(){o(vt(!0))},pe=function(U){var j,ae;return d&&d.groupName===U?d.groupItem.label:((j=iu(p,U))===null||j===void 0?void 0:j.label)||((ae=iu(p,U))===null||ae===void 0?void 0:ae.props.MonomerName)},je=function(U){return O?O[U]:""};S.useEffect(function(){var K=function(j){j.key==="Escape"?($(),j.preventDefault(),j.stopPropagation()):j.key==="Enter"&&(b?q():l.events.startNewSequence.dispatch({}),j.preventDefault(),j.stopPropagation())};return l?.events.keyDown.add(K),function(){l?.events.keyDown.remove(K)}},[l,y]);var ie;s&&!b?ie=v(Nr,{disabled:!jh(p),primary:!0,"data-testid":"add-to-presets-btn",onClick:z,children:"Add to Presets"}):r?ie=v(Nr,{primary:!0,disabled:b?!C:!1,"data-testid":"save-btn",onClick:b?q:z,children:b?"Update":"Save"}):ie=v(Nr,{"data-testid":"edit-btn",onClick:G,disabled:i.default,children:"Edit"});var Ke=uc();return E(TE,{"data-testid":"rna-editor-expanded",className:jn(b&&"rna-editor-expanded--sequence-edit-mode"),children:[Ke?v(NE,{value:b?g:p?.name,placeholder:"Name your structure",disabled:b,onChange:F}):E(LE,{selected:u===xe.Presets,onClick:function(){return D(xe.Presets)},children:[r?v(qE,{value:b?g:p?.name,placeholder:"Name your structure",disabled:b,onChange:F}):v(FE,{children:p?.name}),v(jE,{selected:u===xe.Presets})]}),v(RE,{compact:Ke,children:a.map(function(K){var U=K.groupName,j=K.iconName,ae=K.testId;return v(_E,{selected:u===U,groupName:U,monomerName:b?je(U):pe(U),iconName:j,testid:ae,onClick:D(U)},U)})}),E(DE,{children:[r?v(Nr,{"data-testid":"cancel-btn",onClick:$,children:"Cancel"}):v(Nr,{"data-testid":"duplicate-btn",disabled:!jh(p),onClick:function(){return n(p)},children:"Duplicate and Edit"}),ie]})]})},$E=M("div",{target:"e1ms1w5g2"})({name:"1tk8yx0",styles:"padding:8px"}),HE=M("button",{target:"e1ms1w5g1"})("width:100%;display:flex;justify-content:space-between;align-items:center;padding:8px;background-color:",function(t){return t.theme.ketcher.color.background.primary},";font-weight:",function(t){return t.theme.ketcher.font.weight.regular},";font-size:",function(t){return t.theme.ketcher.font.size.regular},";border:none;border-radius:4px;text-transform:none;cursor:pointer;&.styled-header--sequence-edit-mode{background-color:",function(t){return t.theme.ketcher.color.editMode.sequenceInRNABuilder},";}&.styled-header--expanded,&.styled-header--active-preset{border-radius:4px 4px 0 0;}"),UE=M(de,{target:"e1ms1w5g0"})("height:16px;width:16px;transform:",function(t){return t.expanded?"rotate(180deg)":"none"},";"),R0=function(e){var r=document.body.querySelector(e);r?.scrollIntoView()},Hu=function(e){R0('[data-rna-preset-item-name="'.concat(e,'"]'))},GE=function(e){R0('[data-monomer-item-id="'.concat(e,'"]'))},WE=function(e){var r=e.duplicatePreset,n=T(Aa),a=T(Pr),o=T(it),i=d0(n),s=ne(),u=S.useState(!1),l=L(u,2),c=l[0],d=l[1];S.useEffect(function(){if(n){(n.name||a)&&d(!0);return}s(oc()),s(Ut(xe.Presets))},[n]),S.useEffect(function(){s(ac({rnaPreset:n,isEditMode:a}))},[a]);var f=function(){d(!c),n!=null&&n.nameInList||s(vt(!0))};return E($E,{"data-testid":"rna-editor",children:[E(HE,{className:jn(o&&"styled-header--sequence-edit-mode",c&&"styled-header--expanded",n?.name&&"styled-header--active-preset"),onClick:f,"data-testid":"rna-builder-expand-button",children:["RNA Builder",v(UE,{expanded:c,name:"chevron"})]}),n&&(c?v(zE,{isEditMode:a,onDuplicate:r}):v(yE,{name:n.name,fullName:i}))]})},VE=M("div",{target:"e1ocltcl0"})({name:"16fpk5u",styles:"height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between"}),D0=function(e){var r=e.ketcher;return nm("scrollbar-width:thin;scrollbar-color:",r.color.scroll.regular," ",r.color.scroll.inactive,";&::-webkit-scrollbar{width:4px;height:4px;background-color:",r.color.scroll.inactive,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb{background-color:",r.color.scroll.regular,";border-radius:2px;-webkit-border-radius:2px;}&::-webkit-scrollbar-thumb:active{background-color:",r.color.scroll.regular,";}","")},KE={expandButton:"Modal-module_expandButton__J1QYl"};function Zh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ZE=M(rb,{target:"e45wfhi5"})({name:"dzuq2w",styles:".MuiPaper-root{min-width:304px;}"}),QE=M(yb,{target:"e45wfhi4"})(function(t){var e=t.theme;return{padding:"2px 4px 2px 12px;",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"".concat(e.ketcher.font.family.inter),fontSize:"".concat(e.ketcher.font.size.medium),fontWeight:500,textTransform:"capitalize",borderBottom:"1px solid rgba(202, 211, 221, 1)"}},""),XE=M("div",{target:"e45wfhi3"})({name:"10by1a4",styles:"margin-right:10px;font-size:14px"}),Qh=M(de,{target:"e45wfhi2"})({name:"4jxctt",styles:"width:16px;height:16px;color:rgba(51, 51, 51, 1)"}),L0=M(hb,{target:"e45wfhi1"})("padding:0;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.medium},";line-height:17px;color:#000000;",function(t){var e=t.theme;return D0(e)},";"),j0=M(sb,{target:"e45wfhi0"})("height:52px;margin:0;padding:0 12px;border-top:",function(t){var e=t.theme,r=t.withborder;return r==="true"?e.ketcher.border.small:"none"},";justify-content:flex-end;.MuiButtonBase-root{border-radius:4px;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";}"),J=function(e){var r=e.children,n=e.title,a=e.isOpen,o=e.showCloseButton,i=o===void 0?!0:o,s=e.showExpandButton,u=s===void 0?!1:s,l=e.onClose,c=e.className,d=e.modalWidth,f=e.expanded,h=f===void 0?!1:f,p=e.setExpanded,m=p===void 0?St:p,y=e.testId,g=gy(),b=S.useMemo(function(){return{testId:y,style:YE({background:g.ketcher.color.background.primary,borderRadius:"8px",color:g.ketcher.color.text.primary},u&&{margin:"auto",width:h?"100%":d,height:h?"100%":void 0,maxWidth:"calc(min(1280px, 100%))",maxHeight:"calc(min(980px, 100%))"})}},[g.ketcher.color.text.primary,g.ketcher.color.background.canvas,h]),w=S.useMemo(function(){return{style:{background:g.ketcher.color.background.overlay,opacity:.4}}},[g.ketcher.color.background.overlay]),x={Content:null,Footer:null};return kt.Children.forEach(r,function(C){C.type===L0?x.Content=C:C.type===j0&&(x.Footer=C)}),E(ZE,{BackdropProps:w,PaperProps:b,open:a,onClose:l,container:document.querySelector(Yt),disableEscapeKeyDown:!i,className:c,sx:{padding:"24px"},children:[n||i||u?E(QE,{children:[v(XE,{children:n}),E("span",{children:[u&&v(Sc,{title:"expand window",className:KE.expandButton,onClick:function(){m(!h)},children:v(Qh,{name:h?"minimize-expansion":"expand"})}),i&&v(Sc,{title:"Close window",onClick:l,"data-testid":"close-window-button",children:v(Qh,{name:"close"})})]})]}):"",x.Content,x.Footer]})};J.Content=L0;J.Footer=j0;var JE=M("div",{target:"e117eqk610"})({name:"uawiic",styles:"display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;height:100%"}),Xh=M(Ey,{target:"e117eqk69"})({name:"u6kpdv",styles:"min-height:32px"}),ek=M("div",{target:"e117eqk68"})({name:"vz8pb8",styles:"flex-grow:2;min-height:32px"}),ea=M("div",{target:"e117eqk67"})("position:relative;width:100%;display:flex;flex-direction:column;gap:8px;justify-content:start;padding:",function(t){var e=t.compact;return e?"4px":"8px"},";"),tk=M("div",{target:"e117eqk66"})({name:"6imefc",styles:"flex-grow:1;min-height:0;background-color:#f7f9fa;border-radius:4px;margin:4px 8px;padding:4px;&.first-tab{border-radius:0 4px 4px 4px;}&.last-tab{border-radius:4px 0 4px 4px;}"}),rk=M("div",{target:"e117eqk65"})("height:100%;background-color:",function(t){var e=t.theme;return e.ketcher.color.tab.content},";border-radius:2px;overflow:auto;"),cc=M(oa,{target:"e117eqk64"})("background-color:",function(t){var e=t.theme;return e.ketcher.color.button.transparent.active},";color:",function(t){var e=t.theme;return e.ketcher.color.text.light},";border-color:",function(t){var e=t.theme;return e.ketcher.color.text.light},";"),q0=M("div",{target:"e117eqk63"})({name:"1q5khk2",styles:"width:100%;height:100%;background-color:#eff2f594;position:absolute;top:0;left:0"}),nk=M("div",{target:"e117eqk62"})({name:"bimmx8",styles:"display:flex;justify-content:space-between;gap:8px;padding:6px 8px 0"}),ak=M("div",{target:"e117eqk61"})({name:"qnk899",styles:"position:relative;display:flex;align-items:center;&.rna-tab--selected{& button{border-radius:4px 4px 0 0;background-color:#f7f9fa;}&::after{content:'';position:absolute;bottom:-4px;left:0;right:0;height:8px;background-color:#f7f9fa;}}"}),ok=M(tl,{target:"e117eqk60"})("height:24px;min-height:24px;min-width:24px;",function(t){var e=t.selected;return e?"min-width: 104px;":""}," display:flex;flex-direction:row;gap:4px;align-items:center;justify-content:center;padding:4px;",function(t){var e=t.selected;return e?"margin-top: -8px;":""}," font-weight:400;font-size:10px;border-radius:4px;background-color:white;opacity:",function(t){var e=t.selected;return e?1:.6},";text-transform:none;&:hover{background-color:#f3f8f9;}>svg{height:16px;width:16px;color:#b4b9d6;&.MuiTab-iconWrapper{margin:0;}}");function Jh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jh(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ik=function(e){var r=T(Sa),n=T(Pa),a=n0(r,e),o=Fu(a),i=$I(r),s=Fu(i);return S.useMemo(function(){return[{groupName:xe.Presets,iconName:"preset",groups:[{groupItems:n}]},{groupName:W.SUGARS,iconName:"sugar",groups:o.filter(function(u){return ou[u.groupTitle]===W.SUGARS})},{groupName:W.BASES,iconName:"base",groups:o.filter(function(u){return ou[u.groupTitle]===W.BASES}).map(function(u){return ep(ep({},u),{},{groupItems:u.groupItems.filter(function(l){var c;return((c=l.props)===null||c===void 0?void 0:c.MonomerClass)!==ct.RNA})})})},{groupName:W.PHOSPHATES,iconName:"phosphate",groups:o.filter(function(u){return ou[u.groupTitle]===W.PHOSPHATES})},{groupName:W.NUCLEOTIDES,iconName:"nucleotide",groups:s}]},[o,n,s])},sk=function(e){var r=e.activeRnaBuilderItem,n=e.groupsData,a=e.onNewPresetClick,o=e.onSelectItem,i=e.duplicatePreset,s=e.editPreset,u=e.libraryName,l=wr(),c=T(Pa),d=T(Sa),f=T(Pr),h=T(rc),p=T(v0);return E(Z,{children:[v(nk,{children:n.map(function(m){var y=m.groupName,g=m.groups,b=m.iconName,w=y===r,x=nn(d,y),C=[].concat(ce(g),ce(x)).reduce(function(I,k){return I+(k.groupItems.length||0)},0),A=w?"".concat(y," (").concat(C,")"):null;return v(ak,{className:jn(w&&"rna-tab--selected"),children:v(ok,{label:A,title:y,selected:w,icon:v(de,{name:b}),onClick:function(){return l(Ut(y))},"data-testid":"summary-".concat(y)})},y)})}),n.map(function(m){var y=m.groupName,g=m.groups;if(y!==r)return null;var b=nn(d,y),w=y===xe.Presets?E(ea,{compact:!0,children:[v(cc,{onClick:a,children:"New Preset"}),v(lc,{duplicatePreset:i,editPreset:s,presets:c}),f&&!h&&v(q0,{})]}):v(ea,{compact:!0,children:E(Z,{children:[g.map(function(A){var I=A.groupItems,k=A.groupTitle;return v(xr,{title:g.length>1?k:void 0,groupName:y,items:I,selectedMonomerUniqueKey:p,onItemClick:function(_){return o(_,y)}},k)}),b.map(function(A){var I=A.groupTitle,k=A.groupItems;return v(xr,{title:I,items:k,libraryName:u,selectedMonomerUniqueKey:p,onItemClick:function(_){return o(_,y)}},I)})]})}),x=r===xe.Presets,C=r===W.NUCLEOTIDES;return v(tk,{className:jn(x&&"first-tab",C&&"last-tab"),children:v(rk,{children:w})},y)})]})},uk=S.memo(sk),lk=function(e){var r=e.groupName,n=e.quantity,a=e.expanded,o=e.iconName;return E(sE,{"data-testid":"summary-".concat(r),children:[v(zu,{name:o}),E(uE,{children:[r," (",n,")"]}),v(zu,{name:"chevron",expanded:a})]})},ck=function(e){var r=e.activeRnaBuilderItem,n=e.groupsData,a=e.newPreset,o=e.onNewPresetClick,i=e.onSelectItem,s=e.duplicatePreset,u=e.editPreset,l=e.libraryName,c=wr(),d=T(Pa),f=T(Sa),h=T(Pr),p=T(rc),m=T(v0),y=S.useState(r),g=L(y,2),b=g[0],w=g[1],x=function(A){b===A?w(null):(w(A),c(ac({rnaPreset:a,isEditMode:h})))};return S.useEffect(function(){w(r)},[r]),v(Z,{children:n.map(function(C){var A=b===C.groupName,I=nn(f,C.groupName),k=[].concat(ce(C.groups),ce(I)).reduce(function(P,R){return P+(R.groupItems.length||0)},0),O=v(lk,{iconName:C.iconName,groupName:C.groupName,quantity:k,expanded:A}),_=C.groupName===xe.Presets?E(ea,{children:[v(cc,{onClick:o,children:"New Preset"}),v(lc,{duplicatePreset:s,editPreset:u,presets:d}),h&&!p&&v(q0,{})]}):v(ea,{children:E(Z,{children:[C.groups.map(function(P){var R=P.groupItems,N=P.groupTitle;return v(xr,{title:C.groups.length>1?N:void 0,groupName:C.groupName,items:R,selectedMonomerUniqueKey:m,onItemClick:function(F){return i(F,C.groupName)}},N)}),I.map(function(P){return v(xr,{title:P.groupTitle,items:P.groupItems,libraryName:l,selectedMonomerUniqueKey:m,onItemClick:function(N){return i(N,C.groupName)}},P.groupTitle)})]})});return C.groupName===xe.Presets&&A?v(ek,{children:v(Xh,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(C.groupName),summary:O,details:_,expanded:A,onSummaryClick:function(){return x(C.groupName)}})},C.groupName):v(Xh,{"data-testid":"styled-accordion",dataTestIdDetails:"rna-accordion-details-".concat(C.groupName),summary:O,details:_,expanded:A,onSummaryClick:function(){return x(C.groupName)}},C.groupName)})})},dk=S.memo(ck);function tp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var fk=function(e){var r=e.view,n=e.libraryName,a=e.duplicatePreset,o=e.editPreset,i=wr(),s=T(l0),u=T(Aa),l=T(Pr),c=T(oe),d=T(it),f=S.useState(u),h=L(f,2),p=h[0],m=h[1];S.useEffect(function(){i(Ut(l&&u?s:xe.Presets))},[l]);var y=ik(n),g=S.useCallback(function(){i(oc()),i(Ut(xe.Presets)),i(vt(!0))},[i]),b=S.useCallback(function(w,x){var C;if(i(p0(He(w))),!d&&!l&&c.events.selectMonomer.dispatch(w),!!l){var A=Ie(w)?(C=w.monomers[0].monomerItem.props.MonomerClass)===null||C===void 0?void 0:C.toLowerCase():w.props.MonomerClass.toLowerCase(),I=rp(rp({},p),{},H({},A,w));m(I),i(m0({groupName:x,groupItem:w})),i(Ut(x))}},[i,c,l,d,p]);return v(JE,{"data-testid":"rna-accordion",children:r==="tabs"?v(uk,{activeRnaBuilderItem:s,groupsData:y,onNewPresetClick:g,onSelectItem:b,libraryName:n,editPreset:o,duplicatePreset:a}):v(dk,{activeRnaBuilderItem:s,groupsData:y,newPreset:p,onNewPresetClick:g,onSelectItem:b,libraryName:n,editPreset:o,duplicatePreset:a})})},vk=function(e){var r=e.libraryName,n=e.duplicatePreset,a=e.editPreset,o=ne(),i=T(mP),s=T(gP),u=uc(),l=function(){i.length>0&&o(ic("")),s.length>0&&o(g0(""))};return E(VE,{children:[v(WE,{duplicatePreset:n}),v(fk,{libraryName:r,duplicatePreset:n,editPreset:a,view:u?"tabs":"accordion"}),E(J,{isOpen:!!i||!!s,title:"Error Message",onClose:l,children:[v(J.Content,{children:E("div",{style:{padding:"12px"},children:[i&&'Preset with name "'.concat(i,'" already exists. Please choose another name.'),s&&'Preset with name "'.concat(s,`" can't be used. Because it is impossible to establish bonds between monomers. Edit it's structure or choose another one.`)]})}),v(J.Footer,{children:v(cc,{onClick:l,children:"Close"})})]})]})},hk=function(e,r){return[{caption:ec,tooltip:"Favorites",component:uu,testId:"FAVORITES-TAB",props:{libraryName:t0,duplicatePreset:e,editPreset:r}},{caption:"Peptides",component:uu,testId:"PEPTIDES-TAB",props:{libraryName:Vr.PEPTIDE}},{caption:"RNA",testId:"RNA-TAB",component:vk,props:{libraryName:Vr.RNA,duplicatePreset:e,editPreset:r}},{caption:"CHEM",component:uu,testId:"CHEM-TAB",props:{libraryName:Vr.CHEM}}]};function np(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?np(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):np(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cu="_Copy",pk=function(e){var r=e.toggleLibraryVisibility,n=S.useRef([]),a=ne(),o=T(a0);S.useEffect(function(){a(Nh(""))},[a]),T(Ia,function(d){return n.current=d,!0});var i=S.useCallback(function(d){a(Nh(d.target.value))},[a]),s=S.useCallback(function(d){var f="".concat(d?.name).concat(cu),h;do h=n.current.find(function(y){return y.name===f}),h&&(f+=cu);while(h);if(h){a(ic(f));return}var p=h?"".concat(f).concat(cu):f,m=ap(ap({},d),{},{name:p,nameInList:p,default:!1,favorite:!1});a(sn(m)),a(vt(!0)),Hu(d?.name)},[a]),u=S.useCallback(function(d){a(sn(d)),a(vt(!0))},[a]),l=S.useMemo(function(){return hk(s,u)},[s,u]),c=S.useCallback(function(d,f){a(an(f))},[a]);return E(NP,{"data-testid":"monomer-library",children:[E(RP,{children:[E(DP,{children:[v(jP,{name:"search"}),v(qP,{type:"search","data-testid":"monomer-library-input",onChange:i,placeholder:"Search by name..."})]}),v(LP,{title:"Hide library",onClick:r,"data-testid":"hide-monomer-library",children:v(de,{name:"arrows-right"})})]}),v(I0,{tabs:l,selectedTabIndex:o,onChange:c})]})},mk=M("div",{target:"emj253a0"})(function(t){var e=t.theme;return{margin:0,fontSize:e.ketcher.font.size.regular,position:"absolute",top:"12px",cursor:"pointer",visibility:"visible",opacity:1,whiteSpace:"nowrap",display:"flex",alignItems:"center",lineHeight:1,userSelect:"none",backgroundColor:e.ketcher.color.button.primary.active,color:e.ketcher.color.button.text.primary,right:"12px",padding:"10px 8px",borderRadius:"4px","& > span":{display:"flex",justifyContent:"center",alignItems:"center","&.icon":{marginRight:"2px"}}}},""),gk=function(e){var r=e.onClick;return E(mk,{onClick:r,"data-testid":"show-monomer-library",children:[v("span",{className:"icon",children:v(de,{name:"arrows-left"})}),"Show Library"]})},yk=M("div",{target:"e10ckbgw0"})("display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:40px;height:12px;margin-top:10px;& span{display:inline-block;width:8px;height:8px;border:2px solid ",function(t){var e=t.theme;return e.ketcher.color.spinner},";border-radius:100%;box-sizing:border-box;&:nth-of-type(1){animation:bounce 1s ease-in-out infinite;}&:nth-of-type(2){animation:bounce 1s ease-in-out 0.33s infinite;}&:nth-of-type(3){animation:bounce 1s ease-in-out 0.66s infinite;}}@keyframes bounce{0%,75%,100%{-webkit-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);}25%{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);-o-transform:translateY(-100%);transform:translateY(-100%);}}"),ka=function(){return E(yk,{className:"loading-spinner",children:[v("span",{}),v("span",{}),v("span",{})]})},bk="file-thumbnail",xk=M("div",{target:"ep0evuw1"})({name:"1btsn9l",styles:"width:410px;min-height:23em;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center"}),wk=M("div",{target:"ep0evuw0"})({name:"vbftiw",styles:"display:flex;flex-direction:row;align-items:center;svg{margin-right:13px;}p{color:#585858;font-size:16px;line-height:19px;}"}),Ck=function(e){var r=e.fileName;return E(xk,{children:[r&&E(wk,{children:[v(de,{name:bk}),v("p",{children:r})]}),v(ka,{})]})},Mk=["textLabel","iconName","disabled","disabledText"];function op(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?op(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):op(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Sk={width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between"},Ak=M(de,{target:"erk2iw51"})("filter:",function(t){var e=t.disabled;return e?"grayscale(1)":""},";opacity:",function(t){var e=t.disabled;return e?"0.6":"1"},";"),Ik={backgroundColor:"#F8FEFFFF"},Pk=M("div",{target:"erk2iw50"})("display:flex;flex-direction:column;align-items:center;&>span{font-size:",function(t){var e=t.theme;return e.ketcher.font.size.small},";color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";opacity:50%;}&>svg{margin-bottom:8px;}"),ip=function(e){var r=e.textLabel,n=e.iconName,a=e.disabled,o=e.disabledText,i=Xu(e,Mk),s=Py(nr({multiple:!1,noClick:!0,disabled:a},i)),u=s.getRootProps,l=s.getInputProps,c=s.isDragActive,d=s.open,f=S.useMemo(function(){return nr(nr({},Sk),c?Ik:{})},[c]);return E("div",nr(nr({},u({style:f})),{},{onClick:d,children:[v("input",nr({},l())),v(Ak,{name:n,disabled:a}),a?v(Ek,{children:o}):E(Z,{children:[v(Pk,{children:r&&v("span",{children:r})}),v(F0,{children:"Open from file"})]})]}))},du={PASTE:"open-window-paste-icon",FILE:"open-window-upload-icon",IMAGE:"image-frame"},F0=M("p",{target:"e1035cyz3"})("font-size:10px;text-transform:uppercase;color:",function(t){var e=t.theme;return e.ketcher.color.text.light},";margin:0;text-align:center;line-height:12px;"),Ek=M("p",{target:"e1035cyz2"})("font-size:10px;margin:0;text-align:center;color:",function(t){var e=t.theme;return e.ketcher.color.text.primary},";opacity:50%;line-height:12px;"),kk=M("div",{target:"e1035cyz1"})({name:"h9hj7s",styles:"display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin-bottom:20px;&>*{margin-right:18px;}& :last-child{margin-right:0;}"}),fu=M("div",{target:"e1035cyz0"})("width:128px;height:134px;box-shadow:0 4px 12px rgba(103, 104, 132, 0.18);padding:16px;border-radius:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;position:relative;cursor:pointer;&>p{margin-top:6px;text-align:center;}svg{fill:",function(t){var e=t.theme;return e.ketcher.color.button.primary.active},";}"),Ok=function(e){var r=e.selectClipboard,n=e.fileLoadHandler,a=e.errorHandler;return E(kk,{children:[E(fu,{"data-testid":"paste-from-clipboard-button",onClick:r,children:[v(de,{name:du.PASTE}),v(F0,{children:"Paste from clipboard"})]}),v(fu,{"data-testid":"open-from-file-button",children:v(ip,{onDropAccepted:n,onDropRejected:function(i){return a("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from file",textLabel:"or drag file here",iconName:du.FILE})}),v(fu,{"data-testid":"open-from-image-button",children:v(ip,{accept:"image/*",onDropAccepted:n,onDropRejected:function(i){return a("Unable to accept file(s). ".concat(i))},buttonLabel:"Open from image",textLabel:"or drag file here",iconName:du.IMAGE,disabled:!0,disabledText:"Image Recognition service is not available"})})]})},_k=M("textarea",{target:"e1q335jk0"})("min-width:430px;padding:12px;width:100%;height:100%;overflow:auto;white-space:pre-wrap;resize:none;box-sizing:border-box;outline:transparent;border:none;color:",function(t){var e=t.theme;return e.ketcher.color.input.text.active},";font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";background-color:",function(t){var e=t.theme,r=t.readOnly;return r?e.ketcher.color.input.background.disabled:e.ketcher.color.input.background.primary},";",function(t){var e=t.theme;return D0(e)},";"),B0=function(e){var r=e.value,n=e.inputHandler,a=e.readonly,o=a===void 0?!1:a,i=e.selectOnInit,s=i===void 0?!1:i,u=e.className,l=e.testId,c=S.useRef(null);return S.useEffect(function(){if(s){var d;(d=c.current)===null||d===void 0||d.select()}},[c,r,s]),v(_k,{value:r,readOnly:o,onChange:n&&function(d){return n(d.target.value)},ref:c,className:u,"data-testid":l})};function sp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function up(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Tk=M(B0,{target:"e17hogtk0"})({name:"17fmpnb",styles:"width:100%;height:320px"}),Nk=function(e){if(e.isAnalyzingFile)return v(Ck,{fileName:e.fileName});switch(e.currentState){case e.states.openOptions:return v(Ok,up({},e));case e.states.textEditor:return v(Tk,up({testId:"open-structure-textarea"},e));default:return null}},Rk=["label","clickHandler","children","styleType"];function lp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var z0={name:"zlt300",styles:"padding:5px 8px;border-radius:2px;text-transform:none;line-height:14px;font-size:12px;text-align:center;&.MuiButtonBase-root{width:unset;min-width:70px;}"},Dk=M(im,{target:"ejign8b1"})(function(t){var e=t.theme;return{backgroundColor:e.ketcher.color.button.primary.active,border:"1px solid ".concat(e.ketcher.color.button.primary.active),color:"rgb(245, 245, 245)",fontWeight:e.ketcher.font.weight.regular,width:"62px",height:"24px","&:hover":{backgroundColor:e.ketcher.color.button.primary.hover},"&:disabled":{background:e.ketcher.color.button.primary.disabled,border:"1px solid transparent",opacity:.4}}},z0,""),Lk=M(im,{target:"ejign8b0"})(function(t){var e=t.theme;return{backgroundColor:"transparent",border:"1px solid ".concat(e.ketcher.color.button.secondary.active),color:e.ketcher.color.button.secondary.active,fontWeight:e.ketcher.font.weight.regular,width:"72px",height:"24px","&:hover":{border:"1px solid ".concat(e.ketcher.color.button.secondary.hover),color:e.ketcher.color.button.secondary.hover},"&:disabled":{border:"1px solid ".concat(e.ketcher.color.button.secondary.disabled),color:e.ketcher.color.button.secondary.disabled},"&:clicked":{border:"1px solid ".concat(e.ketcher.color.button.secondary.clicked),color:e.ketcher.color.button.secondary.clicked}}},z0,""),Le=function(e){var r=e.label,n=e.clickHandler,a=e.children,o=e.styleType,i=Xu(e,Rk);return o==="secondary"?v(Lk,Sn(Sn({onClick:n,title:i.title||r,role:"button"},i),{},{children:a||r})):v(Dk,Sn(Sn({onClick:n,title:i.title||r,role:"button"},i),{},{children:a||r}))};function jk(){return new Promise(function(t,e){globalThis.FileReader?t(qk):e(new Error("Your browser does not support opening files locally"))})}function qk(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var a=n.result;t.msClose&&t.msClose(),e(a)},n.onerror=function(a){r(a)},n.readAsText(t,"UTF-8")})}var Fk=M("div",{target:"efvrr8x1"})("position:relative;padding:",function(t){var e=t.currentState;return e===xt.openOptions?"10px 12px":"0"},";");M(Le,{target:"efvrr8x0"})({name:"1tx1l5v",styles:"margin-right:auto"});M(de,{target:"e23iben1"})({name:"1ux2zfx",styles:"fill:#343434"});var Bk=M(de,{target:"e23iben0"})({name:"wpnrak",styles:"user-select:none;width:16px;height:1em;display:inline-block;flex-shrink:0;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;position:absolute;right:7px;top:calc(50% - 0.5em);pointer-events:none;fill:#5b6077"}),zk=function(e){var r=e.className;return v(Bk,{name:"chevron",className:r})};function cp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $k=M(Mb,{target:"e944g1i2"})({name:"1pt8ucq",styles:"width:100%;padding:0 8px;& label{font-size:12px;line-height:unset;}"}),Hk={name:"af34ib",styles:"background-color:white;border-bottom-left-radius:0;border-bottom-right-radius:0"},Uk=M(Iy,{target:"e944g1i1"})("height:24px;border:1px solid #e1e5ea;border-radius:4px;font-size:14px;background-color:white;",function(t){var e=t.open;return e&&Hk}," & .MuiSelect-select{padding:0 24px 0 8px;height:100%;}& span{",function(t){var e=t.theme;return"font-size: ".concat(e.ketcher.font.size.medium)},";}& .MuiOutlinedInput-notchedOutline{border:0;}"),Gk={width:"120px",backgroundColor:"white",border:"1px solid #5B6077",borderTopWidth:"0",borderRadius:"0px 0px 2px 2px",boxShadow:"0 6px 10px rgba(103, 104, 132, 0.15)"},Wk=M(Ay,{target:"e944g1i0"})("display:flex;flex-direction:row;justify-content:space-between;padding:0 8px;height:28px;font-size:14px;&.MuiButtonBase-root:hover{border-left:2px solid #167782;}& .MuiTypography-root{",function(t){var e=t.theme;return"font-size: ".concat(e.ketcher.font.size.medium)},";}"),$0=function(e){var r=e.options,n=e.currentSelection,a=e.selectionHandler,o=e.className,i=e.label,s=e.testId,u=e.customStylesForExpanded,l=u===void 0?{}:u,c=e.disabled,d=c===void 0?!1:c,f=S.useState(!1),h=L(f,2),p=h[0],m=h[1],y=function(C){var A=r.filter(function(I){return I.id===C})[0];return v("span",{children:A.label})},g=function(C){a(C.target.value)},b=function(C){C.type!=="keydown"&&m(!0)},w=function(){m(!1)};return E($k,{className:o,children:[i&&v("label",{htmlFor:"fileformat",children:"File format:"}),v(Uk,{value:n,onChange:g,open:p,onOpen:b,onClose:w,renderValue:y,IconComponent:zk,disabled:d,fullWidth:!0,"data-testid":s||"dropdown-select",MenuProps:{PaperProps:{style:dp(dp({},Gk),l)},MenuListProps:{style:{padding:"0"}}},children:r.map(function(x){return v(Wk,{value:x.id,"data-testid":"".concat(x.label,"-option"),children:v(Pb,{primary:x.label})},x.id)})})]})},Vk=M("form",{target:"el6v3ot5"})({name:"9pd72t",styles:"display:flex;flex-direction:column;height:300px"}),Kk=M("div",{target:"el6v3ot4"})({name:"itz7qk",styles:"display:flex;justify-content:space-between;margin-bottom:16px"}),H0=M($0,{target:"el6v3ot3"})(function(t){var e=t.theme;return{width:"calc(50% - 6px)",height:"28px","& .MuiOutlinedInput-root:hover:not(.Mui-disabled)":{border:"1px solid ".concat(e.ketcher.color.input.border.hover)},"& .MuiOutlinedInput-root":{border:"1px solid ".concat(e.ketcher.color.input.border.regular),backgroundColor:e.ketcher.color.background.primary,color:e.ketcher.color.text.primary,fontFamily:e.ketcher.font.family.inter}}},""),Uu={border:"none"},U0=M("div",{target:"el6v3ot2"})({name:"kq43v2",styles:"position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#fff"}),Yk=M("div",{target:"el6v3ot1"})(function(t){var e=t.theme;return{height:"100%",position:"relative",border:"1px solid ".concat(e.ketcher.color.input.border.regular)}},""),Zk=M("div",{target:"el6v3ot0"})(function(t){var e=t.theme;return{display:"flex",flexGrow:1,position:"relative","& button":{opacity:0,position:"absolute",right:"12px",top:"12px",borderRadius:"4px",padding:"2px",width:"28px",height:"28px","&:not(:active)":{backgroundColor:e.ketcher.color.background.primary,color:e.ketcher.color.text.primary}},"&:hover button":{opacity:1},"&:focus-within button":{opacity:0},"&:focus-within button:hover":{opacity:1}}},""),Qk=M(J,{target:"e1oaegu38"})(function(t){var e=t.modalWidth;return`
    .MuiPaper-root {
      width: `.concat(e,`;
      max-width: `).concat(e,`;
    }`)},""),Xk=M("div",{target:"e1oaegu37"})({name:"kj5rtd",styles:"width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center"}),Jk=M("div",{target:"e1oaegu36"})({name:"rpuipy",styles:"display:flex;height:24px;font-size:12px"}),dc=M(H0,{target:"e1oaegu35"})({name:"7nflbq",styles:"padding:0;font-size:12px;& .MuiSelect-select{display:flex;align-items:center;padding:0 20px 0 8px;padding-right:20px !important;height:100%;}& span{font-size:12px;}"}),eO=M(dc,{target:"e1oaegu34"})(function(){return{width:"140px"}},""),tO=M(dc,{target:"e1oaegu33"})({name:"16zm0c",styles:"width:76px;margin-left:8px"}),rO=M(dc,{target:"e1oaegu32"})({name:"l4tg7k",styles:"width:105px;margin-left:8px"}),nO=M("div",{target:"e1oaegu31"})({name:"oq6u0f",styles:"display:flex;gap:10px"}),fp=M(Le,{target:"e1oaegu30"})({name:"b9l38d",styles:"width:min-content"}),Gu="ket",Nn="seq",Wu="rna",G0="peptide",W0="fasta",V0="one-letter",Vu="three-letter",vp=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"seq",label:"Sequence"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"helm",label:"HELM"}],aO=[{id:Wu,label:"RNA"},{id:"dna",label:"DNA"},{id:G0,label:"Peptide"}],oO=[{id:V0,label:"1-letter code"},{id:Vu,label:"3-letter code"}],vu=L1,xt={openOptions:"openOptions",textEditor:"textEditor"},hp=function(e){var r=e.ketSerializer,n=e.editor,a=e.struct,o=!n.drawingEntitiesManager.hasDrawingEntities,i=r.deserializeToDrawingEntities(a);if(!i)throw new Error("Error during parsing file");i.drawingEntitiesManager.centerMacroStructure();var s=i.drawingEntitiesManager.mergeInto(n.drawingEntitiesManager),u=s.command,l=new Yp(n),c=n.mode instanceof Up,d=n.mode instanceof z1,f=n.mode instanceof $1;f&&(n.drawingEntitiesManager.recalculateAntisenseChains(),n.drawingEntitiesManager.hasAntisenseChains&&(u.merge(n.drawingEntitiesManager.applySnakeLayout(n.canvas.width.baseVal.value,!0,!0,!0)),u.setUndoOperationsByPriority())),n.drawingEntitiesManager.detectBondsOverlappedByMonomers(),n.renderersContainer.update(u),l.update(u),c&&(u.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:fr.sequence,mergeWithLatestHistoryCommand:!0})),d&&(u.setUndoOperationReverse(),n.events.selectMode.dispatch({mode:fr.snake,mergeWithLatestHistoryCommand:!0})),o&&n.zoomToStructuresIfNeeded()},pp=function(){var t=ta(ke.mark(function e(r){var n,a,o,i,s,u,l,c,d,f,h,p,m,y,g,b,w,x;return ke.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(n=r.struct,a=r.formatSelection,o=r.additionalSelection,i=r.peptideLettersFormatSelection,s=r.onCloseCallback,u=r.setIsLoading,l=r.dispatch,c=a===Gu,d=a===Nn,f=a===W0,h=new Rn,p=ra.provideEditorInstance(),y=n,g=function(k){var O="Convert error! "+k;l(on({errorMessage:O,errorTitle:d||f?"Unsupported symbols":""}))},!c){A.next=13;break}try{hp({struct:n,ketSerializer:h,editor:p}),s()}catch{g("Error during file parsing.")}return A.abrupt("return");case 13:f||d&&i!==Vu?(m=vu[a][o],y=y.toUpperCase()):d&&i===Vu?m=vu.seq.peptide3Letter:m=vu[a];case 14:return b=el.getIndigo(),A.prev=15,u(!0),A.next=19,b.convert({struct:y,output_format:Rt.KET,input_format:m});case 19:w=A.sent,hp({struct:w.struct,ketSerializer:h,editor:p}),s(),A.next=29;break;case 24:A.prev=24,A.t0=A.catch(15),x=typeof A.t0=="string"?A.t0:JSON.stringify(A.t0),g(x),Zr.error(A.t0);case 29:return A.prev=29,u(!1),A.finish(29);case 32:case"end":return A.stop()}},e,null,[[15,24,29,32]])}));return function(r){return t.apply(this,arguments)}}(),mp=!1,gp=function(e){},iO=function(e){var r=e.isModalOpen,n=e.onClose,a=ne(),o=S.useState(""),i=L(o,2),s=i[0],u=i[1],l=S.useState(""),c=L(l,2),d=c[0],f=c[1],h=S.useState(!1),p=L(h,2),m=p[0],y=p[1],g=S.useState(),b=L(g,2),w=b[0],x=b[1],C=S.useState(xt.openOptions),A=L(C,2),I=A[0],k=A[1],O=S.useState(Gu),_=L(O,2),P=_[0],R=_[1],N=S.useState(Wu),D=L(N,2),F=D[0],q=D[1],z=S.useState(V0),$=L(z,2),G=$[0],pe=$[1];S.useEffect(function(){var j=d?.split("."),ae=j[j.length-1];if(ae){var _e=vp.find(function(kr){return kr.id===ae}),Me=_e!=null&&_e.id?_e.id:Nn;R(Me)}},[d]),S.useEffect(function(){jk().then(function(j){x({chosenOpener:j})})},[]);var je=S.useCallback(function(){k(xt.openOptions),u(""),R(Gu),q(Wu),n()},[n]),ie=function(ae){var _e=function(Oa){u(Oa),k(xt.textEditor)},Me=function(){return gp()};f(ae[0].name),w?.chosenOpener(ae[0]).then(_e,Me)},Ke=function(){pp({struct:s,formatSelection:P,additionalSelection:F,peptideLettersFormatSelection:G,onCloseCallback:je,setIsLoading:y,dispatch:a})},K=function(){var ae=ra.provideEditorInstance(),_e=new Yp(ae),Me=ae.drawingEntitiesManager.deleteAllEntities();_e.update(Me),ae.renderersContainer.update(Me),ae.zoomToStructuresIfNeeded(),pp({struct:s,formatSelection:P,additionalSelection:F,peptideLettersFormatSelection:G,onCloseCallback:je,setIsLoading:y,dispatch:a})},U=function(){return E(Xk,{children:[E(Jk,{children:[v(eO,{options:vp,currentSelection:P,selectionHandler:R,customStylesForExpanded:Uu},P),P===Nn||P===W0?v(tO,{options:aO,currentSelection:F,selectionHandler:q,customStylesForExpanded:Uu,testId:"dropdown-select-type"},F):null,P===Nn&&F===G0?v(rO,{options:oO,currentSelection:G,selectionHandler:pe,testId:"dropdown-select-peptide-letters-format"}):null]}),E(nO,{children:[v(fp,{disabled:!s,clickHandler:K,label:"Open as New",styleType:"secondary","data-testid":"open-as-new-button"},"openButton"),v(fp,{disabled:!s,clickHandler:Ke,label:"Add to Canvas",title:"Structure will be loaded as fragment and added to Clipboard","data-testid":"add-to-canvas-button"},"copyButton")]})]})};return E(Qk,{isOpen:r,title:"Open Structure",onClose:je,modalWidth:I===xt.textEditor?"620px":"",children:[v(J.Content,{children:E(Fk,{currentState:I,children:[v(Nk,{isAnalyzingFile:mp,fileName:d,currentState:I,states:xt,selectClipboard:function(){return k(xt.textEditor)},fileLoadHandler:ie,errorHandler:gp,value:s,inputHandler:u}),m&&v(U0,{children:v(ka,{})})]})}),I===xt.textEditor&&!mp?v(J.Footer,{withborder:"true",children:U()}):v(Z,{})]})},sO=["value","id","onChange","label","type","className","inputClassName"];function yp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lO=M("label",{target:"e10m4n7r1"})(function(t){var e=t.theme;return{display:"flex",flexDirection:"column",marginRight:"8px",color:e.ketcher.color.text.primary,fontSize:"12px"}},""),cO=M("input",{target:"e10m4n7r0"})(function(t){var e=t.theme;return{height:"24px",padding:"3px 7px",border:"1px solid ".concat(e.ketcher.color.input.border.regular),fontSize:"14px",borderRadius:"4px",backgroundColor:e.ketcher.color.input.background.primary,color:e.ketcher.color.text.primary,outline:"transparent",width:"164px",letterSpacing:"normal","&:active, &:focus":{color:e.ketcher.color.input.text.active},"&:hover":{border:"1px solid ".concat(e.ketcher.color.input.border.hover)}}},""),K0=function(e){var r=e.value,n=e.id,a=e.onChange,o=e.label,i=e.type,s=e.className,u=e.inputClassName,l=Xu(e,sO),c=function(f){a(f.target.value)};return v(Z,{children:E(lO,{htmlFor:n,className:s,children:[o&&v("span",{children:o}),v(cO,uO({type:i||"text",id:n,value:r,className:u,onChange:c},l))]})})},Ze;(function(t){t.Ket="chemical/x-ket",t.Mol="chemical/x-mdl-molfile",t.HELM="chemincal/x-helm",t.Fasta="chemical/x-fasta",t.Sequence="chemical/x-sequence",t.Idt="chemical/x-idt",t.Svg="image/svg+xml"})(Ze||(Ze={}));var bt=Gp(function t(e,r,n,a,o){Zp(this,t),this.name=e,this.mime=r,this.extensions=n,this.supportsCoords=a||!1,this.options=o||{}}),dO={ket:new bt("Ket file",Ze.Ket,[".ket"],!0,{}),mol:new bt("MDL Molfile V3000",Ze.Mol,[".mol"],!0,{"molfile-saving-mode":"3000"}),fasta:new bt("FASTA",Ze.Fasta,[".fasta"],!1,{}),sequence:new bt("SEQUENCE",Ze.Sequence,[".seq"],!1,{}),"sequence-3-letter":new bt("SEQUENCE (3-letter code)",Ze.Sequence,[".seq"],!1,{}),idt:new bt("IDT",Ze.Idt,[".idt"],!1,{}),helm:new bt("HELM",Ze.HELM,[".helm"]),svg:new bt("SVG Document",Ze.Svg,[".svg"])},bp=function(e){return dO[e]},fO=[{id:"ket",label:"Ket"},{id:"mol",label:"MDL Molfile V3000"},{id:"sequence",label:"Sequence (1-letter code)"},{id:"sequence-3-letter",label:"Sequence (3-letter code)"},{id:"fasta",label:"FASTA"},{id:"idt",label:"IDT"},{id:"svg",label:"SVG Document"},{id:"helm",label:"HELM"}],vO={mol:Rt.Mol,fasta:Rt.FASTA,sequence:Rt.SEQUENCE,"sequence-3-letter":Rt.PeptideSequenceThreeLetter,idt:Rt.IDT,helm:Rt.HELM},hO=M(J,{target:"e12csxs60"})({name:"krpfk5",styles:"& div.MuiPaper-root{background:white;min-height:400px;min-width:430px;}& .MuiDialogContent-root{overflow:hidden;height:100%;}"}),pO=function(e){var r=e.onClose,n=e.isModalOpen,a=ne(),o=S.useState("ket"),i=L(o,2),s=i[0],u=i[1],l=S.useState("ketcher"),c=L(l,2),d=c[0],f=c[1],h=S.useState(""),p=L(h,2),m=p[0],y=p[1],g=S.useState(!1),b=L(g,2),w=b[0],x=b[1],C=S.useState(),A=L(C,2),I=A[0],k=A[1],O=el.getIndigo(),_=ra.provideEditorInstance(),P=function(){var F=ta(ke.mark(function q(z){var $,G,pe,je,ie,Ke,K;return ke.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(u(z),$=new Rn,G=$.serialize(_.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),_.drawingEntitiesManager),k(void 0),z!=="ket"){j.next=7;break}return y(G),j.abrupt("return");case 7:if(z!=="svg"){j.next=11;break}return pe=yc(_.canvas,"preview"),k(pe),j.abrupt("return");case 11:if(j.prev=11,x(!0),!(z==="fasta"||z==="sequence")){j.next=17;break}if(je=_.drawingEntitiesManager.validateIfApplicableForFasta(),je){j.next=17;break}throw new Error("Error during sequence type recognition(RNA, DNA or Peptide)");case 17:return j.next=19,O.convert({struct:G,output_format:vO[z]});case 19:ie=j.sent,y(ie.struct),j.next=30;break;case 23:j.prev=23,j.t0=j.catch(11),j.t0 instanceof Error?Ke=j.t0.message:Ke=typeof j.t0=="string"?j.t0:JSON.stringify(j.t0),K="Convert error! "+Ke,a(on(K)),Zr.error(K),u("ket");case 30:return j.prev=30,x(!1),j.finish(30);case 33:case"end":return j.stop()}},q,null,[[11,23,30,33]])}));return function(z){return F.apply(this,arguments)}}(),R=function(q){f(q)},N=function(){var q;if(s==="svg"){var z=yc(_.canvas,"file");if(!z){r();return}q=z}else q=m;var $=new Blob([q],{type:bp(s).mime}),G=bp(s);_1.saveAs($,"".concat(d).concat(G.extensions[0])),r()},D=function(q){q.preventDefault();try{T1()?navigator.clipboard.writeText(m):N1(q.clipboardData,{"text/plain":m})}catch(z){Zr.error("copyAs.js::copyAs",z),a(on("This feature is not available in your browser"))}};return S.useEffect(function(){if(s==="ket"){var F=new Rn,q=F.serialize(_.drawingEntitiesManager.micromoleculesHiddenEntities.clone(),_.drawingEntitiesManager);y(q)}},[s]),E(hO,{title:"save structure",isOpen:n,onClose:r,testId:"save-structure-dialog",children:[v(J.Content,{children:E(Vk,{onSubmit:N,id:"save",children:[E(Kk,{style:{padding:"12px 12px 10px"},children:[v("div",{children:v(K0,{value:d,id:"filename",onChange:R,label:"File name:","data-testid":"filename-input"})}),v(H0,{label:"File format:",options:fO,currentSelection:s,selectionHandler:P,customStylesForExpanded:Uu,testId:"file-format-list"})]}),I?v(Yk,{dangerouslySetInnerHTML:{__html:I},"data-testid":"preview-area"}):E(Zk,{children:[v(B0,{testId:"preview-area",value:m,readonly:!0}),v(na,{onClick:D,iconName:"copy",title:"Copy to clipboard",testId:"copy-to-clipboard"}),w&&v(U0,{children:v(ka,{})})]})]})}),E(J.Footer,{children:[v(Le,{label:"Cancel",styleType:"secondary",clickHandler:r,"data-testid":"cancel-button"}),v(Le,{label:"Save",clickHandler:N,disabled:!d,"data-testid":"save-button"})]})]})},xp=M(Le,{target:"e1kgbmg80"})(function(){return{width:"72px"}},""),mO=M("div",{target:"e11sfr0q0"})({name:"606i4c",styles:"padding:12px"}),gO=function(e){var r=e.isModalOpen,n=e.onClose,a=ne(),o=T(f0),i=T(oe),s=S.useCallback(function(){n()},[n]),u=function(){s()},l=function(){s(),a(wP(o)),a(vt(!1)),a(oc()),i.events.selectPreset.dispatch(null)};return E(J,{isOpen:r,title:"Delete RNA Preset",onClose:s,children:[v(J.Content,{children:E(mO,{"data-testid":"delete-preset-popup-content",children:[v("div",{children:"You are about to delete"}),E("div",{children:['"',o.name,'" RNA preset.']}),v("div",{children:"This operation cannot be undone."})]})}),E(J.Footer,{children:[v(xp,{clickHandler:u,label:"Cancel",styleType:"secondary"},"cancel"),v(xp,{clickHandler:l,label:"Delete"},"delete")]})]})},yO=M("div",{target:"e1wvbgsi0"})({name:"606i4c",styles:"padding:12px"}),bO=function(e){var r=e.isModalOpen,n=e.onClose,a=ne(),o=T(c0),i=T(oe),s=Jn(o),u=S.useCallback(function(){n()},[n]),l=function(){Xn(a,i)},c=function(){u()},d=function(){u(),i.events.modifySequenceInRnaBuilder.dispatch(o),l()};return E(J,{isOpen:r,title:"Update sequence",onClose:u,children:[v(J.Content,{children:E(yO,{children:["You are going to modify ",s," nucleotides. Are you sure?"]})}),E(J.Footer,{children:[v(Le,{clickHandler:c,label:"Cancel",styleType:"secondary"},"cancel"),v(Le,{clickHandler:d,label:"Yes"},"update")]})]})},xO=M("div",{target:"e1tvvbc92"})(function(){return{display:"flex",flexDirection:"column",rowGap:"2px",alignItems:"center",marginBottom:"5px"}},""),wO=M("span",{target:"e1tvvbc91"})(function(t){return{margin:0,padding:0,textAlign:"center",display:"block",font:t.theme.ketcher.font.family.inter,fontSize:t.theme.ketcher.font.size.small,fontWeight:t.theme.ketcher.font.weight.regular,color:t.disabled?"rgba(180, 185, 214, 1)":t.theme.ketcher.color.text.light}},""),CO=M("div",{target:"e1tvvbc90"})(function(){return{height:"100%"}},""),Y0=function(e){return e==="O"?"OH":e},MO=M(um,{target:"e1huhxto1"})(function(t){var e=t.theme,r=t.isExpanded;return{display:"flex",border:"1.5px solid ".concat(e.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),SO=M("div",{target:"e1huhxto0"})({name:"wfzm1y",styles:"display:flex;flex-wrap:wrap;justify-content:center;align-self:flex-start;width:100%;gap:7px"}),AO=M("div",{target:"e8i5wzj0"})({name:"2oefzz",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;padding:8px;color:#7c7c7f;border:1px solid #cad3dd;width:100%;height:100%"}),Z0=function(){return E(AO,{children:[v(de,{name:"questionMark"}),"Unknown structure"]})},IO=M("div",{target:"e1q9gayd0"})(function(t){var e=t.theme,r=t.expanded;return{display:"flex",border:"1.5px solid ".concat(e.ketcher.outline.color),borderRadius:"6px",padding:5,maxHeight:"100%",minHeight:"150px",height:r?"auto":"150px",width:r?"auto":"150px",alignSelf:"stretch","& svg":{maxWidth:"fit-content",margin:"auto"}}},""),PO=function(e){var r=e.monomer,n=e.expanded,a=e.selectedAttachmentPoint,o=e.connectedAttachmentPoints,i=e.usage,s=S.useRef(null);return S.useLayoutEffect(function(){var u=s.current;if(u){var l=Br(u);if(r instanceof tt){var c=(u.width.baseVal.value-u.x.baseVal.value)/2,d=(u.height.baseVal.value-u.y.baseVal.value)/2,f=new q1(c,d),h=F1.canvasToModel(f),p=new tt(r.variantMonomerItem,h),m=new B1(p);m.showExternal({canvas:l,usage:i,selectedAttachmentPoint:a,connectedAttachmentPoints:o})}}},[a,o]),v(IO,{expanded:n,children:v("svg",{ref:s})})},Ku=function(e){var r=e.monomer,n=e.attachmentPoints,a=e.connectedAttachmentPoints,o=e.selectedAttachmentPoint,i=e.usage,s=e.needCache,u=e.update,l=e.expanded,c=r instanceof tt,d=r.monomerItem.props.unresolved;return E(Z,{children:[c?v(PO,{monomer:r,expanded:l,selectedAttachmentPoint:o,connectedAttachmentPoints:a,usage:i}):d?v(Z0,{}):v(MO,{struct:r.monomerItem.struct,options:{connectedMonomerAttachmentPoints:a,currentlySelectedMonomerAttachmentPoint:o??void 0,usageInMacromolecule:i,labelInMonomerConnectionsModal:!0,needCache:s??!1},update:u,isExpanded:l}),v(SO,{children:n})]})},wp=M("div",{target:"e14t14ao2"})(function(t){var e=t.theme,r=t.isExpanded;return{margin:0,padding:0,textAlign:"center",alignSelf:"flex-end",display:"block",font:e.ketcher.font.family.inter,fontSize:e.ketcher.font.size.regular,fontWeight:e.ketcher.font.weight.regular,flexBasis:"200px",lineHeight:"14px",maxWidth:r?void 0:"150px"}},""),EO=M("div",{target:"e14t14ao1"})(function(t){var e=t.theme;return{width:10,height:2,display:"block",color:e.ketcher.color.button.secondary.hover,backgroundColor:e.ketcher.color.button.secondary.hover,borderRadius:20,margin:"auto"}},""),kO=M("div",{target:"e14t14ao0"})(function(){return{display:"grid",gridAutoFlow:"column",gridTemplateRows:"auto auto auto",gridTemplateColumns:"1fr 10px 1fr",justifyContent:"center",alignItems:"flex-start",padding:"12px",paddingBottom:0,height:"100%",columnGap:"12px",rowGap:"8px"}},""),Cp=function(e){return e instanceof tt?"Ambiguous ".concat(e.monomerClass):e.monomerItem.props.Name},Q0=function(e){var r=e.firstMonomer,n=e.secondMonomer,a=e.expanded,o=e.firstMonomerOverview,i=e.secondMonomerOverview,s=Cp(r),u=Cp(n);return E(kO,{children:[v(wp,{isExpanded:a,children:s}),o,v("span",{}),v(EO,{}),v("span",{}),v(wp,{isExpanded:a,children:u}),i]})};function Mp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _O=M(J,{target:"e1byht5d3"})({name:"1j7jcep",styles:"& .MuiPaper-root{background:#fff !important;}& .MuiDialogContent-root{overflow:hidden;}"}),TO=M(Le,{target:"e1byht5d2"})(function(){return{width:"97px !important"}},""),NO=M(Le,{target:"e1byht5d1"})(function(t){return{width:"97px !important",color:t.disabled?"rgba(51, 51, 51, 0.6)":"",background:t.disabled?"rgba(225, 229, 234, 1) !important":"",opacity:"1 !important",minHeight:"0"}},""),RO=M(Le,{target:"e1byht5d0"})(function(t){return{borderRadius:5,minWidth:"45px !important",padding:"4px",border:"1px solid ".concat(t.theme.ketcher.color.border.secondary),color:t.disabled?"rgba(51, 51, 51, 0.6) !important":"",background:t.disabled?"rgba(225, 229, 234)":"",borderColor:t.disabled?"rgba(225, 229, 234) !important":""}},""),DO=function(e){var r=e.onClose,n=e.isModalOpen,a=e.firstMonomer,o=e.secondMonomer,i=e.polymerBond,s=e.isReconnectionDialog,u=T(oe),l=S.useRef(i?.firstMonomerAttachmentPoint),c=S.useRef(i?.secondMonomerAttachmentPoint),d=S.useRef(a?.hasFreeAttachmentPoint||o?.hasFreeAttachmentPoint);if(!a||!o)throw new Error("Monomers must exist!");var f=S.useState(l.current||Ap(a)),h=L(f,2),p=h[0],m=h[1],y=S.useState(c.current||Ap(o)),g=L(y,2),b=g[0],w=g[1],x=S.useState(!1),C=L(x,2),A=C[0],I=C[1],k=function(){if(s){var P;i?.firstMonomer.setBond(l.current,i),i==null||(P=i.secondMonomer)===null||P===void 0||P.setBond(c.current,i),r()}else u.events.cancelBondCreationViaModal.dispatch(o),r()},O=function(){if(!p||!b)throw new Error("Attachment points cannot be falsy");if(p===l.current&&b===c.current){k();return}u.events.createBondViaModal.dispatch({firstMonomer:a,secondMonomer:o,firstSelectedAttachmentPoint:p,secondSelectedAttachmentPoint:b,polymerBond:i,isReconnection:s,initialFirstMonomerAttachmentPoint:l.current,initialSecondMonomerAttachmentPoint:c.current}),r()};return E(_O,{title:s?"Edit Connection Points":"Select connection points",isOpen:n,onClose:k,showExpandButton:!0,modalWidth:"358px",expanded:A,setExpanded:I,children:[v(J.Content,{children:v(CO,{children:v(Q0,{firstMonomer:a,secondMonomer:o,expanded:A,firstMonomerOverview:v(Sp,{monomer:a,selectedAttachmentPoint:p,onSelectAttachmentPoint:m,expanded:A}),secondMonomerOverview:v(Sp,{monomer:o,selectedAttachmentPoint:b,onSelectAttachmentPoint:w,expanded:A})})})}),E(J.Footer,{children:[v(TO,{label:"Cancel",styleType:"secondary",clickHandler:k}),v(NO,{label:s?"Reconnect":"Connect",disabled:!p||!b||!d.current,clickHandler:O})]})]})};function Sp(t){var e=t.monomer,r=t.selectedAttachmentPoint,n=t.onSelectAttachmentPoint,a=t.expanded,o=a===void 0?!1:a,i=S.useState(e.attachmentPointsToBonds),s=L(i,2),u=s[0],l=s[1],c=S.useState(function(){return su(u)}),d=L(c,2),f=d[0],h=d[1];S.useEffect(function(){l(e.attachmentPointsToBonds)},[r]),S.useEffect(function(){var y=su(u);h(y)},[u]);var p=function(g){var b=e.monomerCaps,w=e instanceof tt;if(!b)return w?null:"H";var x=b[g];return Y0(x)},m=function(g){var b=OO({},e.attachmentPointsToBonds),w=r?b[r]:null;r&&w&&e.removeBond(w);var x=e.getPotentialBond(g);b[g]=x,l(b),n(g);var C=su(b);h(C)};return v(Ku,{monomer:e,connectedAttachmentPoints:f,selectedAttachmentPoint:r,usage:Dn.MonomerConnectionsModal,update:o,expanded:o,attachmentPoints:e.listOfAttachmentPoints.map(function(y){var g=!!(f.includes(y)&&y!==r);return E(xO,{children:[v(RO,{label:y,styleType:y===r?"primary":"secondary",clickHandler:function(){return m(y)},disabled:g}),v(wO,{"data-testid":"leaving-group-value",disabled:g,children:p(y)})]},y)})})}function Ap(t){if(t.chosenFirstAttachmentPointForBond)return t.chosenFirstAttachmentPointForBond;if(t.chosenSecondAttachmentPointForBond)return t.chosenSecondAttachmentPointForBond;var e=Object.entries(t.attachmentPointsToBonds).filter(function(a){var o=L(a,2);o[0];var i=o[1];return i==null});if(e.length===1){var r=L(e[0],1),n=r[0];return n}return null}var LO=M("p",{target:"e1e4h5hm0"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),jO=function(e){var r=e.title,n=e.confirmationText,a=e.onConfirm,o=e.isModalOpen,i=e.onClose,s=function(){a(),i()};return E(J,{isOpen:o,title:r||"Confirm your action",onClose:i,children:[v(J.Content,{children:v(LO,{children:n})}),E(J.Footer,{children:[v(Le,{label:"Cancel",clickHandler:i}),v(Le,{label:"Yes",clickHandler:s,styleType:"secondary"})]})]})},X0={open:iO,save:pO,delete:gO,updateSequenceInRNABuilder:bO,monomerConnection:DO,confirmationDialog:jO};function Ip(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ip(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FO=function(){var e=T(eP),r=T(JI),n=T(tP),a=ne(),o=S.useCallback(function(){a(ZI())},[a]);if(!r)return null;var i=X0[r];if(!i)throw new Error("There is no modal window named ".concat(r));return n?v(i,qO({onClose:o,isModalOpen:e},n)):v(i,{onClose:o,isModalOpen:e})},BO=M("div",{target:"e15avtnm2"})({name:"1bweptz",styles:"background-color:#333333;max-height:40px;display:flex;align-items:stretch"}),zO=M("div",{target:"e15avtnm1"})({name:"1my6l07",styles:"max-width:356px;padding:4px 10px 4px 10px;color:white;display:flex"}),$O=M(na,{target:"e15avtnm0"})({name:"1c8hqv0",styles:"color:white;width:24px;height:auto;display:flex;align-items:center;justify-content:center;&:hover{background-color:#585858;color:white;}svg{width:16px;height:16px;}"}),HO=function(){return E(Z,{children:[v("symbol",{id:"chem",viewBox:"0 0 59 59",width:"59",height:"59",children:v("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"0.75",fill:"#F5F6F7"})}),v("symbol",{id:"chem-selection",viewBox:"0 0 59 59",width:"59",height:"59",children:v("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"0.75",stroke:"#0097A8",fill:"none",strokeWidth:"1.5"})})]})},UO=function(){return E(Z,{children:[v("symbol",{id:"peptide",viewBox:"0 0 70 61",width:"70",height:"61",children:v("path",{className:"monomer-body",transform:"scale(0.5)","data-actual-width":"35","data-actual-height":"30.5",d:"M16.9236 1.00466C17.2801 0.383231 17.9418 6.10888e-07 18.6583 5.98224e-07L51.3417 2.04752e-08C52.0582 7.81036e-09 52.7199 0.383234 53.0764 1.00466L69.4289 29.5047C69.7826 30.1211 69.7826 30.8789 69.4289 31.4953L53.0764 59.9953C52.7199 60.6168 52.0582 61 51.3417 61H18.6583C17.9418 61 17.2801 60.6168 16.9236 59.9953L0.571095 31.4953C0.217407 30.8789 0.217408 30.1211 0.571096 29.5047L16.9236 1.00466Z"})}),E("symbol",{id:"peptide-hover",viewBox:"0 0 70 61",width:"70",height:"61",children:[v("path",{d:"M18.2246 1.75116C18.3137 1.59581 18.4792 1.5 18.6583 1.5L51.3417 1.5C51.5208 1.5 51.6863 1.59581 51.7754 1.75116L53.06 1.01408L51.7754 1.75117L68.1279 30.2512C68.2163 30.4053 68.2163 30.5947 68.1279 30.7488L51.7754 59.2488C51.6863 59.4042 51.5208 59.5 51.3417 59.5H18.6583C18.4792 59.5 18.3137 59.4042 18.2246 59.2488L1.87215 30.7488C1.78372 30.5947 1.78372 30.4053 1.87215 30.2512L18.2246 1.75116Z",fill:"none",transform:"scale(0.5)",stroke:"#0097A8",strokeWidth:"3"})," "]}),v("symbol",{id:"modified-background",viewBox:"0 0 60 20",width:"30",height:"20",x:"2.5",y:"5",children:v("path",{xmlns:"http://www.w3.org/2000/svg",d:`M6.52702 20C5.81057 20 5.14885 19.6168 4.79229 18.9953L0.570974 11.6382C0.217285 11.0218 
           0.217285 10.2639 0.570974 9.64751L5.52999 1.00466C5.88654 0.383235 6.54827 0 7.26472 0H52.735C53.4515
           0 54.1132 0.383234 54.4698 1.00466L59.4288 9.64751C59.7825 10.2639 59.7825 11.0218 59.4288 11.6382
           L55.2075 18.9953C54.8509 19.6168 54.1892 20 53.4727 20H6.52702Z`,fillOpacity:"0.6"})})]})},GO=function(){return E(Z,{children:[v("symbol",{id:"sugar",viewBox:"0 0 70 70",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",rx:"5"})}),v("symbol",{id:"sugar-selection",viewBox:"-1 -1 100 100",width:"70",height:"70",children:v("rect",{width:"39",height:"39",rx:"5",fill:"none",stroke:"#0097A8",strokeWidth:"2.5"})}),v("symbol",{id:"sugar-variant",viewBox:"0 0 72 72",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"28.5",height:"28.5","data-actual-width":"28.5","data-actual-height":"28.5",x:"0.5",y:"0.5",rx:"5",stroke:"#585858",strokeWidth:"0.5"})}),v("symbol",{id:"sugar-modified-background",viewBox:"0 0 28 10",width:"27",height:"10",x:"0.7",y:"10",children:v("path",{d:"M1.5 10C0.947715 10 0.5 9.55229 0.5 9V1C0.5 0.447715 0.947715 0 1.5 0H26.5C27.0523 0 27.5 0.447715 27.5 1V9C27.5 9.55228 27.0523 10 26.5 10H1.5Z",fill:"white",fillOpacity:"0.6"})})]})},WO=function(){return E(Z,{children:[v("symbol",{id:"phosphate",viewBox:"0 0 70 70",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"28",height:"28","data-actual-width":"28","data-actual-height":"28",rx:"15"})}),v("symbol",{id:"phosphate-selection",viewBox:"-1 -1 75 75",width:"70",height:"70",children:v("rect",{width:"28",height:"28",rx:"15",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})}),v("symbol",{id:"phosphate-variant",viewBox:"0 0 70 70",width:"70",height:"70",children:v("rect",{className:"monomer-body",width:"27",height:"27","data-actual-width":"27","data-actual-height":"27",stroke:"#585858",strokeWidth:"0.5",x:"0.5",y:"0.5",rx:"15"})}),v("symbol",{id:"phosphate-modified-background",viewBox:"0 0 28 10",width:"26",height:"10",x:"1",y:"9.5",children:v("path",{d:"M2.13388 0C1.72465 0 1.35333 0.248229 1.22109 0.635509C0.753639 2.00455 0.5 3.47265 0.5 5C0.5 6.52735 0.753639 7.99545 1.22109 9.36449C1.35333 9.75177 1.72465 10 2.13389 10H25.8661C26.2753 10 26.6467 9.75177 26.7789 9.36449C27.2464 7.99545 27.5 6.52735 27.5 5C27.5 3.47265 27.2464 2.00455 26.7789 0.635509C26.6467 0.248229 26.2753 0 25.8661 0H2.13388Z",fill:"#333333",fillOpacity:"0.6"})})]})},VO=function(){return E(Z,{children:[v("symbol",{id:"rna-base",viewBox:"-16 0 65 65",width:"65",height:"95",children:v("rect",{width:"22.5",height:"22.5","data-actual-width":"31.82","data-actual-height":"31.82",rx:"1",x:"-11.25",y:"-11.25",transform:"rotate(45)",className:"monomer-body"})}),v("symbol",{id:"rna-base-selection",viewBox:"-15.75 -0.25 65 65",width:"65",height:"95",children:v("rect",{width:"21",height:"21",rx:"1",x:"-10.5",y:"-10.5",transform:"rotate(45)",stroke:"#0097A8",strokeWidth:"1.5",fill:"none"})}),v("symbol",{id:"rna-base-variant",viewBox:"-16 0 65 65",width:"65",height:"94",children:v("rect",{width:"21.5",height:"21.5","data-actual-width":"30","data-actual-height":"30",stroke:"#585858",strokeWidth:"0.5",rx:"1",x:"-10.25",y:"-10.25",transform:"rotate(45)",className:"monomer-body"})}),v("symbol",{id:"rna-base-modified-background",viewBox:"0 0 32 10",width:"30",height:"9",x:"0.8",y:"10.8",children:v("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30156 10C6.03634 10 5.78199 9.89464 5.59445 9.70711L1.1508 5.26346C0.760279 4.87293 0.760279 4.23977 1.1508 3.84924L4.70715 0.292893C4.89469 0.105357 5.14904 0 5.41426 0H26.5858C26.851 0 27.1054 0.105357 27.2929 0.292893L30.8493 3.84924C31.2398 4.23977 31.2398 4.87293 30.8493 5.26346L26.4056 9.70711C26.2181 9.89464 25.9637 10 25.6985 10H6.30156Z",fill:"#333333",fillOpacity:"0.6"})})]})},KO=function(){return E(Z,{children:[E("symbol",{id:"unresolved-monomer",viewBox:"0 0 59 59",width:"59",height:"59",children:[v("rect",{className:"monomer-body",width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",stroke:"#333333"}),v("rect",{width:"29.5",height:"29.5","data-actual-width":"29.5","data-actual-height":"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"#585858"})]}),v("symbol",{id:"unresolved-monomer-hover",children:v("rect",{width:"29.5",height:"29.5",x:"0.5",y:"0.5",rx:"1.5",fill:"none",stroke:"#0097A8",strokeWidth:"1.5"})})]})},YO=function(){return E(Z,{children:[v("symbol",{id:"nucleotide",viewBox:"0 0 84 84",width:"42",height:"42",children:v("path",{className:"monomer-body","data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)"})}),v("symbol",{id:"nucleotide-hover",viewBox:"0 0 84 84",width:"42",height:"42",children:v("path",{"data-actual-width":"42","data-actual-height":"42",d:"M43.0152 71.4019C42.3887 71.771 41.6113 71.771 40.9848 71.4019L9.25584 52.7093C8.50744 52.2684 8.1292 51.3948 8.31974 50.5473L16.6358 13.5613C16.841 12.6485 17.6516 12 18.5871 12L65.4129 12C66.3484 12 67.159 12.6485 67.3642 13.5613L75.6803 50.5473C75.8708 51.3948 75.4926 52.2684 74.7442 52.7093L43.0152 71.4019Z",transform:"rotate(180, 42, 42)",fill:"none",stroke:"#0097A8",strokeWidth:"3"})})]})},ZO=function(){return E(Z,{children:[v("path",{strokeLinecap:"round",d:"M5,0 0,2.5 5,5z",id:"arrow-marker-content"}),v("marker",{id:"arrow-marker",markerHeight:"3",markerWidth:"5",orient:"auto",refX:"2.5",refY:"1.5",children:v("use",{href:"#arrow-marker-content",transform:"rotate(180 2.5 1.5) scale(1,0.6)",strokeWidth:"1.2500",fill:"black",stroke:"none"})}),v("marker",{id:"arrow-marker-arc",markerWidth:"5",markerHeight:"5",viewBox:"0 0 5 5",refX:"5",refY:"2.5",orient:"auto",children:v("use",{href:"#arrow-marker-content",transform:"rotate(180, 2.5, 2.5)",fill:"#365CFF",stroke:"none"})})]})},QO=function(){return v(Z,{children:v("symbol",{id:"sequence-start-arrow",viewBox:"0 0 65 65",width:"65",height:"95",children:v("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v("path",{d:"M10.2802 5.09664C10.9756 5.49813 10.9756 6.50187 10.2802 6.90336L2.56467 11.3579C1.86926 11.7594 1 11.2576 1 10.4546V1.54541C1 0.742426 1.86926 0.240558 2.56467 0.642053L10.2802 5.09664Z",stroke:"#7C7C7F"})})})})},XO=M("div",{target:"e1phidy70"})({name:"1fayh9l",styles:"padding:12px;font-size:12px;color:#000"}),JO=function(){var e=ne(),r=T(nP),n=T(aP)||"Error message",a=r!=="",o=function(){e(XI())};return E(J,{isOpen:a,title:n,onClose:o,children:[v(J.Content,{children:v(XO,{children:r})}),v(J.Footer,{children:v(Le,{label:"Close",clickHandler:o})})]})},e3=M("div",{target:"embh3ih3"})(function(){return{height:"100%"}},""),t3=M("div",{target:"embh3ih2"})(function(){return{display:"flex",alignItems:"center"}},""),r3=M("div",{target:"embh3ih1"})(function(){return{background:"","&.toggler-component-wrapper--disabled":{opacity:.4,pointerEvents:"none",cursor:"default"}}},""),n3=M("svg",{target:"embh3ih0"})(function(){return{"&.handCursor":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgICAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICAgICB3aWR0aD0iMjQiCiAgICAgICAgaGVpZ2h0PSIyNCIKICAgICAgICBmaWxsPSJub25lIgogICAgICAgIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjMDAwIgogICAgICAgICAgICBkPSJNMjAuNDM0IDcuNjczYy0uMS0uNi0uNzEzLTEuNzMxLTIuMzItMS43MzEtLjEyNiAwLS4yNTIuMDA3LS4zNzcuMDIzdi0uNzlhMS4wMSAxLjAxIDAgMCAwLS4wNDUtLjNjLS4xNzctLjU2NC0uODc2LTEuNjMxLTIuMjYyLTEuNjMxYTIuNTk5IDIuNTk5IDAgMCAwLS42NzYuMDg2IDIuMzk0IDIuMzk0IDAgMCAwLS4xNDYtLjIzYy0uNDUzLS42NDUtMS4xODYtMS0yLjA2My0xLS44NzcgMC0xLjU4NC4zNi0yLjAyNSAxLjAxN2EyLjQ2MSAyLjQ2MSAwIDAgMC0uMzYxLjg1IDIuNjYzIDIuNjYzIDAgMCAwLS40MDgtLjAzYy0xLjQ3NCAwLTIuMTI0IDEuMTUtMi4yNjIgMS43NTdhMS4wMzQgMS4wMzQgMCAwIDAtLjAyNC4yMjJWMTEuMWwtLjEzLS4xYy0uNTg4LS41LTIuMDM0LTEuMTIxLTMuMzkxLjAyOS0xLjM1NyAxLjE1LTEuMDE1IDIuNjY0LS40MzEgMy40NTIuNDUzLjc3MyA0LjUxMiA3LjQyNSAxMC4yMjMgNy40MjUgMy4yNSAwIDQuOTEtMS41MTIgNS43MjktMi43ODFhNi4yOTEgNi4yOTEgMCAwIDAgLjk4LTIuOFY3LjgzOGMuMDAxLS4wNTYtLjAwMy0uMTEtLjAxMS0uMTY1WiIKICAgIC8+CiAgICA8cGF0aAogICAgICAgICAgICBmaWxsPSIjZmZmIgogICAgICAgICAgICBzdHJva2U9IiNmZmYiCiAgICAgICAgICAgIGQ9Ik0xOC40NDggMTYuMjE1YTQuNDc0IDQuNDc0IDAgMCAxLS43IDEuODg3Yy0uODA1IDEuMi0yLjE1MyAxLjgtNC4wMDggMS44LTQuNzY4IDAtOC40ODQtNi40MTItOC41Mi02LjQ3NmEuNjY5LjY2OSAwIDAgMC0uMDktLjEyNmMtLjI5NC0uNDA4IDAtLjY1NS4xMDctLjc0OC4yNjctLjIyNy41NC0uMjM3LjgxLS4wMzFsMS43NyAxLjQ1MmExIDEgMCAwIDAgMS42NDQtLjc2M1Y2LjA4YS4yODcuMjg3IDAgMCAxIC4yOS0uMTQ4LjQ0LjQ0IDAgMCAxIC4zNzIuMTZ2NC43YTEgMSAwIDEgMCAyIDB2LTYuNDVjLjA2OC0uMjQ4LjMtLjI0OC40MjItLjI0OC4yIDAgLjQxNC4wMzIuNDgyLjI1NXY2LjQ0YTEgMSAwIDEgMCAyIDB2LTUuMmEuNzUuNzUgMCAwIDEgLjA3NC0uMTljLjA0OS0uMDgxLjEwOC0uMTUuMzI1LS4xNWEuMzUuMzUgMCAwIDEgLjMwNy4xNXY1LjM5YTEgMSAwIDEgMCAyIDBWOC4wNDdhLjU4My41ODMgMCAwIDEgLjM3Ny0uMWMuMDY1IDAgLjI1OC4wMDYuMzM0LjA3OGwuMDA0IDguMTlaIgogICAgLz4KPC9zdmc+Cg=='),
      auto
    `},"&.handCursorGrabbing":{cursor:`
      url('data:image/svg+xml;base64,PHN2ZwogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICAgd2lkdGg9IjI0IgogICAgaGVpZ2h0PSIyNCIKICAgIGZpbGw9Im5vbmUiCiAgICB2aWV3Qm94PSIwIDAgMzAgMzAiCiAgPgogICAgPHBhdGgKICAgICAgZmlsbD0iI2ZmZiIKICAgICAgZD0iTTEwLjc0NCAzQzguODkgMyA3LjM4NCA0LjUyNSA3LjM4NCA2LjR2LjIyaC0uMDEyYy0xLjk5NyAwLTMuNjIyIDEuNjAyLTMuNjIyIDMuNTY4bC4wMDEgNy4wMmMwIDEuNzcgMS41MTIgMy41MTUgMy4xMTIgNS4zNjEuNzIuODMgMS45MTkgMi4yMTYgMi4wMzQgMi43MzF2MS41MjJoMTMuNDQydi0xLjU1NGMwLS41OS42MTgtMS43NyAxLjE2My0yLjgxLjkzOC0xLjc4OSAxLjk5OC0zLjgxNSAxLjk5OC01Ljk5MSAwLTMuMjU4LS4wMS02LjI0OC0uMDEtNi4yNDggMC0xLjY5Ni0xLjM5LTMuMDgtMy4xLTMuMDgtLjIwMyAwLS40LjAyLS41OTIuMDU3YTMuNjUgMy42NSAwIDAgMC0zLjAzMy0xLjYwN2MtLjM2NyAwLS43Mi4wNTMtMS4wNTUuMTUzYTMuNjM2IDMuNjM2IDAgMCAwLTMuMDktMS43MDVjLS40NDQgMC0uODcuMDgtMS4yNjQuMjI1QTMuMzQ1IDMuMzQ1IDAgMCAwIDEwLjc0NCAzWiIKICAgIC8+CiAgICA8cGF0aAogICAgICBmaWxsPSIjMDAwIgogICAgICBkPSJNMTAuNzQ0IDQuNTU0YzEgMCAxLjgwOC44MjYgMS44MDggMS44NDV2MS4xOTdjMC0xLjEwOS45MjctMi4wMDggMi4wNjgtMi4wMDggMS4xNDMgMCAyLjA2OC45IDIuMDY4IDIuMDA4djEuNTUyYzAtMS4xMS45My0yLjAwOCAyLjA3Ny0yLjAwOCAxLjE0NyAwIDIuMDc2Ljg5OSAyLjA3NiAyLjAwOHYxLjA2OEExLjU0IDEuNTQgMCAwIDEgMjIuMzkgOC42OWMuODU2IDAgMS41NDguNjg0IDEuNTQ4IDEuNTMgMCAwIC4wMSAyLjk4OC4wMSA2LjI0NCAwIDMuMjU3LTMuMTYxIDYuNjM2LTMuMTYxIDguODAySDEwLjQ1YzAtMS45NC01LjE0Ni01Ljc3My01LjE0Ni04LjA2MXYtNy4wMmMwLTEuMTEyLjkyNi0yLjAxNCAyLjA3LTIuMDE1djQuMDUxYzAgLjM0Mi4zNS42Mi43ODEuNjIuNDMyIDAgLjc4Mi0uMjc4Ljc4Mi0uNjJWNi40YzAtMS4wMi44MDktMS44NDUgMS44MDctMS44NDVabTAtMS41NTRDOC44OSAzIDcuMzg0IDQuNTI1IDcuMzg0IDYuNHYuMjJoLS4wMTJjLTEuOTk3IDAtMy42MjIgMS42MDItMy42MjIgMy41NjhsLjAwMSA3LjAyYzAgMS43NyAxLjUxMiAzLjUxNSAzLjExMiA1LjM2MS43Mi44MyAxLjkxOSAyLjIxNiAyLjAzNCAyLjczMXYxLjUyMmgxMy40NDJ2LTEuNTU0YzAtLjU5LjYxOC0xLjc3IDEuMTYzLTIuODEuOTM4LTEuNzg5IDEuOTk4LTMuODE1IDEuOTk4LTUuOTkxIDAtMy4yNTgtLjAxLTYuMjQ4LS4wMS02LjI0OCAwLTEuNjk2LTEuMzktMy4wOC0zLjEtMy4wOC0uMjAzIDAtLjQuMDItLjU5Mi4wNTdhMy42NSAzLjY1IDAgMCAwLTMuMDMzLTEuNjA3Yy0uMzY3IDAtLjcyLjA1My0xLjA1NS4xNTNhMy42MzYgMy42MzYgMCAwIDAtMy4wOS0xLjcwNWMtLjQ0NCAwLS44Ny4wOC0xLjI2NC4yMjVBMy4zNDUgMy4zNDUgMCAwIDAgMTAuNzQ0IDNaIgogICAgLz4KICA8L3N2Zz4='),
      auto
    `}}},"");function a3(){var t=Fp.getKetcher(),e=S.useState(!1),r=L(e,2),n=r[0],a=r[1],o=S.useCallback(function(){return a(!0)},[a]),i=S.useCallback(function(){return a(!1)},[a]);return S.useEffect(function(){return t.eventBus.addListener(tr.LOADING,o),t.eventBus.addListener(tr.SUCCESS,i),t.eventBus.addListener(tr.FAILURE,i),function(){t.eventBus.removeListener(tr.LOADING,o),t.eventBus.removeListener(tr.SUCCESS,i),t.eventBus.removeListener(tr.FAILURE,i)}},[t.eventBus,i,o]),n}function Pp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=i3(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return i=l.done,l},e:function(l){s=!0,o=l},f:function(){try{i||r.return==null||r.return()}finally{if(s)throw o}}}}function i3(t,e){if(t){if(typeof t=="string")return kp(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kp(t,e):void 0}}function kp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function s3(){var t=ne(),e=T(oe);S.useEffect(function(){if(e){var r=e.monomersLibrary,n=e.defaultRnaPresetsLibraryItems,a=ce(Hh(r,n,!0)),o=br(),i=[],s=a.map(function(h){return h.name});if(o){var u=o3(o),l;try{for(u.s();!(l=u.n()).done;){for(var c=l.value,d=0,f=c.name;s.includes(f);)d++,f="".concat(c.name).concat("_Copy".repeat(d));f!==c.name&&s0(Ep(Ep({},c),{},{name:f}))}}catch(h){u.e(h)}finally{u.f()}o=br(),i=Hh(r,o)}return t(Bu(r)),t(GI(null)),t(CP(a)),o&&t(MP(i)),t(IP()),function(){t(Bu([])),t(PP())}}},[e])}var u3=M("div",{target:"ex562360"})({name:"1vtgpt7",styles:"position:absolute;top:0;left:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center"}),l3=function(){return v(u3,{children:v(ka,{})})},c3=function(e){e.requestFullscreen&&e.requestFullscreen()||e.msRequestFullscreen&&e.msRequestFullscreen()||e.mozRequestFullScreen&&e.mozRequestFullScreen()||e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},d3=function(){document.exitFullscreen&&document.exitFullscreen()||document.msExitFullscreen&&document.msExitFullscreen()||document.mozCancelFullScreen&&document.mozCancelFullScreen()||document.webkitExitFullscreen&&document.webkitExitFullscreen()},f3=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},v3=M("div",{target:"e1yct69a0"})({name:"14ocoqf",styles:"display:flex;& svg:first-of-type{display:flex;justify-content:center;align-items:center;width:24px;height:24px;padding:2px;border-radius:4px;}"}),h3=function(e){var r=S.useState(f3()),n=L(r,2),a=n[0],o=n[1],i=function(){var u=document.querySelector(Yt)||document.documentElement;a?d3():c3(u),o(!a)};return v(v3,{className:e.className,children:v(na,{onClick:i,iconName:a?"fullscreen-exit":"fullscreen-enter",testId:"fullscreen-mode-button"})})},J0=function(){return kt.useContext(sc)},p3=M(na,{target:"e1erwxoo0"})({name:"1y95nj0",styles:"margin:2px;outline:none"});function fc(){var t;(t=document.activeElement)===null||t===void 0||t.blur()}var m3=M(aa,{target:"e1ann9o40"})({name:"2gmlyg",styles:"display:flex;justify-content:space-between;font-weight:400;font-size:12px;line-height:14px;padding:7px 8px;text-transform:none;color:#333333;width:max-content"}),Yu=function(e){var r=e.itemId,n=e.title,a=n===void 0?"":n,o=e.disabled,i=e.testId,s=e.onClick,u=e.type,l=u===void 0?"icon-button":u,c=J0(),d=c.isActive,f=c.activate,h=S.useCallback(function(){f(r),fc(),s&&s()},[f,r]),p=d(r),m=p?" active":"";return v(Z,{children:l==="icon-button"?v(p3,{title:a,className:r+m,isActive:p,onClick:h,iconName:r,testId:i,disabled:o}):v(m3,{title:a,onClick:h,disabled:o,"data-testid":i,children:a})})},g3=M(de,{shouldForwardProp:function(e){return e!=="isActive"},target:"e13kdqxv4"})("position:absolute;height:7px;width:7px;right:3px;bottom:3px;cursor:pointer;path{fill:",function(t){var e=t.isActive;return e?"white":void 0},";}"),y3=M("div",{target:"e13kdqxv3"})({name:"k5saax",styles:"display:flex;position:relative;align-items:center;&:active{.dropdown{fill:white;}}"}),b3=M("div",{target:"e13kdqxv2"})("display:flex;position:absolute;left:",function(t){var e=t.isVertical;return e?"-34px":"5px"},";top:",function(t){var e=t.isVertical,r=t.islayoutModeButton;return e&&r?"24px":e?"38px":"0px"},";border-radius:4px;flex-direction:",function(t){var e=t.isVertical;return e?"column":"row"},";z-index:1;background-color:white;padding:2px;"),x3=M(ky,{target:"e13kdqxv1"})({name:"bjn8wh",styles:"position:relative"}),w3=M("div",{target:"e13kdqxv0"})({name:"a1qh1t",styles:"display:flex;align-items:center;position:relative;width:32px;height:32px;padding:0;justify-content:center;border-radius:2px"}),C3=function(e){var r=e.children,n=e.vertical,a=n===void 0?!1:n,o=e.disabled,i=o===void 0?!1:o,s=e.needOpenByMenuItemClick,u=s===void 0?!1:s,l=e.testId,c=e.layoutModeButton,d=c===void 0?!1:c,f=e.generalTitle,h=e.activeItem,p=S.useState(!1),m=L(p,2),y=m[0],g=m[1],b=J0(),w=b.isActive,x=function(){i||g(function(D){return!D})},C=function(){y&&g(!1)},A=kt.Children.map(r,function(N){return N.type===Yu?N:null}),I=A.map(function(N){return N.props.itemId}).filter(function(N){return N}),k=I.filter(function(N){return w(N)}),O=h??(k.length?k[0]:I[0]),_=A.find(function(N){return N.props.itemId===O}),P=_?.props.testId,R=f??_?.props.title;return E(y3,{"data-testid":l,children:[E(w3,{children:[v(Yu,{disabled:i,itemId:O,title:R,testId:P,onClick:u?x:St}),y||v(g3,{className:"dropdown",name:"dropdown",onClick:x,isActive:w(O),dataTestId:"dropdown-expand"})]}),v(x3,{in:y,timeout:"auto",unmountOnExit:!0,onClick:C,children:v(rm,{onClickAway:C,children:v(b3,{isVertical:a,islayoutModeButton:d,"data-testId":"multi-tool-dropdown",children:A.map(function(N){return N})})})})]})},M3=M("div",{target:"e1fh0ozy3"})(function(t){var e=t.theme,r=t.isHorizontal;return{backgroundColor:e.ketcher.color.background.primary,borderRadius:"4px",display:"flex",flexDirection:r?"row":"column"}},""),S3=M("hr",{target:"e1fh0ozy2"})("width:18px;margin:6px 0;align-self:center;border-width:thin 0px 0px 0px;border-style:solid;border-color:",function(t){var e=t.theme;return e.ketcher.color.divider},";"),e1=M("hr",{target:"e1fh0ozy1"})("height:18px;margin:0px 6px;align-self:center;border-width:0px thin 0px 0px;border-style:solid;border-color:",function(t){var e=t.theme;return e.ketcher.color.divider},";"),A3=M("div",{target:"e1fh0ozy0"})(function(t){var e=t.theme,r=t.isHorizontal;return{display:"flex",flexDirection:r?"row":"column",flexWrap:"nowrap",alignItems:"center",backgroundColor:e.ketcher.color.background.primary,borderRadius:"2px",width:r?void 0:"32px",marginBottom:r?void 0:"8px","> :last-child":r?void 0:{marginBottom:0}}},""),t1=function(e){var r=e.children,n=e.divider,a=n===void 0?!1:n,o=e.isHorizontal,i=kt.Children.map(r,function(s){return s});return E(Z,{children:[v(A3,{isHorizontal:o,children:i.map(function(s){return s})}),a&&(o?v(e1,{}):v(S3,{}))]})},Y=function(e){var r=e.children,n=e.onItemClick,a=e.activeMenuItems,o=e.testId,i=e.isHorizontal,s=kt.useMemo(function(){return{isActive:function(c){return a?a.includes(c):!1},activate:function(c){n(c)}}},[a,n]),u=kt.Children.map(r,function(l){return l.type===t1?l:null});return v(sc.Provider,{value:s,children:v(M3,{"data-testid":o,isHorizontal:i,children:u.map(function(l){return l})})})};Y.Group=t1;Y.Item=Yu;Y.Submenu=C3;var I3=function(){var e=T(oe),r=Er(),n=S.useState(r),a=L(n,2),o=a[0],i=a[1],s=T(it),u={isActive:function(c){return o===c},activate:function(c){c!==o&&(i(c),e.events.selectMode.dispatch(c),e.events.layoutModeChange.dispatch(c))}};return S.useEffect(function(){i(r)},[r]),v(sc.Provider,{value:u,children:E(Y.Submenu,{disabled:s,testId:"layout-mode",vertical:!0,needOpenByMenuItemClick:!0,layoutModeButton:!0,children:[v(Y.Item,{itemId:"sequence-layout-mode",testId:"sequence-layout-mode",title:"Switch to sequence layout mode"}),v(Y.Item,{itemId:"snake-layout-mode",testId:"snake-layout-mode",title:"Switch to snake layout mode"}),v(Y.Item,{itemId:"flex-layout-mode",testId:"flex-layout-mode",title:"Switch to flex layout mode"})]})})};function P3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=E3(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return i=l.done,l},e:function(l){s=!0,o=l},f:function(){try{i||r.return==null||r.return()}finally{if(s)throw o}}}}function E3(t,e){if(t){if(typeof t=="string")return Op(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Op(t,e):void 0}}function Op(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var k3=function(e){var r=[],n=P3(e),a;try{for(n.s();!(a=n.n()).done;){var o=a.value,i=o.node,s=o.nodeIndexOverall,u=o.isNucleosideConnectedAndSelectedWithPhosphate,l=o.hasR1Connection,c=o.twoStrandedNode,d=!!c?.antisenseNode;if(i instanceof Kr){var f,h,p;r.push({type:lt.Nucleotide,baseLabel:i==null||(f=i.rnaBase)===null||f===void 0?void 0:f.label,sugarLabel:i==null||(h=i.sugar)===null||h===void 0?void 0:h.label,phosphateLabel:i==null||(p=i.phosphate)===null||p===void 0?void 0:p.label,rnaBaseMonomerItem:i.rnaBase instanceof tt?i.rnaBase.variantMonomerItem:i.rnaBase.monomerItem,hasR1Connection:l,nodeIndexOverall:s,hasAntisense:d})}else if(i instanceof Yr){var m,y;r.push({type:lt.Nucleoside,baseLabel:i==null||(m=i.rnaBase)===null||m===void 0?void 0:m.label,sugarLabel:i==null||(y=i.sugar)===null||y===void 0?void 0:y.label,rnaBaseMonomerItem:i.rnaBase instanceof tt?i.rnaBase.variantMonomerItem:i.rnaBase.monomerItem,isNucleosideConnectedAndSelectedWithPhosphate:u,hasR1Connection:l,nodeIndexOverall:s,hasAntisense:d})}else if(i?.monomer instanceof Kp){var g;r.push({type:lt.Phosphate,phosphateLabel:i==null||(g=i.monomer)===null||g===void 0?void 0:g.label,nodeIndexOverall:s,hasAntisense:d})}}}catch(b){n.e(b)}finally{n.f()}return r};function O3(t){var e=t.node;return e instanceof Kr||e instanceof Yr||e?.monomer instanceof Kp}var _3=function(e){for(var r="",n=e.length===1?e[0]:ge.merge.apply(void 0,[{}].concat(ce(e))),a=0,o=["sugarLabel","baseLabel","phosphateLabel"];a<o.length;a++){var i=o[a],s=ge.get(n,i,"");i==="baseLabel"?r+="(".concat(s,")"):r+=s}return r},T3=function(e){if(e!=null&&e.length){for(var r=ge.flatten(e),n=r.length,a=Jn(r),o,i=!1,s=!0,u=!1,l=!0,c=k3(r),d=0;d<c.length;d++){var f=c[d],h=c[d-1],p=f.type===lt.Nucleotide||f.type===lt.Nucleoside,m=h?.isNucleosideConnectedAndSelectedWithPhosphate;p&&(i=!0),p||m?f.hasR1Connection&&(l=!1):(l=!1,s=!1),f.hasAntisense&&(u=!0)}return n>a&&(r.every(O3)||(s=!1)),n===1||a===1&&s?o=_3(c):o=s?"".concat(a," nucleotides"):"".concat(n," elements"),{title:o,selectedSequenceLabeledNodes:c,isSelectedOnlyNucleoelements:s,isSelectedAtLeastOneNucleoelement:i,isSequenceFirstsOnlyNucleoelementsSelected:l,hasAntisense:u}}};function N3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.every(function(e){return e.every(function(r){return zp(r.twoStrandedNode)})})}function _p(t){return t?.monomers.some(function(e){return e.hydrogenBonds.length!==0})}var R3=function(e){return e.map(function(r){return r.monomerItem.props.MonomerNaturalAnalogCode}).sort().join("")},Tp=function(e){var r=e.monomerItem,n=r.props.MonomerNaturalAnalogCode==="A"||r.props.MonomerNaturalAnalogCode==="C"||r.props.MonomerNaturalAnalogCode==="G"||r.props.MonomerNaturalAnalogCode==="T"||r.props.MonomerNaturalAnalogCode==="U";if(n)return!0;if(!e.monomerItem.isAmbiguous||e.subtype===O1.MIXTURE)return!1;var a="ACGT",o="ACGU",i="CGT",s="CGU",u="AGT",l="AGU",c="ACT",d="ACU",f="GT",h="GU",p="AT",m="AU",y="CT",g="CU",b="AC",w="AG",x="CG",C="ACG",A=[a,o,i,s,u,l,c,d,f,h,p,m,y,g,b,w,x,C],I=R3(e.monomers);return A.some(function(k){return k===I})},At=function(e){return e?.some(function(r){var n=r instanceof un&&$p(r);return r instanceof Hp&&(r.hydrogenBonds.length>0||r.covalentBonds.length>1)||x1(r)&&!Tp(r)||n&&(n.hydrogenBonds.length>0||!Tp(n))})},D3=function(e){return e?.every(function(r){return r instanceof un?r.label===Qp.SUGAR_DNA:!0})},L3=function(e){return e?.every(function(r){return r instanceof un?r.label===Qp.SUGAR_RNA:!0})},Gt=function(e){return e?.some(function(r){return r instanceof Hp&&w1(r)||r instanceof un&&$p(r)})},le;(function(t){t.title="sequence_menu_title",t.createRnaAntisenseStrand="create_antisense_rna_chain",t.createDnaAntisenseStrand="create_antisense_dna_chain",t.modifyInRnaBuilder="modify_in_rna_builder",t.establishHydrogenBond="establish_hydrogen_bond",t.deleteHydrogenBond="delete_hydrogen_bond",t.editSequence="edit_sequence",t.startNewSequence="start_new_sequence",t.copy="copy",t.paste="paste",t.delete="delete"})(le||(le={}));var j3=function(e){var r,n=e.selections,a=T(oe),o=ne(),i=T3(n),s=(n==null||(r=n.flat())===null||r===void 0?void 0:r.flatMap(function(h){return h.node.monomers}))||[],u=T(it),l=Er()===fr.sequence,c=[{name:le.title,title:i?.title,isMenuTitle:!0,disabled:!0,hidden:function(p){var m=p.props;return!(m!=null&&m.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:le.copy,title:"Copy",disabled:s?.length===0},{name:le.paste,title:"Paste",disabled:!1,separator:!0},{name:le.createRnaAntisenseStrand,title:"Create RNA antisense strand",disabled:At(s),hidden:function(){return!s||!Gt(s)}},{name:le.createDnaAntisenseStrand,title:"Create DNA antisense strand",disabled:At(s),hidden:function(){return!s||!Gt(s)}},{name:le.modifyInRnaBuilder,title:"Modify in RNA Builder...",disabled:!(i!=null&&i.isSelectedOnlyNucleoelements)||i.hasAntisense,hidden:function(p){var m=p.props;return!(m!=null&&m.sequenceItemRenderer)||!(i!=null&&i.isSelectedAtLeastOneNucleoelement)}},{name:le.editSequence,title:"Edit sequence",disabled:!1,hidden:function(p){var m=p.props;return!(m!=null&&m.sequenceItemRenderer)}},{name:le.startNewSequence,title:"Start new sequence",disabled:!1},{name:le.establishHydrogenBond,title:"Establish Hydrogen Bonds",disabled:function(p){var m,y=p.props;return n?.length===0?zp(y==null||(m=y.sequenceItemRenderer)===null||m===void 0?void 0:m.twoStrandedNode):N3(n)},hidden:function(p){var m=p.props;return!(m!=null&&m.sequenceItemRenderer)}},{name:le.deleteHydrogenBond,title:"Delete Hydrogen Bonds",separator:!0,disabled:function(p){var m,y=p.props;return n?.length===0?!_p(y==null||(m=y.sequenceItemRenderer)===null||m===void 0?void 0:m.node):!(n!=null&&n.some(function(g){return g.some(function(b){return _p(b.node)})}))},hidden:function(p){var m=p.props;return!(m!=null&&m.sequenceItemRenderer)}},{name:le.delete,title:"Delete",disabled:s?.length===0}],d=function(p){var m,y=p.id,g=p.props;switch(y){case le.modifyInRnaBuilder:a.events.turnOnSequenceEditInRNABuilderMode.dispatch(),o(an(rn.RNA)),o(vt(!0)),o(sn({})),o(Ut(null)),i!=null&&(m=i.selectedSequenceLabeledNodes)!==null&&m!==void 0&&m.length&&i!==null&&i!==void 0&&i.title&&(o(h0(i?.title)),o(nc(i?.selectedSequenceLabeledNodes)),o(bP(i?.isSequenceFirstsOnlyNucleoelementsSelected)));break;case le.startNewSequence:a.events.startNewSequence.dispatch(g.sequenceItemRenderer);break;case le.editSequence:a.events.editSequence.dispatch(g.sequenceItemRenderer);break;case le.createRnaAntisenseStrand:a.events.createAntisenseChain.dispatch(!1);break;case le.createDnaAntisenseStrand:a.events.createAntisenseChain.dispatch(!0);break;case le.establishHydrogenBond:a.events.establishHydrogenBond.dispatch(g.sequenceItemRenderer);break;case le.deleteHydrogenBond:{var b,w=E1.sequenceViewModel,x=w.chainsCollection.monomerToChain,C=new Map,A=n!=null&&n.length?n.reduce(function(k,O){return[].concat(ce(k),ce(O))},[]).map(function(k){return k.twoStrandedNode}):[(b=g.sequenceItemRenderer)===null||b===void 0?void 0:b.twoStrandedNode];A.forEach(function(k){if(k.antisenseChain&&k.antisenseNode&&!(k.antisenseNode instanceof k1||k.antisenseNode instanceof Bp)){C.has(k.antisenseChain)||C.set(k.antisenseChain,new Set);var O=C.get(k.antisenseChain);if(!O)return;O.add(k)}});var I=!1;C.forEach(function(k,O){var _=ce(k.values())[0],P=_.chain,R=new Set(ce(k.values()).map(function(D){return D.antisenseNode})),N=O.nodes.some(function(D){return!R.has(D)&&D.monomers.some(function(F){return F.hydrogenBonds.some(function(q){var z=q.getAnotherMonomer(F),$=z&&x.get(z);return $===P})})});N||(I=!0)}),I?a.events.openConfirmationDialog.dispatch({title:"Deletion of all Hydrogen Bonds",confirmationText:"Deleting all hydrogen bonds will cause the separation of two chains. Do you wish to proceed?",onConfirm:function(){a.events.deleteHydrogenBond.dispatch(g.sequenceItemRenderer)}}):a.events.deleteHydrogenBond.dispatch(g.sequenceItemRenderer);break}case"copy":a.events.copySelectedStructure.dispatch();break;case"paste":a.events.pasteFromClipboard.dispatch();break;case"delete":a.events.deleteSelectedStructure.dispatch();break}},f=document.querySelector(Yt);return f&&l&&!u?ia.createPortal(v(Ea,{id:et.FOR_SEQUENCE,handleMenuChange:d,menuItems:c}),f):null},q3=M("div",{target:"e1amohl43"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(t){return t.theme.ketcher.color.background.primary},";border:",function(t){return t.theme.ketcher.border.regular},";border-radius:",function(t){return t.theme.ketcher.border.radius.regular},";box-shadow:",function(t){return t.theme.ketcher.shadow.regular},";"),F3=M("p",{target:"e1amohl42"})("width:calc(100% - 16px);padding:8px;color:",function(t){return t.theme.ketcher.color.text.primary},";background-color:#cceaee;font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:left;margin:0;"),B3=M(um,{target:"e1amohl41"})({name:"156nqlv",styles:"height:100%;width:100%;padding:0 8px"}),z3=M("div",{target:"e1amohl40"})({name:"10sp49k",styles:"width:100%;display:flex;gap:8px;padding:0 8px 4px"}),Zu=function(e){var r=e.monomerCaps,n=e.attachmentPointsToBonds;return S.useMemo(function(){var a=[],o=[];return r?(Object.entries(r).forEach(function(i){var s=L(i,2),u=s[0],l=s[1],c=!!n?.[u];c&&o.push(u);var d={id:u,label:Y0(l),connected:c};a.push(d)}),{preparedAttachmentPointsData:a,connectedAttachmentPoints:o}):{preparedAttachmentPointsData:a,connectedAttachmentPoints:o}},[r,n])},$3=function(e){var r=e.idtAliases,n=e.attachmentPointsToBonds,a=e.monomerClass;return S.useMemo(function(){if(!r)return null;var o=r.base,i=r.modifications;if(n){if(!i)return o;var s=i.endpoint5,u=i.internal,l=i.endpoint3,c=n.R1,d=n.R2;if(a===ct.Phosphate&&c&&!(c instanceof j1)&&c.firstMonomer instanceof un)return null;if(c!==null&&d===null)return l??u;if(c===null&&d!==null)return s??u;if(c!==null&&d!==null){var f;return(f=u??s)!==null&&f!==void 0?f:l}else{var h;return(h=s??u)!==null&&h!==void 0?h:l}}if(!i)return o;var p=Object.values(i).every(function(y){return y.includes(o)});if(p)return o;var m={};return Object.values(i).forEach(function(y){var g=[y.charAt(0),y.slice(1)],b=g[0],w=g[1];m[w]=m[w]?[].concat(ce(m[w]),[b]):[b]}),Object.entries(m).map(function(y){var g=L(y,2),b=g[0],w=g[1];return"(".concat(w.join(", "),")").concat(b)}).join(", ")},[r,n,a])},H3=M("div",{target:"e112ss7f3"})({name:"1m2mukt",styles:"flex:1;display:flex;align-items:center;flex-wrap:wrap;gap:8px;font-size:12px;line-height:14px"}),U3=M("div",{target:"e112ss7f2"})("display:flex;align-items:center;gap:2px;border-radius:4px;background-color:",function(t){var e=t.connected;return e?"#E1E5EA":"transparent"},";padding:",function(t){var e=t.connected;return e?"4px":"0"},";color:",function(t){var e=t.connected;return e?"#8A8B8E":"inherit"},";"),G3=M("span",{target:"e112ss7f1"})({name:"f3vz0n",styles:"font-weight:500"}),W3=M("span",{target:"e112ss7f0"})({name:"16ceglb",styles:"font-weight:600"}),V3=S.memo(function(t){var e=t.preparedAttachmentPointsData;return e.length?v(H3,{children:e.map(function(r){var n=r.id,a=r.connected,o=r.label;return E(U3,{connected:a,children:[E(G3,{children:[n,!a&&":"]}),!a&&v(W3,{children:o})]},n)})}):null}),K3=M("span",{target:"e1v1msbx3"})("max-width:",function(t){var e=t.preset;return e?"100%":"50%"},";display:flex;align-items:center;font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:500;line-height:normal;color:",function(t){return t.theme.ketcher.color.text.lightgrey},";padding-left:",function(t){var e=t.preset;return e?"0":"8px"},";border-left:",function(t){var e=t.preset;return e?"none":"1px solid #D9DCEA"},";"),Y3=M("p",{target:"e1v1msbx2"})({name:"ti75j2",styles:"margin:0"}),Z3=M("span",{target:"e1v1msbx1"})({name:"1b7n4tc",styles:"color:#7c7c7c"}),Q3=M("span",{target:"e1v1msbx0"})({name:"dtvj5",styles:"color:#585858;text-wrap:wrap"}),r1=S.memo(function(t){var e=t.idtAliasesText,r=t.preset;return v(K3,{preset:r,children:E(Y3,{children:[v(Z3,{children:"IDT: "}),v(Q3,{children:e})]})})}),X3=function(e){var r,n=e.className,a=T(pn),o=a.monomer,i=a.attachmentPointsToBonds,s=o?.props.idtAliases,u=Zu({monomerCaps:o?.props.MonomerCaps,attachmentPointsToBonds:i}),l=u.preparedAttachmentPointsData,c=u.connectedAttachmentPoints,d=$3({idtAliases:s,attachmentPointsToBonds:i,monomerClass:o?.props.MonomerClass});if(!o)return null;var f=o.props.unresolved,h=f?o.label:(r=o.struct)===null||r===void 0?void 0:r.name;return(o.struct||f)&&E(q3,{className:n,"data-testid":"polymer-library-preview",children:[h&&v(F3,{children:h}),f?v(Z0,{}):v(B3,{struct:o.struct,options:{connectedMonomerAttachmentPoints:c,usageInMacromolecule:Dn.MonomerPreview,labelInPreview:!0,needCache:!1}}),E(z3,{children:[v(V3,{preparedAttachmentPointsData:l}),d&&v(r1,{idtAliasesText:d})]})]})},J3=M(X3,{target:"e86yc5p0"})("width:",Ln.width+"px",";height:",Ln.height+"px",";"),e_=M("div",{target:"ec5fs975"})("display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;background:",function(t){return t.theme.ketcher.color.background.primary},";border:",function(t){return t.theme.ketcher.border.regular},";border-radius:",function(t){return t.theme.ketcher.border.radius.regular},";box-shadow:",function(t){return t.theme.ketcher.shadow.regular},";"),t_=M("div",{target:"ec5fs974"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),r_=M("div",{target:"ec5fs973"})("font-size:",function(t){return t.theme.ketcher.font.size.regular},";line-height:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:600;padding-right:2px;"),n_=M("div",{target:"ec5fs972"})("color:",function(t){return t.theme.ketcher.color.text.lightgrey},";font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:400;white-space:nowrap;"),a_=M("p",{target:"ec5fs971"})("color:",function(t){return t.theme.ketcher.color.text.primary},";font-size:",function(t){return t.theme.ketcher.font.size.regular},";font-weight:700;word-break:break-all;text-align:center;margin-top:0;margin-bottom:8px;"),o_=M(de,{target:"ec5fs970"})("height:14px;width:14px;margin-right:4px;color:",function(t){var e=t.theme;return e.ketcher.color.icon.grey},";stroke:",function(t){var e=t.theme;return e.ketcher.color.icon.grey},";"),i_=function(e){var r=e.presetName,n=e.position,a=e.idtAliases;return S.useMemo(function(){if(!r||!a)return null;if(r.includes("MOE")){var o,i,s,u=a.base,l=a.modifications,c=(o=l?.endpoint5)!==null&&o!==void 0?o:"5".concat(u),d=(i=l?.internal)!==null&&i!==void 0?i:"i".concat(u),f=(s=l?.endpoint3)!==null&&s!==void 0?s:"3".concat(u);switch(n){case Qe.Library:return"".concat(c,", ").concat(d);case Qe.ChainStart:return c;case Qe.ChainMiddle:return d;case Qe.ChainEnd:return f}}return a.base},[r,n,a])},s_=["sugar","base","phosphate"],u_=function(e){var r=e.className,n=T(pn),a=n.monomers,o=n.name,i=n.position,s=n.idtAliases,u=L(a,2),l=u[1],c=o??l?.props.Name,d=i_({presetName:c,position:i,idtAliases:s});return E(e_,{className:r,style:{alignItems:"flex-start"},"data-testid":"polymer-library-preview",children:[v(a_,{children:c}),a.map(function(f,h){return f&&E(t_,{children:[v(o_,{name:s_[h]}),v(r_,{children:f.label}),E(n_,{children:["(",f.props.Name,")"]})]},h)}),d&&v(r1,{idtAliasesText:d,preset:!0})]})},l_=M(u_,{target:"e1wupxfd0"})(""),Np=M("div",{target:"envzkt90"})("display:flex;flex-direction:column;align-items:start;gap:8px;background:",function(t){return t.theme.ketcher.color.background.primary},";border:",function(t){return t.theme.ketcher.border.regular},";border-radius:",function(t){return t.theme.ketcher.border.radius.regular},";box-shadow:",function(t){return t.theme.ketcher.shadow.regular},";"),c_=M("div",{target:"e1m0yzrp2"})(function(t){var e=t.connected,r=t.inBond,n=t.theme;return{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",color:r||!e?n.ketcher.color.text.primary:"#B4B9D6"}},""),d_=M("p",{target:"e1m0yzrp1"})(function(t){var e=t.theme;return{margin:0,fontSize:e.ketcher.font.size.small,lineHeight:"12px"}},""),f_=M("p",{target:"e1m0yzrp0"})(function(t){var e=t.inBond,r=t.theme;return{margin:0,padding:"4px",fontWeight:r.ketcher.font.weight.bold,lineHeight:"14px",borderRadius:"4px",backgroundColor:e?"#CDF1FC":"transparent"}},""),Rp=function(e){var r=e.attachmentPoints,n=e.attachmentPointInBond;return v(Z,{children:r.map(function(a){return E(c_,{connected:a.connected,inBond:a.id===n,children:[v(d_,{children:a.id}),v(f_,{inBond:a.id===n,children:a.label})]},a.id)})})},v_=function(e){var r=e.className,n=T(pn),a=n.polymerBond,o=n.style,i=S.useMemo(function(){return o?M(Np,{target:"e18hk05c1"})("top:",o?.top||"",";left:",o?.left||"",";right:",o?.right||"",";"):M(Np,{target:"e18hk05c2"})("")},[o]),s=a.firstMonomer,u=a.secondMonomer,l=a.firstMonomerAttachmentPoint,c=a.secondMonomerAttachmentPoint,d=Zu({monomerCaps:s.monomerCaps,attachmentPointsToBonds:s.attachmentPointsToBonds}),f=d.preparedAttachmentPointsData,h=d.connectedAttachmentPoints,p=Zu({monomerCaps:u?.monomerCaps,attachmentPointsToBonds:u?.attachmentPointsToBonds}),m=p.preparedAttachmentPointsData,y=p.connectedAttachmentPoints;return!s||!u?null:v(i,{className:r,"data-testid":"polymer-library-preview",children:v(Q0,{firstMonomer:s,secondMonomer:u,firstMonomerOverview:v(Ku,{monomer:s,usage:Dn.BondPreview,connectedAttachmentPoints:h,selectedAttachmentPoint:l,attachmentPoints:v(Rp,{attachmentPoints:f,attachmentPointInBond:l})}),secondMonomerOverview:v(Ku,{monomer:u,usage:Dn.BondPreview,connectedAttachmentPoints:y,selectedAttachmentPoint:c,attachmentPoints:v(Rp,{attachmentPoints:m,attachmentPointInBond:c})})})})},h_=M(v_,{target:"e18hk05c0"})("width:",Ln.widthForBond,"px;height:",Ln.heightForBond,"px;");function Dp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function p_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var m_=M("div",{target:"e88xzqx0"})("display:inline-block;position:absolute;background:",function(t){var e=t.theme;return e.ketcher.color.background.primary},";z-index:",function(t){var e=t.theme;return e.ketcher.zIndex.overlay},";"),g_=function(){var e=T(pn),r=S.useRef(null),n=S.useState(!1),a=L(n,2),o=a[0],i=a[1];return S.useEffect(function(){if(!(!r.current||e.style))if(e&&e.type){var s,u,l;r.current.setAttribute("style",""),i(!0);var c=5,d=(s=r.current)===null||s===void 0?void 0:s.getBoundingClientRect(),f=d?.height||0,h=d?.width||0,p=(u=me.instance)===null||u===void 0||(u=u.canvasWrapper.node())===null||u===void 0?void 0:u.getBoundingClientRect(),m=p?.bottom||0,y=p?.left||0,g=p?.right||0,b=(l=e.target)===null||l===void 0?void 0:l.getBoundingClientRect(),w=b?.top||0,x=b?.bottom||0,C=b?.left||0,A=b?.width||0,I=C-A/2,k=w-f-c,O=x+c,_=C+A/2-h/2;if(w>f+c||x+f>m&&x>m/2?r.current.style.top="".concat(k,"px"):r.current.style.top="".concat(O,"px"),I>h/2&&I+h/2<g)r.current.style.left="".concat(_,"px");else if(I<h/2)r.current.style.left="".concat(y,"px");else{var P=10;r.current.style.left="".concat(g-h-P,"px")}}else o&&(i(!1),r.current.setAttribute("style",""))},[e]),e?E(m_,{ref:r,style:p_({},e?.style),children:[e.type===he.Monomer&&v(J3,{}),e.type===he.Preset&&v(l_,{}),e.type===he.Bond&&v(h_,{}),e.type===he.AmbiguousMonomer&&v(my,{preview:e})]}):null},hu=M(aa,{target:"e1brfei30"})(function(t){var e=t.theme,r=t.variant;return{color:r==="outlined"?e.ketcher.color.text.primary:e.ketcher.color.button.text.primary,boxShadow:"none",transition:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"4px 8px",border:r==="outlined"?e.ketcher.outline.small:"none",background:r==="outlined"?e.ketcher.color.background.primary:e.ketcher.color.button.group.active,borderRadius:e.ketcher.border.radius.regular,textTransform:"none",fontSize:e.ketcher.font.size.regular,fontWeight:e.ketcher.font.weight.regular,":hover":{color:r==="outlined"?e.ketcher.color.text.dark:e.ketcher.color.button.text.primary,background:r==="outlined"?e.ketcher.color.background.primary:e.ketcher.color.button.group.hover,boxShadow:"none"},":disabled":{cursor:"auto",background:"#e1e5ea",outline:"none"}}},""),y_=function(){var e=T(oe),r=S.useState(e?.events.changeSequenceTypeEnterMode),n=L(r,2),a=n[0],o=n[1],i=S.useState(!1),s=L(i,2),u=s[0],l=s[1],c=T(it),d=Er(),f=!!c,h=ne(),p=function(g){var b=S1(g)==="object"?g.mode:g;l(b==="sequence-layout-mode")};S.useEffect(function(){return e?.events.selectMode.add(p),e?.events.changeSequenceTypeEnterMode.add(function(y){h(an(y===Vr.PEPTIDE?rn.PEPTIDES:rn.RNA)),o(y)}),e?.events.changeSequenceTypeEnterMode.dispatch(Ye.RNA),function(){e?.events.selectMode.remove(p)}},[e]),S.useEffect(function(){p(d)},[d]);var m=function(g){e.events.changeSequenceTypeEnterMode.dispatch(g)};return u?v(Z,{children:v(lm,{sx:{mr:1,ml:1},children:E(Ky,{disabled:f,children:[v(hu,{"data-testid":"".concat(Ye.RNA,"Btn"),title:"RNA (Ctrl+Alt+R)",variant:a===Ye.RNA?"contained":"outlined",onClick:function(){return m(Ye.RNA)},children:"RNA"}),v(hu,{"data-testid":"".concat(Ye.DNA,"Btn"),title:"DNA (Ctrl+Alt+D)",variant:a===Ye.DNA?"contained":"outlined",onClick:function(){return m(Ye.DNA)},children:"DNA"}),v(hu,{"data-testid":"".concat(Ye.PEPTIDE,"Btn"),title:"Peptides (Ctrl+Alt+P)",variant:a===Ye.PEPTIDE?"contained":"outlined",onClick:function(){return m(Ye.PEPTIDE)},children:"PEP"})]})})}):null},n1=function(){var e=ne(),r=T(oe),n=T(Zl),a=T(Ql),o=T(Xl),i=T(Jl);return function(){var s=ta(ke.mark(function u(l){var c,d,f,h,p,m,y,g,b,w,x;return ke.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(!r||l)){A.next=2;break}return A.abrupt("return");case 2:if(d=el.getIndigo(),f=r.drawingEntitiesManager.filterSelection(),h=new Rn,p=f.hasDrawingEntities?f:r.drawingEntitiesManager,m=I1.fromMonomers(ce(p.monomers.values())),y=(c=m.firstNode)===null||c===void 0?void 0:c.monomer,g=!y||m.chains.reduce(function(I,k){return I+k.monomers.length},0)<=P1(y).length,!(!p.hasDrawingEntities||!g)){A.next=12;break}return e(au(void 0)),A.abrupt("return");case 12:return b=h.serialize(new A1,p,void 0,!1),A.next=15,d.calculateMacromoleculeProperties({struct:b},{upc:o/Ph[n],nac:i/Ph[a]});case 15:w=A.sent;try{x=w.properties&&JSON.parse(w.properties),e(au(x))}catch(I){Zr.error("Error during parsing macromolecule properties: ",I),e(au(void 0))}case 17:case"end":return A.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()},pu="Other",mu=function(e,r){var n,a=e==null||(n=e.monomerCount)===null||n===void 0?void 0:n[r];return a&&Object.keys(a).length>0},b_=M("div",{target:"eifx56c28"})(function(t){var e=t.hasError;return{width:"100%",height:e?"124px":"177px",position:"relative",backgroundColor:"white",padding:"2px 0",borderRadius:"8px 8px",overflow:"hidden",boxShadow:"0px 2px 5px rgba(103, 104, 132, 0.15)"}},""),x_=M("div",{target:"eifx56c27"})(function(){return{display:"flex"}},""),w_=M("div",{target:"eifx56c26"})(function(){return{flex:1,display:"flex",justifyContent:"center"}},""),C_=M(de,{target:"eifx56c25"})(function(){return{display:"flex",alignItems:"center",width:"12px",height:"12px",padding:"2px 6px",cursor:"pointer"}},""),M_=M("div",{target:"eifx56c24"})(function(){return{display:"flex",height:"25px",alignItems:"center",padding:"0 8px"}},""),S_=M("div",{target:"eifx56c23"})(function(){return{display:"flex",alignItems:"center",fontSize:"14px",fontWeight:"700",padding:"0 8px",color:"#585858"}},""),A_=M("div",{target:"eifx56c22"})(function(){return{display:"flex",alignItems:"center",height:"24px",borderLeft:"1px solid #CAD3DD",color:"#585858"}},""),I_=M("div",{target:"eifx56c21"})(function(){return{fontSize:"14px",fontWeight:"700",padding:"0 8px"}},""),P_=M("div",{target:"eifx56c20"})(function(){return{width:"100%",height:"100%",top:"-25px",position:"relative"}},""),a1=M("div",{target:"eifx56c19"})(function(){return{width:"100%",padding:"0 4px 4px"}},""),o1=M("div",{target:"eifx56c18"})(function(){return{display:"flex",width:"100%",height:"74px",flexDirection:"column",justifyContent:"center",alignItems:"center"}},""),i1=M("div",{target:"eifx56c17"})(function(){return{fontSize:"14px"}},""),s1=M("div",{target:"eifx56c16"})(function(){return{fontSize:"12px"}},""),u1=M("div",{target:"eifx56c15"})(function(){return{display:"flex",padding:"4px 0px",height:"32px",gap:"12px"}},""),E_=M("div",{target:"eifx56c14"})(function(){return{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"0 2px"}},""),k_=M("div",{target:"eifx56c13"})(function(){return{height:"90px",backgroundColor:"white",borderRadius:"8px",padding:"5px"}},""),O_=M("div",{target:"eifx56c12"})(function(){return{display:"flex",justifyContent:"space-between"}},""),__=M("div",{target:"eifx56c11"})(function(){return{display:"grid",gridTemplateColumns:"2fr 1fr"}},""),T_=M("div",{target:"eifx56c10"})(function(t){var e=t.disabled;return{display:"flex",alignItems:"center",padding:"0 0 0 6px",pointerEvents:e?"none":"auto",opacity:e?.5:1}},""),N_=M("div",{target:"eifx56c9"})(function(){return{fontSize:"10px",paddingRight:"5px",whiteSpace:"nowrap"}},""),R_=M("div",{target:"eifx56c8"})(function(){return{fontSize:"14px",fontWeight:"700"}},""),D_=M(de,{target:"eifx56c7"})(function(){return{width:"20px",height:"20px"}},""),L_=M("div",{target:"eifx56c6"})(function(){return{display:"flex",alignItems:"center"}},""),l1=M($0,{target:"eifx56c5"})(function(){return{position:"relative",padding:"0 0 0 5px",zIndex:1}},""),c1="text-input-field-input",j_=M(K0,{target:"eifx56c4"})(function(){return H({margin:0},".".concat(c1),{width:"60px","::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0},"::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0},MozAppearance:"textfield"})},""),q_=M("div",{target:"eifx56c3"})(function(){return{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:"4px 6px",width:"100%",backgroundColor:"white",borderRadius:"8px",padding:"6px",height:"90px",alignContent:"flex-start"}},""),F_=M("div",{target:"eifx56c2"})("display:flex;position:relative;justify-content:space-between;background-color:#eff2f5;padding:4px 6px;font-weight:500;font-size:12px;border-radius:2px;min-width:50px;flex:1;opacity:",function(t){var e=t.disabled;return e?.4:1},";&:after{content:'';position:absolute;bottom:0;left:0;width:15px;height:2px;background:",function(t){var e,r=t.theme,n=t.monomerShortName,a=t.isPeptide,o=a?r.ketcher.peptide.color:r.ketcher.monomer.color;return((e=o[n])===null||e===void 0?void 0:e.regular)||r.ketcher.monomer.color.default.regular},";border-radius:0 0 0 2px;}"),B_=M("div",{target:"eifx56c1"})(function(){return{fontWeight:"700"}},""),d1=function(e){var r=e.isPeptide?R1:D1,n=r.map(function(a){return[a,e.monomerCount[a]||0]});return n.push([pu,e.monomerCount[pu]||0]),n.sort(function(a,o){return a[0]===pu?1:a[0].localeCompare(o[0])}),v(q_,{children:eC(n,function(a){var o=L(a,2),i=o[0],s=o[1];return E(F_,{monomerShortName:i,isPeptide:e.isPeptide,disabled:s===0,children:[v(B_,{children:i}),v("div",{children:s})]},i)})})},dr=function(e){var r;return E(T_,{disabled:e.disabled,children:[E(N_,{children:[e.name,e.value!==void 0&&":"]}),e.onChangeValue?v(j_,{value:(r=e.value)!==null&&r!==void 0?r:"",id:"macromolecule-property-".concat(e.name),type:"number",min:0,inputClassName:c1,onChange:function(a){var o;return e==null||(o=e.onChangeValue)===null||o===void 0?void 0:o.call(e,Number(a))}}):v(R_,{children:e.value}),e.hint&&v(L_,{title:e.hint,children:v(D_,{name:"about"})}),e.options&&e.selectedOption&&e.onChangeOption&&v(l1,{options:e.options.map(function(n){return{id:n,label:n}}),currentSelection:e.selectedOption,selectionHandler:e.onChangeOption})]})},z_=function(e){var r=e.part,n=r.match(/^([A-Za-z]+)(\d+)$/);if(!n)return r;var a=L(n,3);a[0];var o=a[1],i=a[2];return E("span",{children:[o,v("sub",{children:i})," "]})},$_=M("svg",{target:"eifx56c0"})(function(){return{width:"100%",height:"100%"}},"");function H_(t,e,r){var n=t.length;if(r>=n||r===0)return{xs:t,ys:e};for(var a=[t[0]],o=[e[0]],i=(n-2)/(r-2),s=0,u=0;u<r-2;u++){for(var l=Math.floor((u+1)*i)+1,c=Math.floor((u+2)*i)+1,d=l,f=c,h=0,p=0,m=f-d,y=d;y<f;y++)h+=t[y],p+=e[y];h/=m,p/=m;for(var g=Math.floor(u*i)+1,b=Math.floor((u+1)*i)+1,w=-1,x=g,C=g;C<b;C++){var A=Math.abs((t[s]-h)*(e[C]-e[s])-(t[s]-t[C])*(p-e[s]));A>w&&(w=A,x=C)}a.push(t[x]),o.push(e[x]),s=x}return a.push(t[n-1]),o.push(e[n-1]),{xs:a,ys:o}}var U_=function(e){var r=e.data,n=H_(r.map(function(o,i){return i+1}),r,100),a=S.useRef(null);return S.useEffect(function(){if(!(!n.xs.length||!a.current)){var o=a.current.width.baseVal.value,i=a.current.height.baseVal.value,s={top:10,right:10,bottom:20,left:30};Br(a.current).selectAll("*").remove();var u=qu().domain([0,n.xs.length-1]).range([s.left,o-s.right]),l=qu().domain([0,1]).range([i-s.bottom,s.top]),c=hI().x(function(m,y){return u(y)}).y(function(m){return l(m)}).curve(Kg),d=Math.floor(n.xs.length*20/100),f=Br(a.current),h=gS(u).tickValues([d,n.xs.length-1-d]).tickFormat(function(m){return n.xs[Number(m)]});f.append("g").attr("transform","translate(0,".concat(i-s.bottom,")")).call(h).call(function(m){return m.select(".domain").remove()}).call(function(m){return m.selectAll("line").attr("stroke","#CAD3DD").attr("y1",-i)}).call(function(m){return m.selectAll("text").attr("font-size","8px")});var p=yS(l).tickValues([0,.5,1]).tickFormat(Yl(".1f"));f.append("g").attr("transform","translate(".concat(s.left,",0)")).call(p).call(function(m){return m.select(".domain").remove()}).call(function(m){m.selectAll("line").each(function(y,g,b){y===.5?Br(b[g]).attr("x1",o).attr("stroke","#CAD3DD").attr("stroke-dasharray",2):Br(b[g]).remove()})}).call(function(m){return m.selectAll("text").attr("font-size","8px")}),f.append("path").datum(n.ys).attr("fill","none").attr("stroke","#167782").attr("stroke-width",1).attr("d",c)}},[r]),v($_,{ref:a})},G_=function(e){return e.isError?E(o1,{children:[v(i1,{children:"No Data Available"}),v(s1,{children:"Select monomer, chain or part of a chain"})]}):E(a1,{children:[E(__,{children:[E(u1,{children:[v(dr,{name:"Isoelectric Point",value:ge.isNumber(e.macromoleculesProperties.pKa)?qn(e.macromoleculesProperties.pKa,2):"–",hint:"The isoelectric point is calculated as the median of all pKa values for the structure."}),v(dr,{name:"Extinction Coef.(1/Mcm)",value:ge.isNumber(e.macromoleculesProperties.extinctionCoefficient)?qn(e.macromoleculesProperties.extinctionCoefficient):"–",hint:"The extinction coefficient for wavelength of 280nm is calculated using the method from Gill, S.C. and von Hippel, P.H. (1989). Only amino acid natural analogues are used in the calculation."})]}),v(dr,{name:"Hydrophobicity"})]}),E(E_,{children:[e.macromoleculesProperties.monomerCount.peptides&&v(d1,{monomerCount:e.macromoleculesProperties.monomerCount.peptides,isPeptide:!0}),v(k_,{children:e.macromoleculesProperties.hydrophobicity&&v(U_,{data:e.macromoleculesProperties.hydrophobicity})})]})]})},Lp=function(e){return!/[^0.,]/.test(String(e))},W_=function(e){var r=ne(),n=T(Zl),a=T(Ql),o=T(Xl),i=T(Jl),s=function(f){r(CI(f))},u=function(f){r(MI(f))},l=function(f){r(SI(f.toString()))},c=function(f){r(AI(f.toString()))};return e.isError?E(o1,{children:[v(i1,{children:"No Data Available"}),v(s1,{children:"Select a nucleotide/nucleoside, chain or part of a chain containing nucleotides/nucleosides"})]}):E(a1,{children:[E(O_,{children:[ge.isNumber(e.macromoleculesProperties.Tm)?v(dr,{name:"Melting Temp. (°C)",value:qn(e.macromoleculesProperties.Tm,1),hint:"The melting temperature is calculated using the method from Khandelwal G. and Bhyravabhotla J. (2010). Only base natural analogues are used in the calculation."}):v("div",{}),E(u1,{children:[v(dr,{name:"[Unipositive Ions]",value:o,options:["nM","μM","mM"],selectedOption:n,disabled:!ge.isNumber(e.macromoleculesProperties.Tm)&&!Lp(o),onChangeOption:s,onChangeValue:l}),v(dr,{name:"[Oligonucleotides]",value:i,options:["nM","μM","mM"],selectedOption:a,disabled:!ge.isNumber(e.macromoleculesProperties.Tm)&&!Lp(i),onChangeOption:u,onChangeValue:c})]})]}),e.macromoleculesProperties.monomerCount.nucleotides&&v(d1,{monomerCount:e.macromoleculesProperties.monomerCount.nucleotides})]})},Ft;(function(t){t[t.PEPTIDES=0]="PEPTIDES",t[t.RNA=1]="RNA",t[t.NO_TAB=-1]="NO_TAB"})(Ft||(Ft={}));var qe;(function(t){t.Da="Da",t.kDa="kDa",t.MDa="MDa"})(qe||(qe={}));var V_=H(H(H({},qe.Da,1),qe.kDa,1e3),qe.MDa,1e6),jp=function(e){return ge.isNumber(e)?e<1e3?qe.Da:e<1e6?qe.kDa:qe.MDa:qe.Da},ar,K_=function(){var e=ne(),r=T(oe),n=T(OI),a=T(Zl),o=T(Ql),i=T(Xl),s=T(Jl),u=n?.[0],l=S.useState(Ft.PEPTIDES),c=L(l,2),d=c[0],f=c[1],h=S.useState(jp(u?.mass)),p=L(h,2),m=p[0],y=p[1],g=T(Xg),b=n1(),w=!g,x=S.useRef(b),C=S.useCallback(ge.debounce(function(D){x.current(D)},500),[]);S.useEffect(function(){x.current=function(D){b(D)}},[b]),S.useEffect(function(){return ar&&r!==null&&r!==void 0&&r.events.selectEntities.hasHandler(ar)&&r?.events.selectEntities.remove(ar),ar=function(){C(w)},r?.events.selectEntities.add(ar),function(){r?.events.selectEntities.remove(ar)}},[C,r,w]),S.useEffect(function(){C(w)},[a,o,i,s,w,C]),S.useEffect(function(){f(mu(u,"nucleotides")?Ft.RNA:Ft.PEPTIDES),y(jp(u?.mass))},[u]);var A=function(F,q){f(q)},I=function(){e(wI(!1))},k=function(F){y(F)},O=!u||n.length>1,_=O||!mu(u,"peptides"),P=O||!mu(u,"nucleotides"),R=S.useMemo(function(){return u!=null&&u.grossFormula?v(S_,{children:u?.grossFormula.split(" ").map(function(D,F){return v(z_,{part:D},F)})}):null},[u?.grossFormula]),N=S.useMemo(function(){return u!=null&&u.mass?E(Z,{children:[v(I_,{children:qn(u?.mass/V_[m],3)})," "]}):null},[u?.mass,m]);return g?E(b_,{hasError:d===Ft.PEPTIDES&&_||d===Ft.RNA&&P,children:[E(x_,{children:[v(w_,{children:E("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v("path",{d:"M2 6H14",stroke:"#333333"}),v("path",{d:"M2 10H14",stroke:"#333333"})]})}),v(C_,{name:"close",onClick:I})]}),E(M_,{children:[R,N&&E(A_,{children:[N,v(l1,{options:[qe.Da,qe.kDa,qe.MDa].map(function(D){return{id:D,label:D}}),currentSelection:m,selectionHandler:k})]})]}),v(P_,{children:v(I0,{selectedTabIndex:d,onChange:A,isLayoutToRight:!0,tabs:[{caption:"Peptides",testId:"peptides-properties-tab",component:G_,props:{macromoleculesProperties:u,isError:_}},{caption:"RNA/DNA",component:W_,testId:"rna-properties-tab",props:{macromoleculesProperties:u,isError:P}}]})})]}):null},we=y1(H1),Y_=function(e){var r=parseInt(e||"");return isNaN(r)?0:r},Z_=function(e,r){if(e===0)return r;var n=me.instance.MINZOOMSCALE*100,a=me.instance.MAXZOOMSCALE*100;return e<n?n:e>a?a:e},Qu=function(e,r){r&&(r.value="".concat(Math.round(e),"%"))},Q_=M(oa,{target:"e1pc97tg0"})(function(t){var e=t.theme,r=t.isActive;return{width:"28px",height:"28px",backgroundColor:r?e.ketcher.color.button.group.active:"white",margin:"2px",padding:"0",borderRadius:"4px",outline:"none",":hover":{backgroundColor:r?e.ketcher.color.button.group.hover:"white"},":hover svg":{fill:r?"white":e.ketcher.color.button.group.active}}},""),X_=function(){var e=ne(),r=T(Xg),n=n1(),a=function(){var o=ta(ke.mark(function i(){var s;return ke.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=!r,l.next=3,n(s);case 3:e(Zg({})),fc();case 5:case"end":return l.stop()}},i)}));return function(){return o.apply(this,arguments)}}();return v(Q_,{isActive:r,onClick:a,title:"Calculate properties (".concat(we.toggleMacromoleculesPropertiesVisibility,")"),"data-testid":"calculate-macromolecule-properties-button",children:v("svg",{width:"15",height:"16",viewBox:"0 0 15 16",xmlns:"http://www.w3.org/2000/svg",fill:r?"white":"#333333",children:v("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.87727 1.65517H9.03053V4.46737L9.42288 5.12973C9.76799 5.04496 10.1287 5 10.5 5C12.9853 5 15 7.01472 15 9.5C15 10.6812 14.5449 11.7562 13.8004 12.559C14.4936 14.1572 13.3016 16 11.456 16H2.54694C0.627617 16 -0.60048 14.0008 0.302223 12.3451C1.6087 9.94883 3.5345 6.39671 4.51457 4.49368V1.65517H3.66783V0H9.87727V1.65517ZM12.2962 13.6272C11.746 13.867 11.1385 14 10.5 14C8.01472 14 6 11.9853 6 9.5C6 7.98987 6.74386 6.65348 7.88515 5.83725L7.33705 4.91194V1.65517H6.20806V4.88502L6.11866 5.05976C5.15873 6.93619 3.14099 10.658 1.79676 13.1235C1.49524 13.6765 1.9056 14.3448 2.54694 14.3448H11.456C11.9075 14.3448 12.2417 14.0139 12.2962 13.6272ZM13.5375 9.5C13.5375 11.1776 12.1776 12.5375 10.5 12.5375C8.82244 12.5375 7.4625 11.1776 7.4625 9.5C7.4625 7.82243 8.82244 6.4625 10.5 6.4625C12.1776 6.4625 13.5375 7.82243 13.5375 9.5Z"})})})};function J_(){var t=ne(),e=T(Ma),r=T(oe),n=T(it),a=S.useState([]),o=L(a,2),i=o[0],s=o[1],u=S.useState(!1),l=L(u,2),c=l[0],d=l[1],f=S.useState(),h=L(f,2),p=h[0],m=h[1],y=[e],g=n;S.useEffect(function(){var w=function(C){s(C),C.length&&!At(C)&&(d(!1),D3(C)?m("antisenseDnaStrand"):L3(C)?m("antisenseRnaStrand"):(m("antisenseStrand"),d(!0)))};return r?.events.selectEntities.add(w),function(){r?.events.selectEntities.remove(w)}},[r]);var b=function(x){X0[x]?t(cr(x)):x==="undo"||x==="redo"?r.events.selectHistory.dispatch(x):x==="clear"?(r.events.selectTool.dispatch([x]),t(wt("select-rectangle")),r.events.selectTool.dispatch(["select-rectangle"]),n&&Xn(t,r)):(x==="antisenseRnaStrand"||x==="antisenseDnaStrand")&&r.events.createAntisenseChain.dispatch(x==="antisenseDnaStrand")};return E(Y,{onItemClick:b,activeMenuItems:y,isHorizontal:!0,children:[E(Y.Group,{isHorizontal:!0,divider:!0,children:[v(Y.Item,{itemId:"clear",title:"Clear Canvas (".concat(we.clear,")"),testId:"clear-canvas"}),v(Y.Item,{itemId:"open",title:"Open...",disabled:g,testId:"open-file-button"}),v(Y.Item,{itemId:"save",title:"Save as...",testId:"save-file-button"})]}),E(Y.Group,{isHorizontal:!0,divider:!0,children:[v(Y.Item,{itemId:"undo",title:"Undo (".concat(we.undo,")"),disabled:g,testId:"undo"}),v(Y.Item,{itemId:"redo",title:"Redo (".concat(we.redo,")"),disabled:g,testId:"redo"})]}),E(Y.Group,{isHorizontal:!0,children:[E(Y.Submenu,{disabled:!(i!=null&&i.length)||!Gt(i)||At(i),needOpenByMenuItemClick:c,vertical:!0,layoutModeButton:!0,generalTitle:"Create Antisense Strand",testId:"Create Antisense Strand",activeItem:p,children:[v(Y.Item,{itemId:"antisenseRnaStrand",title:"Create RNA Antisense Strand (".concat(we.createRnaAntisenseStrand,")"),disabled:!(i!=null&&i.length)||!Gt(i)||At(i),testId:"antisenseRnaStrand",type:"button"}),v(Y.Item,{itemId:"antisenseDnaStrand",title:"Create DNA Antisense Strand (".concat(we.createDnaAntisenseStrand,")"),disabled:!(i!=null&&i.length)||!Gt(i)||At(i),testId:"antisenseDnaStrand",type:"button"})]}),v(X_,{})]})]})}function e6(){var t=T(Ma),e=T(oe),r=Er()===fr.sequence,n=[t],a=function(i){e.events.selectTool.dispatch([i,{toolName:i}])};return E(Y,{testId:"left-toolbar",onItemClick:a,activeMenuItems:n,children:[E(Y.Group,{divider:!0,children:[v(Y.Item,{itemId:"hand",title:"Hand Tool (".concat(we.hand,")"),testId:"hand"}),v(Y.Item,{itemId:"select-rectangle",title:"Select Rectangle  (".concat(we.exit,")"),testId:"select-rectangle"}),v(Y.Item,{itemId:"erase",title:"Erase (".concat(we.erase,")"),testId:"erase",disabled:r})]}),v(Y.Group,{children:E(Y.Submenu,{disabled:r,testId:"bonds-drop-down-button",needOpenByMenuItemClick:!1,children:[v(Y.Item,{itemId:"bond-single",title:"Single Bond (1)",testId:"single-bond",disabled:r}),v(Y.Item,{itemId:"bond-hydrogen",title:"Hydrogen Bond (2)",testId:"hydrogen-bond",disabled:r})]})})]})}var t6=M("div",{target:"e1aw4j3q7"})({name:"bjn8wh",styles:"position:relative"}),r6=M(aa,{target:"e1aw4j3q6"})("display:flex;color:",function(t){var e=t.theme;return e.ketcher.color.dropdown.primary},";padding-right:0;padding-left:0;& svg{margin-left:2px;width:1rem;height:1rem;}"),n6=M("span",{target:"e1aw4j3q5"})({name:"td41hq",styles:"width:35px"}),a6=M(py,{target:"e1aw4j3q4"})("& .MuiPopover-paper{padding:8px;width:175px;border:none;border-radius:0px 0px 4px 4px;box-shadow:",function(t){var e=t.theme;return e.ketcher.shadow.regular},";box-sizing:border-box;}"),o6=M("div",{target:"e1aw4j3q3"})({name:"5s1n17",styles:"display:flex;flex-direction:column;white-space:nowrap;word-break:keep-all;background:white"}),gu=M(aa,{target:"e1aw4j3q2"})("display:flex;justify-content:space-between;font-size:",function(t){var e=t.theme;return e.ketcher.font.size.regular},";line-height:14px;padding:7px 8px;text-transform:none;color:",function(t){var e=t.theme;return e.ketcher.color.dropdown.primary},";"),yu=M("span",{target:"e1aw4j3q1"})({name:"btyqtq",styles:"color:#cad3dd"}),i6=M("input",{target:"e1aw4j3q0"})("border:1px solid #cad3dd;border-radius:4px;padding:3px 8px;color:",function(t){var e=t.theme;return e.ketcher.color.text.light},";font-size:",function(t){var e=t.theme;return e.ketcher.font.size.medium},";line-height:16px;margin-bottom:8px;&:hover{border-color:",function(t){var e=t.theme;return e.ketcher.color.input.border.hover},";}&:active,&:focus{border-color:",function(t){var e=t.theme;return e.ketcher.outline.selected.color},";outline:none;}&::after,&::before{display:none;}"),s6=function(e){var r=e.onZoomSubmit,n=e.currentZoom,a=e.inputRef,o=S.useCallback(function(s){var u=a.current;if(u){var l=[we["zoom-out"],we["zoom-in"]];l.includes(s.key)||s.nativeEvent.stopImmediatePropagation(),s.key==="Enter"&&(r(),u.select())}},[r,a,we]),i=function(u){var l=u.target;l.select()};return S.useEffect(function(){var s=a.current;Qu(n,s),document.activeElement===s&&s?.select()},[n,a]),S.useEffect(function(){var s=a.current;s?.focus(),s?.select()},[a]),v(i6,{ref:a,"data-testid":"zoom-value",onFocus:i,onKeyDown:o})},u6=function(){var e=S.useState(!1),r=L(e,2),n=r[0],a=r[1],o=S.useState(100),i=L(o,2),s=i[0],u=i[1],l=S.useRef(null),c=S.useRef(null);S.useEffect(function(){var g;me===null||me===void 0||(g=me.instance)===null||g===void 0||g.subscribeOnZoomEvent(function(){var b;u(Math.round((me===null||me===void 0||(b=me.instance)===null||b===void 0?void 0:b.getZoomLevel())*100))})},[me===null||me===void 0?void 0:me.instance]);var d=S.useCallback(function(){var g=c.current;if(g){var b=Y_(g.value);if(b&&b!==s){var w=Z_(b,s);Qu(w,g),me.instance.zoomTo(w/100)}else Qu(s,g)}},[s]),f=function(){a(!1)},h=function(){a(!0)},p=function(){me.instance.zoomIn()},m=function(){me.instance.zoomOut()},y=function(){me.instance.resetZoom()};return E(t6,{ref:l,children:[E(r6,{onClick:h,"data-testid":"zoom-selector",children:[E(n6,{"data-testid":"zoom-input",children:[s,"%"]}),v(de,{name:"chevron"})]}),v(a6,{open:n,onClose:f,anchorEl:l.current,container:document.querySelector(Yt),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:E(o6,{children:[v(s6,{onZoomSubmit:d,inputRef:c,currentZoom:s}),E(gu,{"data-testid":"zoom-out",title:"Zoom Out",onClick:m,children:[v("span",{children:"Zoom out"}),v(yu,{children:we["zoom-minus"]})]}),E(gu,{"data-testid":"zoom-in",title:"Zoom In",onClick:p,children:[v("span",{children:"Zoom in"}),v(yu,{children:we["zoom-plus"]})]}),E(gu,{"data-testid":"zoom-default",title:"Zoom 100%",onClick:y,children:[v("span",{children:"Zoom 100%"}),v(yu,{children:we["zoom-reset"]})]})]})})]})},l6=function(){var e=T(oe),r=[{name:"edit_connection_points",title:"Edit Connection Points...",disabled:!1,hidden:function(i){var s=i.props;return!(s!=null&&s.polymerBondRenderer)}}],n=function(i){var s=i.id,u=i.props;switch(s){case"edit_connection_points":{var l=u.polymerBondRenderer.polymerBond;e.events.openMonomerConnectionModal.dispatch({firstMonomer:l.firstMonomer,secondMonomer:l.secondMonomer,polymerBond:l,isReconnectionDialog:!0}),e.events.startNewSequence.dispatch(u.sequenceItemRenderer);break}}},a=document.querySelector(Yt);return a?ia.createPortal(v(Ea,{id:et.FOR_POLYMER_BOND,handleMenuChange:n,menuItems:r}),a):null};function qp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function c6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qp(Object(r),!0).forEach(function(n){H(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var d6=[bc.bondSingle,bc.selectRectangle],f6=function(){var e=T(oe),r=T(Ma),n=T(kI),a=ne(),o=T(Ia),i=T(Qg),s=S.useCallback(function(){a(Bu(e?.monomersLibrary))},[e]);S.useEffect(function(){return e?.events.updateMonomersLibrary.add(s),function(){e?.events.updateMonomersLibrary.remove(s)}},[e]),S.useEffect(function(){var h=function(m){var y=L(m,1),g=y[0];g!==r&&a(wt(g))};return e&&(e.events.error.add(function(p){a(Rh(p))}),e.events.openErrorModal.add(function(p){a(on(p))}),a(wt("select-rectangle")),e.events.selectTool.dispatch(["select-rectangle"]),e.events.openMonomerConnectionModal.add(function(p){return a(cr({name:"monomerConnection",additionalProps:p}))}),e.events.openConfirmationDialog.add(function(p){return a(cr({name:"confirmationDialog",additionalProps:p}))}),e.events.selectTool.add(h)),function(){a(wt(null)),e?.events.selectTool.remove(h)}},[e]);var u=S.useCallback(function(h){return a(gr(h))},[a]),l=S.useCallback(ge.debounce(function(h){return u(h)},500),[u]);S.useEffect(function(){var h=function(m){var y=L(m,1),g=y[0];g!==r&&a(wt(g))};return e&&(e.events.error.add(function(p){a(Rh(p))}),e.events.openErrorModal.add(function(p){a(on(p))}),a(wt("select-rectangle")),e.events.selectTool.dispatch(["select-rectangle"]),e.events.openMonomerConnectionModal.add(function(p){return a(cr({name:"monomerConnection",additionalProps:p}))}),e.events.selectTool.add(h)),function(){a(wt(null)),e?.events.selectTool.remove(h)}},[e]);var c=S.useCallback(function(h,p){var m={type:he.Bond,polymerBond:h,style:p};l(m)},[l]),d=S.useCallback(function(h){var p,m,y;if(h.buttons!==1&&h.buttons!==2){if(n){h.preventDefault(),h.stopPropagation();return}var g=(p=h.target.__data__)===null||p===void 0?void 0:p.polymerBond;if(!(g&&!g.finished||g instanceof b1)){if(g){var b=hy(g,h.target.getBoundingClientRect());c(g,b);return}var w=(m=h.target.__data__)===null||m===void 0?void 0:m.node,x=((y=h.target.__data__)===null||y===void 0?void 0:y.monomer)||w?.monomer;if(!(w&&w instanceof Bp)){if(x instanceof tt){var C={type:he.AmbiguousMonomer,monomer:x.variantMonomerItem,target:h.target};l(C);return}var A=x.monomerItem,I=c6({},x.attachmentPointsToBonds),k=w instanceof Kr||w instanceof Yr;if(k){var O,_=w instanceof Kr?[w.sugar.monomerItem,w.rnaBase.monomerItem,(O=w.phosphate)===null||O===void 0?void 0:O.monomerItem]:[w.sugar.monomerItem,w.rnaBase.monomerItem];if(w.rnaBase instanceof tt){var P={type:he.AmbiguousMonomer,monomer:w.rnaBase.variantMonomerItem,presetMonomers:_,target:h.target};l(P);return}var R=o.find(function(q){var z=[q.sugar,q.base,q.phosphate];return _.every(function($,G){var pe;return $?.props.Name===((pe=z[G])===null||pe===void 0?void 0:pe.props.Name)})}),N;w instanceof Yr?N=Qe.ChainEnd:w.firstMonomerInNode.R1AttachmentPoint!==void 0?N=Qe.ChainStart:N=Qe.ChainMiddle;var D={type:he.Preset,monomers:_,name:R?.name,idtAliases:R?.idtAliases,position:N,target:h.target};l(D);return}var F={type:he.Monomer,monomer:A,attachmentPointsToBonds:I,target:h.target};l(F)}}}},[c,l,o,n]),f=S.useCallback(function(){l.cancel(),a(gr(void 0))},[l,a]);return S.useEffect(function(){e?.events.mouseOverMonomer.add(d),e?.events.mouseLeaveMonomer.add(f),e?.events.mouseOverSequenceItem.add(d),e?.events.mouseLeaveSequenceItem.add(f),e?.events.mouseOverPolymerBond.add(d),e?.events.mouseLeavePolymerBond.add(f);var h=function(m){f();var y=m.buttons===1;(!y||!d6.includes(r))&&d(m)};return e?.events.mouseOnMoveMonomer.add(h),e?.events.mouseOnMoveSequenceItem.add(h),e?.events.mouseOnMovePolymerBond.add(h),window.addEventListener("hidePreview",f),function(){e?.events.mouseOverMonomer.remove(d),e?.events.mouseLeaveMonomer.remove(f),e?.events.mouseOverSequenceItem.remove(d),e?.events.mouseLeaveSequenceItem.remove(f),e?.events.mouseOverPolymerBond.remove(d),e?.events.mouseLeavePolymerBond.remove(f),e?.events.mouseOnMoveMonomer.remove(h),e?.events.mouseOnMoveSequenceItem.remove(h),e?.events.mouseOnMovePolymerBond.remove(h),window.removeEventListener("hidePreview",f)}},[e,r,d,f]),S.useEffect(function(){i||e?.events.resetSequenceEditMode.dispatch()},[i]),v(Z,{})},v6=function(e){var r=e.selectedMonomers,n=T(oe),a=[{name:"copy",title:"Copy"},{name:"create_antisense_rna_chain",title:"Create Antisense RNA Strand",separator:!1,disabled:At(r),hidden:function(u){var l=u.props;return!(l!=null&&l.selectedMonomers)||!Gt(l?.selectedMonomers)}},{name:"create_antisense_dna_chain",title:"Create Antisense DNA Strand",separator:!0,disabled:At(r),hidden:function(u){var l=u.props;return!(l!=null&&l.selectedMonomers)||!Gt(l?.selectedMonomers)}},{name:"delete",title:"Delete"}],o=function(u){var l=u.id;switch(l){case"copy":n.events.copySelectedStructure.dispatch();break;case"create_antisense_rna_chain":n.events.createAntisenseChain.dispatch(!1);break;case"create_antisense_dna_chain":n.events.createAntisenseChain.dispatch(!0);break;case"delete":n.events.deleteSelectedStructure.dispatch();break}},i=document.querySelector(Yt);return i&&ia.createPortal(v(Ea,{id:et.FOR_SELECTED_MONOMERS,handleMenuChange:o,menuItems:a}),i)},h6=M(oa,{target:"e1846tr80"})(function(t){var e=t.theme,r=t.isActive;return{width:"40px",height:"31px",backgroundColor:r?e.ketcher.color.button.group.active:"white",marginRight:"8px",border:r?e.ketcher.outline.selected.color:e.ketcher.outline.small,borderRadius:"4px",outline:"none",":hover":{backgroundColor:r?e.ketcher.color.button.group.hover:"white"},":hover svg":{fill:r?"white":e.ketcher.color.button.group.active}}},""),p6=function(){var e=T(oe),r=S.useState(!0),n=L(r,2),a=n[0],o=n[1],i=Er(),s=i===fr.sequence,u=T(Qg),l=function(){var d=!a;o(d),e.events.toggleIsSequenceSyncEditMode.dispatch(d),fc()};return S.useEffect(function(){s&&u&&e.events.toggleIsSequenceSyncEditMode.dispatch(a)},[s,u]),s&&u?v(Z,{children:v(h6,{isActive:a,onClick:l,"data-testid":"sync_sequence_edit_mode","data-isActive":a,children:E("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:a?"white":"#333333",children:[v("rect",{x:"1",y:"1.5",width:"22",height:"2",rx:"1"}),v("rect",{x:"2.5",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 2.5 1.5)"}),v("rect",{x:"9.33333",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 9.33333 1.5)"}),v("rect",{x:"16.1667",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 16.1667 1.5)"}),v("rect",{x:"23",y:"1.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(90 23 1.5)"}),v("path",{d:"M2.16873 14.2715C2.08963 14.3652 2.02518 14.4253 1.97537 14.4517C1.9285 14.478 1.8699 14.4912 1.79959 14.4912C1.66189 14.4912 1.55057 14.4458 1.46561 14.355C1.38357 14.2612 1.34256 14.1074 1.34256 13.8936V13.2871C1.34256 13.0703 1.38357 12.9165 1.46561 12.8257C1.55057 12.7319 1.66189 12.6851 1.79959 12.6851C1.90506 12.6851 1.99295 12.7129 2.06326 12.7686C2.1365 12.8242 2.19217 12.918 2.23025 13.0498C2.26834 13.1787 2.30789 13.2666 2.34891 13.3135C2.43387 13.4043 2.58475 13.4966 2.80154 13.5903C3.01834 13.6841 3.25564 13.731 3.51346 13.731C3.91482 13.731 4.24441 13.6372 4.50223 13.4497C4.66629 13.3354 4.74832 13.1948 4.74832 13.0278C4.74832 12.9165 4.70877 12.8125 4.62967 12.7158C4.55057 12.6162 4.42166 12.5342 4.24295 12.4697C4.12576 12.4258 3.86355 12.3657 3.45633 12.2896C2.96414 12.1987 2.59207 12.0889 2.34012 11.96C2.08816 11.8311 1.88895 11.6494 1.74246 11.415C1.59598 11.1807 1.52273 10.9272 1.52273 10.6548C1.52273 10.2241 1.70291 9.84766 2.06326 9.52539C2.42361 9.2002 2.89236 9.0376 3.46951 9.0376C3.70096 9.0376 3.91482 9.06396 4.11111 9.1167C4.31033 9.1665 4.49051 9.24414 4.65164 9.34961C4.76883 9.23535 4.88602 9.17822 5.0032 9.17822C5.13504 9.17822 5.24197 9.2251 5.324 9.31885C5.40897 9.40967 5.45145 9.56201 5.45145 9.77588V10.4526C5.45145 10.6694 5.40897 10.8247 5.324 10.9185C5.24197 11.0093 5.13504 11.0547 5.0032 11.0547C4.89188 11.0547 4.7952 11.021 4.71316 10.9536C4.64871 10.9038 4.60037 10.8042 4.56814 10.6548C4.53592 10.5054 4.4949 10.3984 4.4451 10.334C4.36014 10.2227 4.2327 10.1289 4.06277 10.0527C3.89285 9.97656 3.69656 9.93848 3.47391 9.93848C3.14871 9.93848 2.8909 10.0146 2.70047 10.167C2.51297 10.3164 2.41922 10.4731 2.41922 10.6372C2.41922 10.7485 2.4573 10.8569 2.53348 10.9624C2.61258 11.0649 2.72684 11.1455 2.87625 11.2041C2.97586 11.2451 3.25564 11.311 3.71561 11.4019C4.1785 11.4927 4.53299 11.5923 4.77908 11.7007C5.02811 11.8091 5.23465 11.979 5.39871 12.2104C5.56277 12.4419 5.6448 12.7173 5.6448 13.0366C5.6448 13.4819 5.48807 13.8379 5.17459 14.1045C4.75857 14.4561 4.2283 14.6318 3.58377 14.6318C3.33475 14.6318 3.09158 14.6011 2.85428 14.5396C2.6199 14.481 2.39139 14.3916 2.16873 14.2715ZM9.615 12.2632V13.5991H10.2214C10.4382 13.5991 10.5921 13.6416 10.6829 13.7266C10.7766 13.8086 10.8235 13.917 10.8235 14.0518C10.8235 14.1836 10.7766 14.292 10.6829 14.377C10.5921 14.459 10.4382 14.5 10.2214 14.5H8.10768C7.89381 14.5 7.74 14.459 7.64625 14.377C7.55543 14.292 7.51002 14.1821 7.51002 14.0474C7.51002 13.9155 7.55543 13.8086 7.64625 13.7266C7.74 13.6416 7.89381 13.5991 8.10768 13.5991H8.71412V12.2632L7.22438 10.0747C7.02516 10.0747 6.87867 10.0322 6.78492 9.94727C6.6941 9.8623 6.64869 9.75391 6.64869 9.62207C6.64869 9.4873 6.6941 9.37891 6.78492 9.29688C6.87867 9.21191 7.03395 9.16943 7.25074 9.16943L8.06813 9.17383C8.28492 9.17383 8.43873 9.21484 8.52955 9.29688C8.6233 9.37891 8.67018 9.4873 8.67018 9.62207C8.67018 9.82422 8.55152 9.9751 8.31422 10.0747L9.16676 11.3315L10.0017 10.0747C9.86988 10.0249 9.77613 9.96191 9.72047 9.88574C9.6648 9.80957 9.63697 9.72168 9.63697 9.62207C9.63697 9.4873 9.68238 9.37891 9.7732 9.29688C9.86695 9.21484 10.0222 9.17236 10.239 9.16943L11.0872 9.17383C11.304 9.17383 11.4578 9.21484 11.5486 9.29688C11.6423 9.37891 11.6892 9.4873 11.6892 9.62207C11.6892 9.75684 11.6423 9.8667 11.5486 9.95166C11.4548 10.0337 11.3025 10.0747 11.0916 10.0747L9.615 12.2632ZM13.7082 10.8745V13.5991H14.0334C14.2502 13.5991 14.404 13.6416 14.4949 13.7266C14.5886 13.8086 14.6355 13.917 14.6355 14.0518C14.6355 14.1836 14.5886 14.292 14.4949 14.377C14.404 14.459 14.2502 14.5 14.0334 14.5H12.8513C12.6345 14.5 12.4792 14.459 12.3855 14.377C12.2947 14.292 12.2493 14.1821 12.2493 14.0474C12.2493 13.9185 12.2947 13.8115 12.3855 13.7266C12.4763 13.6416 12.6169 13.5991 12.8074 13.5991V10.0747H12.6667C12.4499 10.0747 12.2947 10.0337 12.2009 9.95166C12.1101 9.8667 12.0647 9.75684 12.0647 9.62207C12.0647 9.4873 12.1101 9.37891 12.2009 9.29688C12.2947 9.21191 12.4499 9.16943 12.6667 9.16943L13.7082 9.17383L16.011 12.7861V10.0747H15.6858C15.469 10.0747 15.3137 10.0337 15.22 9.95166C15.1291 9.8667 15.0837 9.75684 15.0837 9.62207C15.0837 9.4873 15.1291 9.37891 15.22 9.29688C15.3137 9.21191 15.469 9.16943 15.6858 9.16943L16.8679 9.17383C17.0847 9.17383 17.2385 9.21484 17.3293 9.29688C17.4231 9.37891 17.47 9.4873 17.47 9.62207C17.47 9.75391 17.4246 9.8623 17.3337 9.94727C17.2429 10.0322 17.1038 10.0747 16.9163 10.0747V14.5H16.0242L13.7082 10.8745ZM21.9236 9.40234C21.9792 9.32617 22.0393 9.26904 22.1037 9.23096C22.1711 9.19287 22.2429 9.17383 22.3191 9.17383C22.4509 9.17383 22.5578 9.21924 22.6399 9.31006C22.7248 9.40088 22.7673 9.55469 22.7673 9.77148V10.5361C22.7673 10.7529 22.7248 10.9082 22.6399 11.002C22.5578 11.0928 22.4509 11.1382 22.3191 11.1382C22.1989 11.1382 22.1023 11.1045 22.029 11.0371C21.9558 10.9697 21.9016 10.8438 21.8664 10.6592C21.8459 10.5361 21.8049 10.4409 21.7434 10.3735C21.6233 10.2417 21.4548 10.1362 21.238 10.0571C21.0241 9.97803 20.8088 9.93848 20.592 9.93848C20.3225 9.93848 20.0749 9.99707 19.8493 10.1143C19.6237 10.2314 19.4245 10.4219 19.2517 10.6855C19.0788 10.9492 18.9924 11.2627 18.9924 11.626V12.2104C18.9924 12.644 19.1491 13.0059 19.4626 13.2959C19.779 13.5859 20.217 13.731 20.7766 13.731C21.1106 13.731 21.3933 13.6855 21.6247 13.5947C21.7595 13.542 21.903 13.438 22.0554 13.2827C22.1491 13.189 22.2224 13.1289 22.2751 13.1025C22.3279 13.0732 22.3879 13.0586 22.4553 13.0586C22.5754 13.0586 22.6809 13.104 22.7717 13.1948C22.8625 13.2856 22.9079 13.3926 22.9079 13.5156C22.9079 13.6387 22.8464 13.7705 22.7234 13.9111C22.5446 14.1162 22.3147 14.2773 22.0334 14.3945C21.6555 14.5527 21.238 14.6318 20.781 14.6318C20.2478 14.6318 19.7673 14.522 19.3396 14.3022C18.9939 14.1265 18.6994 13.8496 18.4563 13.4717C18.2131 13.0908 18.0915 12.6763 18.0915 12.228V11.6172C18.0915 11.1484 18.1999 10.7119 18.4167 10.3076C18.6364 9.90039 18.9397 9.58691 19.3264 9.36719C19.7131 9.14746 20.1233 9.0376 20.5569 9.0376C20.8176 9.0376 21.0608 9.06836 21.2863 9.12988C21.5149 9.18848 21.7273 9.2793 21.9236 9.40234Z"}),v("rect",{x:"23",y:"22.5",width:"22",height:"2",rx:"1",transform:"rotate(-180 23 22.5)"}),v("rect",{x:"21.5",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 21.5 22.5)"}),v("rect",{x:"14.6667",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 14.6667 22.5)"}),v("rect",{x:"7.83333",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 7.83333 22.5)"}),v("rect",{x:"1",y:"22.5",width:"5",height:"1.5",rx:"0.75",transform:"rotate(-90 1 22.5)"})]})})}):null},m6=Jp(_P);function C6(t){var e=t.onInit,r=t.theme,n=t.togglerComponent,a=t.monomersLibraryUpdate,o=t.isMacromoleculesEditorTurnedOn,i=S.useRef(null),s=r?ge.merge(qh,r):qh,u=ge.merge(m6,{ketcher:s});return v(vy,{store:OP,children:E(fy,{theme:u,children:[v(cy,{styles:TP}),v(XP,{rootRef:i,isMacromoleculesEditorTurnedOn:o,children:v(e3,{ref:i,className:dy,children:v(g6,{theme:s,togglerComponent:n,monomersLibraryUpdate:a,onInit:e})})})]})})}function g6(t){var e=t.theme,r=t.togglerComponent,n=t.monomersLibraryUpdate,a=t.onInit,o=ne(),i=S.useRef(null),s=T(rP),u=T(oe),l=T(EI),c=a3(),d=S.useState(!1),f=L(d,2),h=f[0],p=f[1],m=QP(),y=S.useState(),g=L(y,2),b=g[0],w=g[1],x=S.useState([]),C=L(x,2),A=C[0],I=C[1],k=An({id:et.FOR_SEQUENCE}),O=k.show,_=An({id:et.FOR_POLYMER_BOND}),P=_.show,R=An({id:et.FOR_SELECTED_MONOMERS}),N=R.show;S.useEffect(function(){return o(bI({theme:e,canvas:i.current,monomersLibraryUpdate:n,onInit:a})),function(){o(xI(null))}},[o]),s3(),S.useEffect(function(){u?.events.rightClickSequence.add(function(q){var z=L(q,2),$=z[0],G=z[1];w(G),window.dispatchEvent(new Event("hidePreview")),o(Yg(!0)),O({event:$,props:{sequenceItemRenderer:$.target.__data__}})}),u?.events.rightClickPolymerBond.add(function(q){var z=L(q,2),$=z[0],G=z[1];P({event:$,props:{polymerBondRenderer:G}})}),u?.events.rightClickSelectedMonomers.add(function(q){var z=L(q,2),$=z[0],G=z[1];I(G),N({event:$,props:{selectedMonomers:G}})}),u?.events.rightClickCanvas.add(function(q){var z=L(q,2),$=z[0],G=z[1];w(G),O({event:$,props:{}})}),u?.events.toggleMacromoleculesPropertiesVisibility.add(function(){o(Zg({}))})},[u]),S.useEffect(function(){return u?.zoomTool.observeCanvasResize(),function(){u?.zoomTool.destroy()}},[u]);var D=function(){o(QI())},F=S.useCallback(function(){p(function(q){return!q})},[]);return E(Z,{children:[E(Te,{children:[E(Te.Top,{shortened:h,"data-testid":"top-toolbar",children:[v(J_,{}),E(t3,{children:[v(p6,{}),v(I3,{}),v(y_,{}),v(r3,{className:m?"toggler-component-wrapper--disabled":"",children:r}),v(h3,{}),v(e1,{}),v(u6,{})]})]}),v(Te.Left,{children:v(e6,{})}),E(Te.Main,{children:[v(f6,{}),E(n3,{id:"polymer-editor-canvas","data-testid":"ketcher-canvas",preserveAspectRatio:"xMidYMid meet",ref:i,width:"100%",height:"100%",style:{overflow:"hidden",overflowClipMargin:"content-box"},children:[E("defs",{children:[v(UO,{}),v(HO,{}),v(GO,{}),v(WO,{}),v(VO,{}),v(KO,{}),v(YO,{}),v(QO,{}),v(ZO,{})]}),v("g",{className:"drawn-structures"}),l&&v("rect",{x:0,y:0,width:"100%",height:"100%",fill:"transparent",pointerEvents:"all"})]}),c&&v(l3,{})]}),v(Te.Right,{hide:h,children:v(pk,{toggleLibraryVisibility:F})}),v(Te.Bottom,{children:v(K_,{})}),v(Te.InsideRoot,{children:h&&v(gk,{onClick:F})})]}),v(g_,{}),v(j3,{selections:b}),v(l6,{}),v(v6,{selectedMonomers:A}),v(FO,{}),v(JO,{}),v(Bb,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!s,onClose:D,autoHideDuration:6e3,children:E(BO,{id:"error-tooltip",children:[v(zO,{"data-testid":"error-tooltip",children:s}),v($O,{testId:"error-tooltip-close",iconName:"close",onClick:D})]})})]})}export{C6 as default};
